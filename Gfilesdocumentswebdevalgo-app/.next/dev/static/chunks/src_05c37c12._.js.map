{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\n/**\n * Merge Tailwind CSS classes with clsx\n */\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\n/**\n * Format bytes to human readable string\n */\nexport function formatBytes(bytes: number, decimals = 2): string {\n  if (bytes === 0) return \"0 Bytes\";\n\n  const k = 1024;\n  const dm = decimals < 0 ? 0 : decimals;\n  const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\"];\n\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\n}\n\n/**\n * Format duration in seconds to mm:ss\n */\nexport function formatDuration(seconds: number): string {\n  const mins = Math.floor(seconds / 60);\n  const secs = Math.floor(seconds % 60);\n  return `${mins}:${secs.toString().padStart(2, \"0\")}`;\n}\n\n/**\n * Format date to locale string\n */\nexport function formatDate(date: Date | string | null): string {\n  if (!date) return \"Never\";\n  const d = typeof date === \"string\" ? new Date(date) : date;\n  return d.toLocaleString();\n}\n\n/**\n * Validate IP address format\n */\nexport function isValidIpAddress(ip: string): boolean {\n  const ipRegex = /^(\\d{1,3}\\.){3}\\d{1,3}$/;\n  if (!ipRegex.test(ip)) return false;\n\n  const parts = ip.split(\".\");\n  return parts.every((part) => {\n    const num = parseInt(part, 10);\n    return num >= 0 && num <= 255;\n  });\n}\n\n/**\n * Generate a random string ID\n */\nexport function generateId(): string {\n  return Math.random().toString(36).substring(2, 15);\n}\n\n/**\n * Delay execution\n */\nexport function delay(ms: number): Promise<void> {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\n\n/**\n * Parse Algo volume string to number\n * e.g., \"Page Volume: 10 (0dB)\" -> 10\n */\nexport function parseAlgoVolume(volumeStr: string): number {\n  const match = volumeStr.match(/Volume:\\s*(\\d+)/);\n  return match ? parseInt(match[1], 10) : 50;\n}\n\n/**\n * Convert volume number to dB string for Algo API\n */\nexport function volumeToDb(volume: number): string {\n  // Algo uses -42dB to 0dB range typically\n  const db = Math.round((volume / 100) * 42 - 42);\n  return `${db}dB`;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;;;AAKO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB;AAKO,SAAS,YAAY,KAAa,EAAE,WAAW,CAAC;IACrD,IAAI,UAAU,GAAG,OAAO;IAExB,MAAM,IAAI;IACV,MAAM,KAAK,WAAW,IAAI,IAAI;IAC9B,MAAM,QAAQ;QAAC;QAAS;QAAM;QAAM;KAAK;IAEzC,MAAM,IAAI,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC,SAAS,KAAK,GAAG,CAAC;IAEhD,OAAO,WAAW,CAAC,QAAQ,KAAK,GAAG,CAAC,GAAG,EAAE,EAAE,OAAO,CAAC,OAAO,MAAM,KAAK,CAAC,EAAE;AAC1E;AAKO,SAAS,eAAe,OAAe;IAC5C,MAAM,OAAO,KAAK,KAAK,CAAC,UAAU;IAClC,MAAM,OAAO,KAAK,KAAK,CAAC,UAAU;IAClC,OAAO,GAAG,KAAK,CAAC,EAAE,KAAK,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;AACtD;AAKO,SAAS,WAAW,IAA0B;IACnD,IAAI,CAAC,MAAM,OAAO;IAClB,MAAM,IAAI,OAAO,SAAS,WAAW,IAAI,KAAK,QAAQ;IACtD,OAAO,EAAE,cAAc;AACzB;AAKO,SAAS,iBAAiB,EAAU;IACzC,MAAM,UAAU;IAChB,IAAI,CAAC,QAAQ,IAAI,CAAC,KAAK,OAAO;IAE9B,MAAM,QAAQ,GAAG,KAAK,CAAC;IACvB,OAAO,MAAM,KAAK,CAAC,CAAC;QAClB,MAAM,MAAM,SAAS,MAAM;QAC3B,OAAO,OAAO,KAAK,OAAO;IAC5B;AACF;AAKO,SAAS;IACd,OAAO,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,SAAS,CAAC,GAAG;AACjD;AAKO,SAAS,MAAM,EAAU;IAC9B,OAAO,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;AACtD;AAMO,SAAS,gBAAgB,SAAiB;IAC/C,MAAM,QAAQ,UAAU,KAAK,CAAC;IAC9B,OAAO,QAAQ,SAAS,KAAK,CAAC,EAAE,EAAE,MAAM;AAC1C;AAKO,SAAS,WAAW,MAAc;IACvC,yCAAyC;IACzC,MAAM,KAAK,KAAK,KAAK,CAAC,AAAC,SAAS,MAAO,KAAK;IAC5C,OAAO,GAAG,GAAG,EAAE,CAAC;AAClB"}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/ui/button.tsx"],"sourcesContent":["import { forwardRef, type ButtonHTMLAttributes } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: \"default\" | \"destructive\" | \"outline\" | \"secondary\" | \"ghost\" | \"link\";\n  size?: \"default\" | \"sm\" | \"lg\" | \"icon\";\n  isLoading?: boolean;\n}\n\nconst Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant = \"default\", size = \"default\", isLoading, children, disabled, ...props }, ref) => {\n    const baseStyles =\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-semibold transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg-primary)] disabled:pointer-events-none disabled:opacity-50\";\n\n    const variants = {\n      default: \"bg-[var(--accent-blue)] text-white hover:bg-[var(--accent-blue)]/90 focus-visible:ring-[var(--accent-blue)]\",\n      destructive: \"bg-[var(--accent-red)] text-white hover:bg-[var(--accent-red)]/90 focus-visible:ring-[var(--accent-red)]\",\n      outline: \"border border-[var(--border-color)] bg-transparent text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)] hover:border-[var(--border-active)] focus-visible:ring-[var(--accent-blue)]\",\n      secondary: \"bg-[var(--bg-tertiary)] text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]/80 focus-visible:ring-[var(--border-active)]\",\n      ghost: \"text-[var(--text-secondary)] hover:bg-[var(--bg-tertiary)] hover:text-[var(--text-primary)] focus-visible:ring-[var(--border-active)]\",\n      link: \"text-[var(--accent-blue)] underline-offset-4 hover:underline focus-visible:ring-[var(--accent-blue)]\",\n    };\n\n    const sizes = {\n      default: \"h-10 px-4 py-2\",\n      sm: \"h-9 rounded-md px-3 text-xs\",\n      lg: \"h-11 rounded-lg px-8\",\n      icon: \"h-10 w-10\",\n    };\n\n    return (\n      <button\n        className={cn(baseStyles, variants[variant], sizes[size], className)}\n        ref={ref}\n        disabled={disabled || isLoading}\n        {...props}\n      >\n        {isLoading ? (\n          <>\n            <svg\n              className=\"mr-2 h-4 w-4 animate-spin\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n            >\n              <circle\n                className=\"opacity-25\"\n                cx=\"12\"\n                cy=\"12\"\n                r=\"10\"\n                stroke=\"currentColor\"\n                strokeWidth=\"4\"\n              />\n              <path\n                className=\"opacity-75\"\n                fill=\"currentColor\"\n                d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n              />\n            </svg>\n            Loading...\n          </>\n        ) : (\n          children\n        )}\n      </button>\n    );\n  }\n);\n\nButton.displayName = \"Button\";\n\nexport { Button };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAQA,MAAM,uBAAS,IAAA,2KAAU,OACvB,CAAC,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,OAAO,SAAS,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IAC9F,MAAM,aACJ;IAEF,MAAM,WAAW;QACf,SAAS;QACT,aAAa;QACb,SAAS;QACT,WAAW;QACX,OAAO;QACP,MAAM;IACR;IAEA,MAAM,QAAQ;QACZ,SAAS;QACT,IAAI;QACJ,IAAI;QACJ,MAAM;IACR;IAEA,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EAAC,YAAY,QAAQ,CAAC,QAAQ,EAAE,KAAK,CAAC,KAAK,EAAE;QAC1D,KAAK;QACL,UAAU,YAAY;QACrB,GAAG,KAAK;kBAER,0BACC;;8BACE,6LAAC;oBACC,WAAU;oBACV,OAAM;oBACN,MAAK;oBACL,SAAQ;;sCAER,6LAAC;4BACC,WAAU;4BACV,IAAG;4BACH,IAAG;4BACH,GAAE;4BACF,QAAO;4BACP,aAAY;;;;;;sCAEd,6LAAC;4BACC,WAAU;4BACV,MAAK;4BACL,GAAE;;;;;;;;;;;;gBAEA;;2BAIR;;;;;;AAIR;;AAGF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/ui/input.tsx"],"sourcesContent":["import { forwardRef, type InputHTMLAttributes } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface InputProps extends InputHTMLAttributes<HTMLInputElement> {\n  error?: string;\n}\n\nconst Input = forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, error, ...props }, ref) => {\n    return (\n      <div className=\"w-full\">\n        <input\n          type={type}\n          className={cn(\n            \"flex h-10 w-full rounded-lg border border-[var(--border-color)] bg-[var(--bg-tertiary)] px-3 py-2 text-sm text-[var(--text-primary)] ring-offset-[var(--bg-primary)] file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-[var(--text-muted)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-blue)] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n            error && \"border-[var(--accent-red)] focus-visible:ring-[var(--accent-red)]\",\n            className\n          )}\n          ref={ref}\n          {...props}\n        />\n        {error && <p className=\"mt-1 text-sm text-[var(--accent-red)]\">{error}</p>}\n      </div>\n    );\n  }\n);\n\nInput.displayName = \"Input\";\n\nexport { Input };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAMA,MAAM,sBAAQ,IAAA,2KAAU,OACtB,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE;IACrC,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,MAAM;gBACN,WAAW,IAAA,4HAAE,EACX,ibACA,SAAS,qEACT;gBAEF,KAAK;gBACJ,GAAG,KAAK;;;;;;YAEV,uBAAS,6LAAC;gBAAE,WAAU;0BAAyC;;;;;;;;;;;;AAGtE;;AAGF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 225, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/ui/label.tsx"],"sourcesContent":["import { forwardRef, type LabelHTMLAttributes } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst Label = forwardRef<HTMLLabelElement, LabelHTMLAttributes<HTMLLabelElement>>(\n  ({ className, ...props }, ref) => (\n    <label\n      ref={ref}\n      className={cn(\n        \"text-sm font-semibold leading-none text-[var(--text-secondary)] peer-disabled:cursor-not-allowed peer-disabled:opacity-70\",\n        className\n      )}\n      {...props}\n    />\n  )\n);\n\nLabel.displayName = \"Label\";\n\nexport { Label };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,MAAM,sBAAQ,IAAA,2KAAU,OACtB,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,6HACA;QAED,GAAG,KAAK;;;;;;;AAKf,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 257, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/ui/card.tsx"],"sourcesContent":["import { forwardRef, type HTMLAttributes } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst Card = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      className={cn(\n        \"rounded-2xl border border-[var(--border-color)] bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n);\nCard.displayName = \"Card\";\n\nconst CardHeader = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n      {...props}\n    />\n  )\n);\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = forwardRef<HTMLParagraphElement, HTMLAttributes<HTMLHeadingElement>>(\n  ({ className, ...props }, ref) => (\n    <h3\n      ref={ref}\n      className={cn(\"text-lg font-semibold leading-none tracking-tight text-[var(--text-primary)]\", className)}\n      {...props}\n    />\n  )\n);\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = forwardRef<HTMLParagraphElement, HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, ...props }, ref) => (\n    <p\n      ref={ref}\n      className={cn(\"text-sm text-[var(--text-secondary)]\", className)}\n      {...props}\n    />\n  )\n);\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n  )\n);\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      className={cn(\"flex items-center p-6 pt-0\", className)}\n      {...props}\n    />\n  )\n);\nCardFooter.displayName = \"CardFooter\";\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;;;;AAEA,MAAM,qBAAO,IAAA,2KAAU,OACrB,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,4GACA;QAED,GAAG,KAAK;;;;;;;AAIf,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,IAAA,2KAAU,QAC3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAIf,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,IAAA,2KAAU,QAC1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,gFAAgF;QAC7F,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,IAAA,2KAAU,QAChC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,wCAAwC;QACrD,GAAG,KAAK;;;;;;;AAIf,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,IAAA,2KAAU,QAC5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAGlE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,IAAA,2KAAU,SAC3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAIf,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 364, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/auth/login-form.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useAuth } from \"@/contexts/auth-context\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Radio } from \"lucide-react\";\n\nexport function LoginForm() {\n  const { signIn } = useAuth();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n    setLoading(true);\n\n    try {\n      await signIn(email, password);\n    } catch {\n      setError(\"Invalid email or password\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex min-h-screen items-center justify-center bg-[var(--bg-primary)] px-4\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader className=\"text-center\">\n          <div className=\"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-2xl gradient-fire\">\n            <Radio className=\"h-8 w-8 text-white\" />\n          </div>\n          <CardTitle className=\"text-2xl\">\n            Algo<span className=\"text-[var(--accent-orange)]\">Sound</span>\n          </CardTitle>\n          <CardDescription>\n            Sign in to manage your Algo sound distribution system\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            {error && (\n              <div className=\"rounded-lg bg-[var(--accent-red)]/15 border border-[var(--accent-red)]/30 p-3 text-sm text-[var(--accent-red)]\">\n                {error}\n              </div>\n            )}\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"email\">Email</Label>\n              <Input\n                id=\"email\"\n                type=\"email\"\n                placeholder=\"admin@example.com\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                required\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"password\">Password</Label>\n              <Input\n                id=\"password\"\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n              />\n            </div>\n            <Button type=\"submit\" className=\"w-full\" isLoading={loading}>\n              Sign In\n            </Button>\n          </form>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;;AAUO,SAAS;;IACd,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,iJAAO;IAC1B,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QAEX,IAAI;YACF,MAAM,OAAO,OAAO;QACtB,EAAE,OAAM;YACN,SAAS;QACX,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC,2IAAI;YAAC,WAAU;;8BACd,6LAAC,iJAAU;oBAAC,WAAU;;sCACpB,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,gNAAK;gCAAC,WAAU;;;;;;;;;;;sCAEnB,6LAAC,gJAAS;4BAAC,WAAU;;gCAAW;8CAC1B,6LAAC;oCAAK,WAAU;8CAA8B;;;;;;;;;;;;sCAEpD,6LAAC,sJAAe;sCAAC;;;;;;;;;;;;8BAInB,6LAAC,kJAAW;8BACV,cAAA,6LAAC;wBAAK,UAAU;wBAAc,WAAU;;4BACrC,uBACC,6LAAC;gCAAI,WAAU;0CACZ;;;;;;0CAGL,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,6IAAK;wCAAC,SAAQ;kDAAQ;;;;;;kDACvB,6LAAC,6IAAK;wCACJ,IAAG;wCACH,MAAK;wCACL,aAAY;wCACZ,OAAO;wCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wCACxC,QAAQ;;;;;;;;;;;;0CAGZ,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,6IAAK;wCAAC,SAAQ;kDAAW;;;;;;kDAC1B,6LAAC,6IAAK;wCACJ,IAAG;wCACH,MAAK;wCACL,OAAO;wCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wCAC3C,QAAQ;;;;;;;;;;;;0CAGZ,6LAAC,+IAAM;gCAAC,MAAK;gCAAS,WAAU;gCAAS,WAAW;0CAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQzE;GAvEgB;;QACK,iJAAO;;;KADZ"}},
    {"offset": {"line": 576, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/layout/sidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport {\n  LayoutDashboard,\n  Speaker,\n  Mic,\n  Radio,\n  Settings,\n  LogOut,\n  Menu,\n  X,\n  Map,\n  Activity,\n  Network,\n  Lightbulb,\n  Gamepad2,\n} from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { useState, useMemo } from \"react\";\nimport { useAudioMonitoring } from \"@/contexts/audio-monitoring-context\";\nimport { useAuth } from \"@/contexts/auth-context\";\n\ninterface NavItem {\n  title: string;\n  href: string;\n  icon: React.ElementType;\n  section?: string;\n  adminOnly?: boolean;\n}\n\nconst baseNavItems: NavItem[] = [\n  { title: \"Dashboard\", href: \"/\", icon: LayoutDashboard, section: \"Overview\" },\n  { title: \"Station Zones\", href: \"/zones\", icon: Map, section: \"Overview\" },\n  { title: \"Call Routing\", href: \"/distribute\", icon: Activity, section: \"Overview\" },\n  { title: \"Audio Input\", href: \"/live\", icon: Mic, section: \"Audio\" },\n  { title: \"Multi-Input Routing\", href: \"/input-routing\", icon: Network, section: \"Audio\" },\n  { title: \"Output & Speakers\", href: \"/devices\", icon: Speaker, section: \"Audio\" },\n  { title: \"PoE Devices\", href: \"/poe-devices\", icon: Lightbulb, section: \"Audio\" },\n  { title: \"Settings\", href: \"/settings\", icon: Settings, section: \"System\" },\n  { title: \"Control Center\", href: \"/admin/control\", icon: Gamepad2, section: \"Admin\", adminOnly: true },\n];\n\ninterface SidebarProps {\n  onLogout: () => void;\n}\n\nexport function Sidebar({ onLogout }: SidebarProps) {\n  const pathname = usePathname();\n  const [isMobileOpen, setIsMobileOpen] = useState(false);\n  const { isCapturing, audioDetected, speakersEnabled } = useAudioMonitoring();\n  const { user } = useAuth();\n\n  const isAdmin = (user as any)?.role === \"admin\";\n\n  // Filter nav items based on user role\n  const navItems = useMemo(() => {\n    return baseNavItems.filter(item => !item.adminOnly || isAdmin);\n  }, [isAdmin]);\n\n  // Group items by section\n  const sections = navItems.reduce((acc, item) => {\n    const section = item.section || \"Other\";\n    if (!acc[section]) acc[section] = [];\n    acc[section].push(item);\n    return acc;\n  }, {} as Record<string, NavItem[]>);\n\n  return (\n    <>\n      {/* Mobile menu button */}\n      <button\n        className=\"fixed left-4 top-4 z-50 rounded-lg bg-[var(--bg-secondary)] border border-[var(--border-color)] p-2 shadow-lg lg:hidden\"\n        onClick={() => setIsMobileOpen(!isMobileOpen)}\n      >\n        {isMobileOpen ? (\n          <X size={24} className=\"text-[var(--text-primary)]\" />\n        ) : (\n          <Menu size={24} className=\"text-[var(--text-primary)]\" />\n        )}\n      </button>\n\n      {/* Overlay for mobile */}\n      {isMobileOpen && (\n        <div\n          className=\"fixed inset-0 z-30 bg-black/70 lg:hidden\"\n          onClick={() => setIsMobileOpen(false)}\n        />\n      )}\n\n      {/* Sidebar */}\n      <aside\n        className={cn(\n          \"fixed left-0 top-0 z-40 h-screen w-[260px] transform border-r border-[var(--border-color)] bg-[var(--bg-secondary)] transition-transform duration-200 ease-in-out lg:translate-x-0 flex flex-col\",\n          isMobileOpen ? \"translate-x-0\" : \"-translate-x-full\"\n        )}\n      >\n        {/* Logo */}\n        <div className=\"flex h-[72px] items-center border-b border-[var(--border-color)] px-6\">\n          <Link href=\"/\" className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-xl gradient-fire flex items-center justify-center\">\n              <Radio className=\"h-6 w-6 text-white\" />\n            </div>\n            <span className=\"text-xl font-bold text-[var(--text-primary)]\">\n              Algo<span className=\"text-[var(--accent-orange)]\">Sound</span>\n            </span>\n          </Link>\n        </div>\n\n        {/* Navigation */}\n        <nav className=\"flex-1 overflow-y-auto px-3 py-4\">\n          {Object.entries(sections).map(([section, items]) => (\n            <div key={section}>\n              <div className=\"px-3 py-2 mt-2 first:mt-0\">\n                <span className=\"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-muted)]\">\n                  {section}\n                </span>\n              </div>\n              {items.map((item) => {\n                const isActive = pathname === item.href;\n                return (\n                  <Link\n                    key={item.href}\n                    href={item.href}\n                    onClick={() => setIsMobileOpen(false)}\n                    className={cn(\n                      \"flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium transition-all mb-1\",\n                      isActive\n                        ? \"bg-gradient-to-r from-[var(--accent-blue)]/15 to-[var(--accent-blue)]/5 text-[var(--accent-blue)] border border-[var(--accent-blue)]/30\"\n                        : \"text-[var(--text-secondary)] hover:bg-[var(--bg-tertiary)] hover:text-[var(--text-primary)]\"\n                    )}\n                  >\n                    <item.icon className=\"h-5 w-5\" strokeWidth={1.5} />\n                    <span>{item.title}</span>\n                  </Link>\n                );\n              })}\n            </div>\n          ))}\n        </nav>\n\n        {/* Alert Status */}\n        <div className=\"mx-3 mb-4\">\n          <div\n            className={cn(\n              \"rounded-xl border p-4 transition-all\",\n              isCapturing && speakersEnabled\n                ? \"bg-gradient-to-r from-[var(--accent-red)]/15 to-[var(--accent-orange)]/10 border-[var(--accent-red)]/40 animate-pulse-alert\"\n                : \"bg-[var(--bg-tertiary)] border-[var(--border-color)]\"\n            )}\n          >\n            <div className=\"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-muted)] mb-2\">\n              System Status\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <div\n                className={cn(\n                  \"w-2 h-2 rounded-full\",\n                  !isCapturing\n                    ? \"bg-[var(--text-muted)]\"\n                    : speakersEnabled\n                    ? \"bg-[var(--accent-red)] animate-blink\"\n                    : \"bg-[var(--accent-green)]\"\n                )}\n              />\n              <span\n                className={cn(\n                  \"text-sm font-semibold\",\n                  !isCapturing\n                    ? \"text-[var(--text-muted)]\"\n                    : speakersEnabled\n                    ? \"text-[var(--accent-red)]\"\n                    : \"text-[var(--accent-green)]\"\n                )}\n              >\n                {!isCapturing\n                  ? \"Offline\"\n                  : speakersEnabled\n                  ? \"Broadcasting\"\n                  : \"Standby\"}\n              </span>\n            </div>\n            {isCapturing && (\n              <div className=\"mt-2 text-xs text-[var(--text-muted)]\">\n                Audio: {audioDetected ? \"Detected\" : \"Silent\"}\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* User Section */}\n        <div className=\"border-t border-[var(--border-color)] p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-9 h-9 rounded-lg gradient-medical flex items-center justify-center text-white font-semibold text-sm\">\n              {user?.email?.charAt(0).toUpperCase() || \"U\"}\n            </div>\n            <div className=\"flex-1 min-w-0\">\n              <div className=\"text-sm font-semibold text-[var(--text-primary)] truncate\">\n                {user?.email?.split(\"@\")[0] || \"User\"}\n              </div>\n              <div className=\"text-xs text-[var(--text-muted)]\">Administrator</div>\n            </div>\n            <button\n              onClick={onLogout}\n              className=\"p-2 rounded-lg hover:bg-[var(--bg-tertiary)] text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors\"\n              title=\"Logout\"\n            >\n              <LogOut className=\"h-4 w-4\" />\n            </button>\n          </div>\n        </div>\n      </aside>\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 985, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/realtime-cursors.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useRealtimeSync } from \"@/contexts/realtime-sync-context\";\nimport { MousePointer2 } from \"lucide-react\";\n\nexport function RealtimeCursors() {\n  const { cursors, updateMyCursor } = useRealtimeSync();\n  const [windowSize, setWindowSize] = useState({ width: 0, height: 0 });\n\n  // Track window size for cursor positioning\n  useEffect(() => {\n    const updateSize = () => {\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    };\n\n    updateSize();\n    window.addEventListener(\"resize\", updateSize);\n    return () => window.removeEventListener(\"resize\", updateSize);\n  }, []);\n\n  // Track mouse movement with throttling\n  useEffect(() => {\n    let rafId: number | null = null;\n    let lastUpdateTime = 0;\n    const THROTTLE_MS = 50; // Update cursor max every 50ms\n\n    const handleMouseMove = (e: MouseEvent) => {\n      const now = Date.now();\n\n      // Throttle updates to reduce Firebase writes\n      if (now - lastUpdateTime < THROTTLE_MS) {\n        return;\n      }\n\n      if (rafId !== null) {\n        cancelAnimationFrame(rafId);\n      }\n\n      rafId = requestAnimationFrame(() => {\n        updateMyCursor(e.clientX, e.clientY, false);\n        lastUpdateTime = now;\n        rafId = null;\n      });\n    };\n\n    const handleMouseDown = (e: MouseEvent) => {\n      updateMyCursor(e.clientX, e.clientY, true);\n      // Reset click state after animation\n      setTimeout(() => {\n        updateMyCursor(e.clientX, e.clientY, false);\n      }, 300);\n    };\n\n    window.addEventListener(\"mousemove\", handleMouseMove, { passive: true });\n    window.addEventListener(\"mousedown\", handleMouseDown);\n\n    return () => {\n      if (rafId !== null) {\n        cancelAnimationFrame(rafId);\n      }\n      window.removeEventListener(\"mousemove\", handleMouseMove);\n      window.removeEventListener(\"mousedown\", handleMouseDown);\n    };\n  }, [updateMyCursor]);\n\n  return (\n    <div className=\"fixed inset-0 pointer-events-none z-[9999]\">\n      {cursors.map((cursor) => {\n        // Convert percentage to pixels for rendering\n        const xPixels = (cursor.x / 100) * windowSize.width;\n        const yPixels = (cursor.y / 100) * windowSize.height;\n\n        return (\n          <div\n            key={cursor.userId}\n            className=\"absolute transition-all duration-100 ease-out\"\n            style={{\n              left: `${xPixels}px`,\n              top: `${yPixels}px`,\n              transform: \"translate(-2px, -2px)\",\n            }}\n          >\n\n          {/* Cursor arrow */}\n          <div className=\"relative\">\n            <MousePointer2\n              className={`transition-transform duration-200 ${\n                cursor.isClicking ? \"scale-75\" : \"scale-100\"\n              }`}\n              style={{\n                color: cursor.color,\n                filter: \"drop-shadow(0 2px 4px rgba(0,0,0,0.3))\",\n              }}\n              size={24}\n            />\n\n            {/* Click animation ripple */}\n            {cursor.isClicking && (\n              <div\n                className=\"absolute top-0 left-0 w-6 h-6 rounded-full animate-ping\"\n                style={{\n                  backgroundColor: cursor.color,\n                  opacity: 0.4,\n                }}\n              />\n            )}\n\n            {/* User name label */}\n            <div\n              className=\"absolute top-6 left-6 px-2 py-1 rounded text-xs font-medium whitespace-nowrap shadow-lg\"\n              style={{\n                backgroundColor: cursor.color,\n                color: \"white\",\n              }}\n            >\n              {cursor.userName}\n              {cursor.userRole === \"admin\" && \" ðŸ‘‘\"}\n            </div>\n          </div>\n        </div>\n        );\n      })}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMO,SAAS;;IACd,MAAM,EAAE,OAAO,EAAE,cAAc,EAAE,GAAG,IAAA,qKAAe;IACnD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;QAAE,OAAO;QAAG,QAAQ;IAAE;IAEnE,2CAA2C;IAC3C,IAAA,0KAAS;qCAAC;YACR,MAAM;wDAAa;oBACjB,cAAc;wBACZ,OAAO,OAAO,UAAU;wBACxB,QAAQ,OAAO,WAAW;oBAC5B;gBACF;;YAEA;YACA,OAAO,gBAAgB,CAAC,UAAU;YAClC;6CAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;;QACpD;oCAAG,EAAE;IAEL,uCAAuC;IACvC,IAAA,0KAAS;qCAAC;YACR,IAAI,QAAuB;YAC3B,IAAI,iBAAiB;YACrB,MAAM,cAAc,IAAI,+BAA+B;YAEvD,MAAM;6DAAkB,CAAC;oBACvB,MAAM,MAAM,KAAK,GAAG;oBAEpB,6CAA6C;oBAC7C,IAAI,MAAM,iBAAiB,aAAa;wBACtC;oBACF;oBAEA,IAAI,UAAU,MAAM;wBAClB,qBAAqB;oBACvB;oBAEA,QAAQ;qEAAsB;4BAC5B,eAAe,EAAE,OAAO,EAAE,EAAE,OAAO,EAAE;4BACrC,iBAAiB;4BACjB,QAAQ;wBACV;;gBACF;;YAEA,MAAM;6DAAkB,CAAC;oBACvB,eAAe,EAAE,OAAO,EAAE,EAAE,OAAO,EAAE;oBACrC,oCAAoC;oBACpC;qEAAW;4BACT,eAAe,EAAE,OAAO,EAAE,EAAE,OAAO,EAAE;wBACvC;oEAAG;gBACL;;YAEA,OAAO,gBAAgB,CAAC,aAAa,iBAAiB;gBAAE,SAAS;YAAK;YACtE,OAAO,gBAAgB,CAAC,aAAa;YAErC;6CAAO;oBACL,IAAI,UAAU,MAAM;wBAClB,qBAAqB;oBACvB;oBACA,OAAO,mBAAmB,CAAC,aAAa;oBACxC,OAAO,mBAAmB,CAAC,aAAa;gBAC1C;;QACF;oCAAG;QAAC;KAAe;IAEnB,qBACE,6LAAC;QAAI,WAAU;kBACZ,QAAQ,GAAG,CAAC,CAAC;YACZ,6CAA6C;YAC7C,MAAM,UAAU,AAAC,OAAO,CAAC,GAAG,MAAO,WAAW,KAAK;YACnD,MAAM,UAAU,AAAC,OAAO,CAAC,GAAG,MAAO,WAAW,MAAM;YAEpD,qBACE,6LAAC;gBAEC,WAAU;gBACV,OAAO;oBACL,MAAM,GAAG,QAAQ,EAAE,CAAC;oBACpB,KAAK,GAAG,QAAQ,EAAE,CAAC;oBACnB,WAAW;gBACb;0BAIF,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,gPAAa;4BACZ,WAAW,CAAC,kCAAkC,EAC5C,OAAO,UAAU,GAAG,aAAa,aACjC;4BACF,OAAO;gCACL,OAAO,OAAO,KAAK;gCACnB,QAAQ;4BACV;4BACA,MAAM;;;;;;wBAIP,OAAO,UAAU,kBAChB,6LAAC;4BACC,WAAU;4BACV,OAAO;gCACL,iBAAiB,OAAO,KAAK;gCAC7B,SAAS;4BACX;;;;;;sCAKJ,6LAAC;4BACC,WAAU;4BACV,OAAO;gCACL,iBAAiB,OAAO,KAAK;gCAC7B,OAAO;4BACT;;gCAEC,OAAO,QAAQ;gCACf,OAAO,QAAQ,KAAK,WAAW;;;;;;;;;;;;;eA1C7B,OAAO,MAAM;;;;;QA+CxB;;;;;;AAGN;GA1HgB;;QACsB,qKAAe;;;KADrC"}},
    {"offset": {"line": 1164, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/control-status-widget.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useRealtimeSync } from \"@/contexts/realtime-sync-context\";\nimport { Gamepad2, ChevronRight, ChevronLeft, X } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\n\nexport function ControlStatusWidget() {\n  const { isBeingControlled, controllersInfo } = useRealtimeSync();\n  const [isExpanded, setIsExpanded] = useState(true);\n\n  if (!isBeingControlled || controllersInfo.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className=\"fixed top-4 right-4 z-[9998] flex items-start gap-2\">\n      {/* Expand/Collapse button */}\n      <button\n        onClick={() => setIsExpanded(!isExpanded)}\n        className=\"p-2 rounded-lg bg-[var(--bg-card)] border border-[var(--accent-blue)]/50 hover:bg-[var(--bg-secondary)] transition-colors shadow-lg\"\n        title={isExpanded ? \"Collapse\" : \"Expand\"}\n      >\n        {isExpanded ? (\n          <ChevronRight className=\"h-4 w-4 text-[var(--accent-blue)]\" />\n        ) : (\n          <ChevronLeft className=\"h-4 w-4 text-[var(--accent-blue)]\" />\n        )}\n      </button>\n\n      {/* Status panel */}\n      <div\n        className={`bg-[var(--bg-card)] border border-[var(--accent-blue)]/50 rounded-lg shadow-lg transition-all duration-300 overflow-hidden ${\n          isExpanded ? \"opacity-100 max-w-xs\" : \"opacity-0 max-w-0\"\n        }`}\n      >\n        <div className=\"p-3 space-y-2\">\n          {/* Header */}\n          <div className=\"flex items-center gap-2 pb-2 border-b border-[var(--border-color)]\">\n            <Gamepad2 className=\"h-4 w-4 text-[var(--accent-blue)]\" />\n            <span className=\"text-sm font-semibold text-[var(--text-primary)]\">\n              Being Controlled\n            </span>\n          </div>\n\n          {/* Controllers list */}\n          <div className=\"space-y-2 max-h-[200px] overflow-y-auto\">\n            {controllersInfo.map((controller) => (\n              <div\n                key={controller.uid}\n                className=\"flex items-center gap-2 p-2 rounded-lg bg-[var(--bg-secondary)]\"\n              >\n                <div\n                  className=\"w-3 h-3 rounded-full\"\n                  style={{ backgroundColor: controller.color }}\n                />\n                <span className=\"text-sm text-[var(--text-primary)] flex-1\">\n                  {controller.name}\n                </span>\n                <span className=\"text-xs text-[var(--text-muted)] bg-[var(--bg-tertiary)] px-2 py-0.5 rounded\">\n                  Admin\n                </span>\n              </div>\n            ))}\n          </div>\n\n          {/* Info text */}\n          <p className=\"text-xs text-[var(--text-muted)] pt-2 border-t border-[var(--border-color)]\">\n            {controllersInfo.length === 1 ? \"An admin\" : `${controllersInfo.length} admins`} {controllersInfo.length === 1 ? \"is\" : \"are\"} viewing and controlling your session\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;;;AAJA;;;;AAOO,SAAS;;IACd,MAAM,EAAE,iBAAiB,EAAE,eAAe,EAAE,GAAG,IAAA,qKAAe;IAC9D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAE7C,IAAI,CAAC,qBAAqB,gBAAgB,MAAM,KAAK,GAAG;QACtD,OAAO;IACT;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBACC,SAAS,IAAM,cAAc,CAAC;gBAC9B,WAAU;gBACV,OAAO,aAAa,aAAa;0BAEhC,2BACC,6LAAC,yOAAY;oBAAC,WAAU;;;;;yCAExB,6LAAC,sOAAW;oBAAC,WAAU;;;;;;;;;;;0BAK3B,6LAAC;gBACC,WAAW,CAAC,2HAA2H,EACrI,aAAa,yBAAyB,qBACtC;0BAEF,cAAA,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,6NAAQ;oCAAC,WAAU;;;;;;8CACpB,6LAAC;oCAAK,WAAU;8CAAmD;;;;;;;;;;;;sCAMrE,6LAAC;4BAAI,WAAU;sCACZ,gBAAgB,GAAG,CAAC,CAAC,2BACpB,6LAAC;oCAEC,WAAU;;sDAEV,6LAAC;4CACC,WAAU;4CACV,OAAO;gDAAE,iBAAiB,WAAW,KAAK;4CAAC;;;;;;sDAE7C,6LAAC;4CAAK,WAAU;sDACb,WAAW,IAAI;;;;;;sDAElB,6LAAC;4CAAK,WAAU;sDAA+E;;;;;;;mCAV1F,WAAW,GAAG;;;;;;;;;;sCAkBzB,6LAAC;4BAAE,WAAU;;gCACV,gBAAgB,MAAM,KAAK,IAAI,aAAa,GAAG,gBAAgB,MAAM,CAAC,OAAO,CAAC;gCAAC;gCAAE,gBAAgB,MAAM,KAAK,IAAI,OAAO;gCAAM;;;;;;;;;;;;;;;;;;;;;;;;AAM1I;GAnEgB;;QACiC,qKAAe;;;KADhD"}},
    {"offset": {"line": 1329, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/admin-control-widget.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRealtimeSync } from \"@/contexts/realtime-sync-context\";\nimport { Gamepad2, ChevronRight, ChevronLeft, X, RefreshCw, Check } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\n\nexport function AdminControlWidget() {\n  const { viewingAsUserId, viewingAsUserEmail, onlineUsers, stopControlling, sessionState } = useRealtimeSync();\n  const [isExpanded, setIsExpanded] = useState(true);\n  const [lastSyncTime, setLastSyncTime] = useState<number>(0);\n  const [isSynced, setIsSynced] = useState(true);\n\n  // Track last sync time\n  useEffect(() => {\n    if (sessionState?.lastUpdatedAt) {\n      setLastSyncTime(sessionState.lastUpdatedAt);\n      setIsSynced(true);\n\n      // If no updates for 5 seconds, show as potentially out of sync\n      const timeout = setTimeout(() => {\n        setIsSynced(false);\n      }, 5000);\n\n      return () => clearTimeout(timeout);\n    }\n  }, [sessionState?.lastUpdatedAt]);\n\n  // Only show if admin is viewing as another user\n  if (!viewingAsUserId || !viewingAsUserEmail) {\n    return null;\n  }\n\n  // Get the user being controlled\n  const controlledUser = onlineUsers.find(u => u.uid === viewingAsUserId);\n\n  return (\n    <div className=\"fixed top-4 right-4 z-[9998] flex items-start gap-2\">\n      {/* Expand/Collapse button */}\n      <button\n        onClick={() => setIsExpanded(!isExpanded)}\n        className=\"p-2 rounded-lg bg-[var(--bg-card)] border border-[var(--accent-purple)]/50 hover:bg-[var(--bg-secondary)] transition-colors shadow-lg\"\n        title={isExpanded ? \"Collapse\" : \"Expand\"}\n      >\n        {isExpanded ? (\n          <ChevronRight className=\"h-4 w-4 text-[var(--accent-purple)]\" />\n        ) : (\n          <ChevronLeft className=\"h-4 w-4 text-[var(--accent-purple)]\" />\n        )}\n      </button>\n\n      {/* Status panel */}\n      <div\n        className={`bg-[var(--bg-card)] border border-[var(--accent-purple)]/50 rounded-lg shadow-lg transition-all duration-300 overflow-hidden ${\n          isExpanded ? \"opacity-100 max-w-xs\" : \"opacity-0 max-w-0\"\n        }`}\n      >\n        <div className=\"p-3 space-y-2\">\n          {/* Header */}\n          <div className=\"flex items-center justify-between pb-2 border-b border-[var(--border-color)]\">\n            <div className=\"flex items-center gap-2\">\n              <Gamepad2 className=\"h-4 w-4 text-[var(--accent-purple)]\" />\n              <span className=\"text-sm font-semibold text-[var(--text-primary)]\">\n                Controlling User\n              </span>\n            </div>\n            {/* Sync indicator */}\n            {isSynced ? (\n              <div className=\"flex items-center gap-1 text-[var(--accent-green)]\" title=\"Synced\">\n                <Check className=\"h-3 w-3\" />\n                <span className=\"text-xs\">Synced</span>\n              </div>\n            ) : (\n              <div className=\"flex items-center gap-1 text-[var(--accent-orange)]\" title=\"Syncing...\">\n                <RefreshCw className=\"h-3 w-3 animate-spin\" />\n                <span className=\"text-xs\">Syncing</span>\n              </div>\n            )}\n          </div>\n\n          {/* Controlled user info */}\n          <div className=\"flex items-center gap-2 p-2 rounded-lg bg-[var(--bg-secondary)]\">\n            <div className=\"w-3 h-3 rounded-full bg-[var(--accent-purple)]\" />\n            <div className=\"flex-1\">\n              <p className=\"text-sm text-[var(--text-primary)] font-medium\">\n                {controlledUser?.displayName || viewingAsUserEmail}\n              </p>\n              <p className=\"text-xs text-[var(--text-muted)]\">\n                {viewingAsUserEmail}\n              </p>\n            </div>\n          </div>\n\n          {/* Info text */}\n          <p className=\"text-xs text-[var(--text-muted)] pt-2 border-t border-[var(--border-color)]\">\n            You are viewing and controlling this user's session. Changes will sync to their UI in real-time.\n          </p>\n\n          {/* Release button */}\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            className=\"w-full mt-2 border-[var(--accent-red)]/50 text-[var(--accent-red)] hover:bg-[var(--accent-red)]/10\"\n            onClick={async () => {\n              if (viewingAsUserId) {\n                await stopControlling(viewingAsUserId);\n              }\n            }}\n          >\n            <X className=\"mr-2 h-4 w-4\" />\n            Release Control\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;AALA;;;;;AAOO,SAAS;;IACd,MAAM,EAAE,eAAe,EAAE,kBAAkB,EAAE,WAAW,EAAE,eAAe,EAAE,YAAY,EAAE,GAAG,IAAA,qKAAe;IAC3G,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAS;IACzD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,uBAAuB;IACvB,IAAA,0KAAS;wCAAC;YACR,IAAI,cAAc,eAAe;gBAC/B,gBAAgB,aAAa,aAAa;gBAC1C,YAAY;gBAEZ,+DAA+D;gBAC/D,MAAM,UAAU;4DAAW;wBACzB,YAAY;oBACd;2DAAG;gBAEH;oDAAO,IAAM,aAAa;;YAC5B;QACF;uCAAG;QAAC,cAAc;KAAc;IAEhC,gDAAgD;IAChD,IAAI,CAAC,mBAAmB,CAAC,oBAAoB;QAC3C,OAAO;IACT;IAEA,gCAAgC;IAChC,MAAM,iBAAiB,YAAY,IAAI,CAAC,CAAA,IAAK,EAAE,GAAG,KAAK;IAEvD,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBACC,SAAS,IAAM,cAAc,CAAC;gBAC9B,WAAU;gBACV,OAAO,aAAa,aAAa;0BAEhC,2BACC,6LAAC,yOAAY;oBAAC,WAAU;;;;;yCAExB,6LAAC,sOAAW;oBAAC,WAAU;;;;;;;;;;;0BAK3B,6LAAC;gBACC,WAAW,CAAC,6HAA6H,EACvI,aAAa,yBAAyB,qBACtC;0BAEF,cAAA,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,6NAAQ;4CAAC,WAAU;;;;;;sDACpB,6LAAC;4CAAK,WAAU;sDAAmD;;;;;;;;;;;;gCAKpE,yBACC,6LAAC;oCAAI,WAAU;oCAAqD,OAAM;;sDACxE,6LAAC,gNAAK;4CAAC,WAAU;;;;;;sDACjB,6LAAC;4CAAK,WAAU;sDAAU;;;;;;;;;;;yDAG5B,6LAAC;oCAAI,WAAU;oCAAsD,OAAM;;sDACzE,6LAAC,gOAAS;4CAAC,WAAU;;;;;;sDACrB,6LAAC;4CAAK,WAAU;sDAAU;;;;;;;;;;;;;;;;;;sCAMhC,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;;;;;8CACf,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAE,WAAU;sDACV,gBAAgB,eAAe;;;;;;sDAElC,6LAAC;4CAAE,WAAU;sDACV;;;;;;;;;;;;;;;;;;sCAMP,6LAAC;4BAAE,WAAU;sCAA8E;;;;;;sCAK3F,6LAAC,+IAAM;4BACL,SAAQ;4BACR,MAAK;4BACL,WAAU;4BACV,SAAS;gCACP,IAAI,iBAAiB;oCACnB,MAAM,gBAAgB;gCACxB;4BACF;;8CAEA,6LAAC,oMAAC;oCAAC,WAAU;;;;;;gCAAiB;;;;;;;;;;;;;;;;;;;;;;;;AAO1C;GA7GgB;;QAC8E,qKAAe;;;KAD7F"}},
    {"offset": {"line": 1600, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/admin-cursor-simulator.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef } from \"react\";\nimport { useRealtimeSync } from \"@/contexts/realtime-sync-context\";\n\n/**\n * Simulates admin cursor interactions on the user's screen\n * When admin clicks, this component finds the element at that position and clicks it\n * When admin hovers, this triggers hover effects\n */\nexport function AdminCursorSimulator() {\n  const { cursors } = useRealtimeSync();\n  const hoveredElementsRef = useRef<Map<string, HTMLElement>>(new Map());\n\n  useEffect(() => {\n    cursors.forEach((cursor) => {\n      // Convert percentage coordinates to pixels for this screen\n      const xPixels = (cursor.x / 100) * window.innerWidth;\n      const yPixels = (cursor.y / 100) * window.innerHeight;\n\n      // Find element at cursor position\n      const element = document.elementFromPoint(xPixels, yPixels) as HTMLElement;\n\n      if (!element) return;\n\n      // DISABLED: Admin clicks their own UI now, not user's UI\n      // Cursor is just for visual tracking\n      // if (cursor.isClicking) {\n      //   console.log('[AdminCursor] Admin clicked at', cursor.x + '%,', cursor.y + '% (', xPixels, ',', yPixels, 'px) element:', element.tagName);\n      //   element.click();\n      // }\n\n      // Handle hover - add hover class to element\n      const previousElement = hoveredElementsRef.current.get(cursor.userId);\n\n      if (element !== previousElement) {\n        // Remove hover from previous element\n        if (previousElement) {\n          previousElement.classList.remove('admin-cursor-hover');\n          previousElement.style.removeProperty('outline');\n        }\n\n        // Add hover to new element (only for interactive elements)\n        if (\n          element.tagName === 'BUTTON' ||\n          element.tagName === 'A' ||\n          element.tagName === 'INPUT' ||\n          element.tagName === 'SELECT' ||\n          element.tagName === 'TEXTAREA' ||\n          element.getAttribute('role') === 'button' ||\n          element.onclick !== null\n        ) {\n          element.classList.add('admin-cursor-hover');\n          // Add visual indicator that admin is hovering\n          element.style.outline = `2px solid ${cursor.color}`;\n          element.style.outlineOffset = '2px';\n        }\n\n        hoveredElementsRef.current.set(cursor.userId, element);\n      }\n    });\n\n    // Clean up hover effects for cursors that no longer exist\n    const currentCursorIds = new Set(cursors.map(c => c.userId));\n    hoveredElementsRef.current.forEach((element, userId) => {\n      if (!currentCursorIds.has(userId)) {\n        element.classList.remove('admin-cursor-hover');\n        element.style.removeProperty('outline');\n        hoveredElementsRef.current.delete(userId);\n      }\n    });\n  }, [cursors]);\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      hoveredElementsRef.current.forEach((element) => {\n        element.classList.remove('admin-cursor-hover');\n        element.style.removeProperty('outline');\n      });\n      hoveredElementsRef.current.clear();\n    };\n  }, []);\n\n  return null; // This component doesn't render anything\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;;AAHA;;;AAUO,SAAS;;IACd,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,qKAAe;IACnC,MAAM,qBAAqB,IAAA,uKAAM,EAA2B,IAAI;IAEhE,IAAA,0KAAS;0CAAC;YACR,QAAQ,OAAO;kDAAC,CAAC;oBACf,2DAA2D;oBAC3D,MAAM,UAAU,AAAC,OAAO,CAAC,GAAG,MAAO,OAAO,UAAU;oBACpD,MAAM,UAAU,AAAC,OAAO,CAAC,GAAG,MAAO,OAAO,WAAW;oBAErD,kCAAkC;oBAClC,MAAM,UAAU,SAAS,gBAAgB,CAAC,SAAS;oBAEnD,IAAI,CAAC,SAAS;oBAEd,yDAAyD;oBACzD,qCAAqC;oBACrC,2BAA2B;oBAC3B,8IAA8I;oBAC9I,qBAAqB;oBACrB,IAAI;oBAEJ,4CAA4C;oBAC5C,MAAM,kBAAkB,mBAAmB,OAAO,CAAC,GAAG,CAAC,OAAO,MAAM;oBAEpE,IAAI,YAAY,iBAAiB;wBAC/B,qCAAqC;wBACrC,IAAI,iBAAiB;4BACnB,gBAAgB,SAAS,CAAC,MAAM,CAAC;4BACjC,gBAAgB,KAAK,CAAC,cAAc,CAAC;wBACvC;wBAEA,2DAA2D;wBAC3D,IACE,QAAQ,OAAO,KAAK,YACpB,QAAQ,OAAO,KAAK,OACpB,QAAQ,OAAO,KAAK,WACpB,QAAQ,OAAO,KAAK,YACpB,QAAQ,OAAO,KAAK,cACpB,QAAQ,YAAY,CAAC,YAAY,YACjC,QAAQ,OAAO,KAAK,MACpB;4BACA,QAAQ,SAAS,CAAC,GAAG,CAAC;4BACtB,8CAA8C;4BAC9C,QAAQ,KAAK,CAAC,OAAO,GAAG,CAAC,UAAU,EAAE,OAAO,KAAK,EAAE;4BACnD,QAAQ,KAAK,CAAC,aAAa,GAAG;wBAChC;wBAEA,mBAAmB,OAAO,CAAC,GAAG,CAAC,OAAO,MAAM,EAAE;oBAChD;gBACF;;YAEA,0DAA0D;YAC1D,MAAM,mBAAmB,IAAI,IAAI,QAAQ,GAAG;kDAAC,CAAA,IAAK,EAAE,MAAM;;YAC1D,mBAAmB,OAAO,CAAC,OAAO;kDAAC,CAAC,SAAS;oBAC3C,IAAI,CAAC,iBAAiB,GAAG,CAAC,SAAS;wBACjC,QAAQ,SAAS,CAAC,MAAM,CAAC;wBACzB,QAAQ,KAAK,CAAC,cAAc,CAAC;wBAC7B,mBAAmB,OAAO,CAAC,MAAM,CAAC;oBACpC;gBACF;;QACF;yCAAG;QAAC;KAAQ;IAEZ,qBAAqB;IACrB,IAAA,0KAAS;0CAAC;YACR;kDAAO;oBACL,mBAAmB,OAAO,CAAC,OAAO;0DAAC,CAAC;4BAClC,QAAQ,SAAS,CAAC,MAAM,CAAC;4BACzB,QAAQ,KAAK,CAAC,cAAc,CAAC;wBAC/B;;oBACA,mBAAmB,OAAO,CAAC,KAAK;gBAClC;;QACF;yCAAG,EAAE;IAEL,OAAO,MAAM,yCAAyC;AACxD;GA3EgB;;QACM,qKAAe;;;KADrB"}},
    {"offset": {"line": 1699, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/admin-click-interceptor.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport { useRealtimeSync } from \"@/contexts/realtime-sync-context\";\n\n/**\n * DISABLED: Admin now controls their own UI (a clone of user's state)\n * Clicks are NOT intercepted - admin interacts normally with their UI\n * Changes sync to user's session in Firebase via useSessionSync\n * Cursor is just for visual tracking\n */\nexport function AdminClickInterceptor() {\n  // const { viewingAsUserId } = useRealtimeSync();\n\n  // Admin clicks their own UI now - no need to intercept\n  // useEffect(() => {\n  //   if (!viewingAsUserId) return;\n  //\n  //   const handleClick = (e: MouseEvent) => {\n  //     if (e.isTrusted) {\n  //       console.log('[AdminInterceptor] Intercepting admin click');\n  //       e.preventDefault();\n  //       e.stopPropagation();\n  //       e.stopImmediatePropagation();\n  //     }\n  //   };\n  //\n  //   document.addEventListener('click', handleClick, true);\n  //   return () => document.removeEventListener('click', handleClick, true);\n  // }, [viewingAsUserId]);\n\n  return null; // This component doesn't render anything\n}\n"],"names":[],"mappings":";;;;AAAA;AAWO,SAAS;IACd,iDAAiD;IAEjD,uDAAuD;IACvD,oBAAoB;IACpB,kCAAkC;IAClC,EAAE;IACF,6CAA6C;IAC7C,yBAAyB;IACzB,oEAAoE;IACpE,4BAA4B;IAC5B,6BAA6B;IAC7B,sCAAsC;IACtC,QAAQ;IACR,OAAO;IACP,EAAE;IACF,2DAA2D;IAC3D,2EAA2E;IAC3E,yBAAyB;IAEzB,OAAO,MAAM,yCAAyC;AACxD;KArBgB"}},
    {"offset": {"line": 1734, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/layout/app-layout.tsx"],"sourcesContent":["\"use client\";\n\nimport { useAuth } from \"@/contexts/auth-context\";\nimport { LoginForm } from \"@/components/auth/login-form\";\nimport { Sidebar } from \"@/components/layout/sidebar\";\nimport { RealtimeCursors } from \"@/components/realtime-cursors\";\nimport { ControlStatusWidget } from \"@/components/control-status-widget\";\nimport { AdminControlWidget } from \"@/components/admin-control-widget\";\nimport { AdminCursorSimulator } from \"@/components/admin-cursor-simulator\";\nimport { AdminClickInterceptor } from \"@/components/admin-click-interceptor\";\nimport { type ReactNode } from \"react\";\n\ninterface AppLayoutProps {\n  children: ReactNode;\n}\n\nexport function AppLayout({ children }: AppLayoutProps) {\n  const { user, loading, signOut } = useAuth();\n\n  if (loading) {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center bg-[var(--bg-primary)]\">\n        <div className=\"flex flex-col items-center gap-4\">\n          <div className=\"h-10 w-10 animate-spin rounded-full border-4 border-[var(--accent-blue)] border-t-transparent\" />\n          <span className=\"text-sm text-[var(--text-secondary)]\">Loading...</span>\n        </div>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return <LoginForm />;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-[var(--bg-primary)]\">\n      <Sidebar onLogout={signOut} />\n      <main className=\"lg:ml-[260px]\">\n        <div className=\"p-4 pt-20 lg:p-8 lg:pt-8\">{children}</div>\n      </main>\n\n      {/* Real-time features */}\n      <RealtimeCursors />\n      <ControlStatusWidget />\n      <AdminControlWidget />\n      <AdminCursorSimulator />\n      <AdminClickInterceptor />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AATA;;;;;;;;;AAgBO,SAAS,UAAU,EAAE,QAAQ,EAAkB;;IACpD,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAA,iJAAO;IAE1C,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAK,WAAU;kCAAuC;;;;;;;;;;;;;;;;;IAI/D;IAEA,IAAI,CAAC,MAAM;QACT,qBAAO,6LAAC,2JAAS;;;;;IACnB;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,qJAAO;gBAAC,UAAU;;;;;;0BACnB,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC;oBAAI,WAAU;8BAA4B;;;;;;;;;;;0BAI7C,6LAAC,+JAAe;;;;;0BAChB,6LAAC,2KAAmB;;;;;0BACpB,6LAAC,yKAAkB;;;;;0BACnB,6LAAC,6KAAoB;;;;;0BACrB,6LAAC,+KAAqB;;;;;;;;;;;AAG5B;GAjCgB;;QACqB,iJAAO;;;KAD5B"}},
    {"offset": {"line": 1873, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/ui/badge.tsx"],"sourcesContent":["import { type HTMLAttributes } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface BadgeProps extends HTMLAttributes<HTMLDivElement> {\n  variant?: \"default\" | \"secondary\" | \"destructive\" | \"success\" | \"warning\" | \"outline\";\n}\n\nfunction Badge({ className, variant = \"default\", ...props }: BadgeProps) {\n  const variants = {\n    default: \"bg-[var(--accent-blue)]/15 text-[var(--accent-blue)] border-[var(--accent-blue)]/30\",\n    secondary: \"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] border-[var(--border-color)]\",\n    destructive: \"bg-[var(--accent-red)]/15 text-[var(--accent-red)] border-[var(--accent-red)]/30\",\n    success: \"bg-[var(--accent-green)]/15 text-[var(--accent-green)] border-[var(--accent-green)]/30\",\n    warning: \"bg-[var(--accent-orange)]/15 text-[var(--accent-orange)] border-[var(--accent-orange)]/30\",\n    outline: \"bg-transparent border-[var(--border-color)] text-[var(--text-secondary)]\",\n  };\n\n  return (\n    <div\n      className={cn(\n        \"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors\",\n        variants[variant],\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Badge };\n"],"names":[],"mappings":";;;;;AACA;;;AAMA,SAAS,MAAM,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,GAAG,OAAmB;IACrE,MAAM,WAAW;QACf,SAAS;QACT,WAAW;QACX,aAAa;QACb,SAAS;QACT,SAAS;QACT,SAAS;IACX;IAEA,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,oGACA,QAAQ,CAAC,QAAQ,EACjB;QAED,GAAG,KAAK;;;;;;AAGf;KApBS"}},
    {"offset": {"line": 1910, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/ui/switch.tsx"],"sourcesContent":["import { forwardRef, type InputHTMLAttributes } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface SwitchProps extends Omit<InputHTMLAttributes<HTMLInputElement>, 'onChange'> {\n  checked?: boolean;\n  onCheckedChange?: (checked: boolean) => void;\n}\n\nconst Switch = forwardRef<HTMLInputElement, SwitchProps>(\n  ({ className, checked, onCheckedChange, disabled, ...props }, ref) => {\n    return (\n      <button\n        type=\"button\"\n        role=\"switch\"\n        aria-checked={checked}\n        disabled={disabled}\n        onClick={() => onCheckedChange?.(!checked)}\n        className={cn(\n          \"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-blue)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg-primary)] disabled:cursor-not-allowed disabled:opacity-50\",\n          checked ? \"bg-[var(--accent-blue)]\" : \"bg-[var(--bg-tertiary)]\",\n          className\n        )}\n      >\n        <span\n          className={cn(\n            \"inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-sm\",\n            checked ? \"translate-x-6\" : \"translate-x-1\"\n          )}\n        />\n        <input\n          type=\"checkbox\"\n          checked={checked}\n          onChange={() => {}} // Controlled by button click handler\n          ref={ref}\n          className=\"sr-only\"\n          {...props}\n        />\n      </button>\n    );\n  }\n);\n\nSwitch.displayName = \"Switch\";\n\nexport { Switch };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAOA,MAAM,uBAAS,IAAA,2KAAU,OACvB,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,eAAe,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IAC5D,qBACE,6LAAC;QACC,MAAK;QACL,MAAK;QACL,gBAAc;QACd,UAAU;QACV,SAAS,IAAM,kBAAkB,CAAC;QAClC,WAAW,IAAA,4HAAE,EACX,+RACA,UAAU,4BAA4B,2BACtC;;0BAGF,6LAAC;gBACC,WAAW,IAAA,4HAAE,EACX,uFACA,UAAU,kBAAkB;;;;;;0BAGhC,6LAAC;gBACC,MAAK;gBACL,SAAS;gBACT,UAAU,KAAO;gBACjB,KAAK;gBACL,WAAU;gBACT,GAAG,KAAK;;;;;;;;;;;;AAIjB;;AAGF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 1968, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/ui/slider.tsx"],"sourcesContent":["\"use client\";\n\nimport { forwardRef, type InputHTMLAttributes } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface SliderProps extends Omit<InputHTMLAttributes<HTMLInputElement>, \"type\"> {\n  showValue?: boolean;\n}\n\nconst Slider = forwardRef<HTMLInputElement, SliderProps>(\n  ({ className, showValue = false, value, ...props }, ref) => {\n    return (\n      <div className=\"flex items-center gap-3\">\n        <input\n          type=\"range\"\n          className={cn(\n            \"h-2 w-full cursor-pointer appearance-none rounded-lg bg-[var(--bg-tertiary)] accent-[var(--accent-blue)]\",\n            \"[&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-5 [&::-webkit-slider-thumb]:w-5 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-[var(--accent-blue)] [&::-webkit-slider-thumb]:cursor-pointer [&::-webkit-slider-thumb]:shadow-lg\",\n            \"[&::-moz-range-thumb]:h-5 [&::-moz-range-thumb]:w-5 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-[var(--accent-blue)] [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:cursor-pointer\",\n            className\n          )}\n          ref={ref}\n          value={value}\n          {...props}\n        />\n        {showValue && (\n          <span className=\"w-12 text-right text-sm font-semibold font-mono text-[var(--accent-blue)]\">\n            {value}%\n          </span>\n        )}\n      </div>\n    );\n  }\n);\n\nSlider.displayName = \"Slider\";\n\nexport { Slider };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AASA,MAAM,uBAAS,IAAA,2KAAU,OACvB,CAAC,EAAE,SAAS,EAAE,YAAY,KAAK,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE;IAClD,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,MAAK;gBACL,WAAW,IAAA,4HAAE,EACX,4GACA,+QACA,4MACA;gBAEF,KAAK;gBACL,OAAO;gBACN,GAAG,KAAK;;;;;;YAEV,2BACC,6LAAC;gBAAK,WAAU;;oBACb;oBAAM;;;;;;;;;;;;;AAKjB;;AAGF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 2025, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/ui/select.tsx"],"sourcesContent":["import { forwardRef, type SelectHTMLAttributes } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface SelectProps extends SelectHTMLAttributes<HTMLSelectElement> {\n  error?: string;\n}\n\nconst Select = forwardRef<HTMLSelectElement, SelectProps>(\n  ({ className, error, children, ...props }, ref) => {\n    return (\n      <div className=\"w-full\">\n        <select\n          className={cn(\n            \"flex h-10 w-full rounded-lg border border-[var(--border-color)] bg-[var(--bg-secondary)] px-3 py-2 text-sm text-[var(--text-primary)] ring-offset-[var(--bg-primary)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-blue)] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n            \"[&>option]:bg-[var(--bg-secondary)] [&>option]:text-[var(--text-primary)]\",\n            error && \"border-[var(--accent-red)] focus-visible:ring-[var(--accent-red)]\",\n            className\n          )}\n          ref={ref}\n          {...props}\n        >\n          {children}\n        </select>\n        {error && <p className=\"mt-1 text-sm text-[var(--accent-red)]\">{error}</p>}\n      </div>\n    );\n  }\n);\n\nSelect.displayName = \"Select\";\n\nexport { Select };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAMA,MAAM,uBAAS,IAAA,2KAAU,OACvB,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IACzC,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,WAAW,IAAA,4HAAE,EACX,6UACA,6EACA,SAAS,qEACT;gBAEF,KAAK;gBACJ,GAAG,KAAK;0BAER;;;;;;YAEF,uBAAS,6LAAC;gBAAE,WAAU;0BAAyC;;;;;;;;;;;;AAGtE;;AAGF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 2077, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/lib/firebase/firestore.ts"],"sourcesContent":["import {\n  collection,\n  doc,\n  getDocs,\n  getDoc,\n  addDoc,\n  setDoc,\n  updateDoc,\n  deleteDoc,\n  query,\n  where,\n  orderBy,\n  Timestamp,\n  type DocumentData,\n} from \"firebase/firestore\";\nimport { db } from \"./config\";\nimport type { AlgoDevice, Zone, AudioFile, DistributionLog, ZoneRouting, PoESwitch, PoEDevice } from \"@/lib/algo/types\";\n\n// ============ Devices ============\n\nconst devicesCollection = collection(db, \"devices\");\n\nexport async function getDevices(ownerEmail?: string): Promise<AlgoDevice[]> {\n  let q = query(devicesCollection, orderBy(\"createdAt\", \"desc\"));\n\n  // Filter by owner if provided\n  if (ownerEmail) {\n    q = query(devicesCollection, where(\"ownerEmail\", \"==\", ownerEmail), orderBy(\"createdAt\", \"desc\"));\n  }\n\n  const snapshot = await getDocs(q);\n  return snapshot.docs.map((doc) => ({\n    id: doc.id,\n    ...convertTimestamps(doc.data()),\n  })) as AlgoDevice[];\n}\n\nexport async function getDevice(id: string): Promise<AlgoDevice | null> {\n  const docRef = doc(db, \"devices\", id);\n  const snapshot = await getDoc(docRef);\n  if (!snapshot.exists()) return null;\n  return { id: snapshot.id, ...convertTimestamps(snapshot.data()) } as AlgoDevice;\n}\n\nexport async function addDevice(device: Omit<AlgoDevice, \"id\" | \"createdAt\" | \"updatedAt\">): Promise<string> {\n  const now = Timestamp.now();\n  const docRef = await addDoc(devicesCollection, {\n    ...device,\n    createdAt: now,\n    updatedAt: now,\n  });\n  return docRef.id;\n}\n\nexport async function updateDevice(id: string, data: Partial<AlgoDevice>): Promise<void> {\n  const docRef = doc(db, \"devices\", id);\n  // Firebase doesn't allow undefined values - filter them out\n  const cleanData: Record<string, unknown> = { updatedAt: Timestamp.now() };\n  for (const [key, value] of Object.entries(data)) {\n    if (value !== undefined) {\n      cleanData[key] = value;\n    }\n  }\n  await updateDoc(docRef, cleanData);\n}\n\nexport async function deleteDevice(id: string): Promise<void> {\n  const docRef = doc(db, \"devices\", id);\n  await deleteDoc(docRef);\n}\n\n// ============ Zones ============\n\nconst zonesCollection = collection(db, \"zones\");\n\nexport async function getZones(ownerEmail?: string): Promise<Zone[]> {\n  let q = query(zonesCollection, orderBy(\"createdAt\", \"desc\"));\n\n  // Filter by owner if provided\n  if (ownerEmail) {\n    q = query(zonesCollection, where(\"ownerEmail\", \"==\", ownerEmail), orderBy(\"createdAt\", \"desc\"));\n  }\n\n  const snapshot = await getDocs(q);\n  return snapshot.docs.map((doc) => ({\n    id: doc.id,\n    ...convertTimestamps(doc.data()),\n  })) as Zone[];\n}\n\nexport async function getZone(id: string): Promise<Zone | null> {\n  const docRef = doc(db, \"zones\", id);\n  const snapshot = await getDoc(docRef);\n  if (!snapshot.exists()) return null;\n  return { id: snapshot.id, ...convertTimestamps(snapshot.data()) } as Zone;\n}\n\nexport async function addZone(zone: Omit<Zone, \"id\" | \"createdAt\" | \"updatedAt\">): Promise<string> {\n  const now = Timestamp.now();\n  const docRef = await addDoc(zonesCollection, {\n    ...zone,\n    createdAt: now,\n    updatedAt: now,\n  });\n  return docRef.id;\n}\n\nexport async function updateZone(id: string, data: Partial<Zone>): Promise<void> {\n  const docRef = doc(db, \"zones\", id);\n  await updateDoc(docRef, {\n    ...data,\n    updatedAt: Timestamp.now(),\n  });\n}\n\nexport async function deleteZone(id: string): Promise<void> {\n  const docRef = doc(db, \"zones\", id);\n  await deleteDoc(docRef);\n\n  // Also delete the routing configuration\n  const routingRef = doc(db, \"zoneRouting\", id);\n  try {\n    await deleteDoc(routingRef);\n  } catch (error) {\n    // Routing doc might not exist, that's okay\n    console.log(\"No routing config to delete for zone:\", id);\n  }\n}\n\n// ============ Zone Routing ============\n\nconst zoneRoutingCollection = collection(db, \"zoneRouting\");\n\nexport async function getZoneRouting(zoneId: string): Promise<ZoneRouting | null> {\n  const docRef = doc(db, \"zoneRouting\", zoneId);\n  const snapshot = await getDoc(docRef);\n  if (!snapshot.exists()) return null;\n  return { id: snapshot.id, ...convertTimestamps(snapshot.data()) } as ZoneRouting;\n}\n\nexport async function getAllZoneRouting(): Promise<Record<string, ZoneRouting>> {\n  const snapshot = await getDocs(zoneRoutingCollection);\n  const routing: Record<string, ZoneRouting> = {};\n  snapshot.docs.forEach((doc) => {\n    routing[doc.id] = { id: doc.id, ...convertTimestamps(doc.data()) } as ZoneRouting;\n  });\n  return routing;\n}\n\nexport async function setZoneRouting(zoneId: string, routing: Omit<ZoneRouting, \"id\" | \"updatedAt\">): Promise<void> {\n  const docRef = doc(db, \"zoneRouting\", zoneId);\n  await setDoc(docRef, {\n    ...routing,\n    zoneId,\n    updatedAt: Timestamp.now(),\n  }, { merge: true });\n}\n\n// ============ Audio Files ============\n\nconst audioFilesCollection = collection(db, \"audioFiles\");\n\nexport async function getAudioFiles(ownerEmail?: string): Promise<AudioFile[]> {\n  let q = query(audioFilesCollection, orderBy(\"createdAt\", \"desc\"));\n\n  // Filter by owner if provided\n  if (ownerEmail) {\n    q = query(audioFilesCollection, where(\"ownerEmail\", \"==\", ownerEmail), orderBy(\"createdAt\", \"desc\"));\n  }\n\n  const snapshot = await getDocs(q);\n  return snapshot.docs.map((doc) => ({\n    id: doc.id,\n    ...convertTimestamps(doc.data()),\n  })) as AudioFile[];\n}\n\nexport async function getAudioFile(id: string): Promise<AudioFile | null> {\n  const docRef = doc(db, \"audioFiles\", id);\n  const snapshot = await getDoc(docRef);\n  if (!snapshot.exists()) return null;\n  return { id: snapshot.id, ...convertTimestamps(snapshot.data()) } as AudioFile;\n}\n\nexport async function addAudioFile(audioFile: Omit<AudioFile, \"id\" | \"createdAt\">): Promise<string> {\n  const docRef = await addDoc(audioFilesCollection, {\n    ...audioFile,\n    createdAt: Timestamp.now(),\n  });\n  return docRef.id;\n}\n\nexport async function deleteAudioFile(id: string): Promise<void> {\n  const docRef = doc(db, \"audioFiles\", id);\n  await deleteDoc(docRef);\n}\n\n// ============ Distribution Logs ============\n\nconst distributionLogsCollection = collection(db, \"distributionLogs\");\n\nexport async function getDistributionLogs(limit = 50): Promise<DistributionLog[]> {\n  const q = query(distributionLogsCollection, orderBy(\"createdAt\", \"desc\"));\n  const snapshot = await getDocs(q);\n  return snapshot.docs.slice(0, limit).map((doc) => ({\n    id: doc.id,\n    ...convertTimestamps(doc.data()),\n  })) as DistributionLog[];\n}\n\nexport async function addDistributionLog(log: Omit<DistributionLog, \"id\" | \"createdAt\">): Promise<string> {\n  const docRef = await addDoc(distributionLogsCollection, {\n    ...log,\n    createdAt: Timestamp.now(),\n  });\n  return docRef.id;\n}\n\n// ============ PoE Switches ============\n\nconst poeSwitchesCollection = collection(db, \"poeSwitches\");\n\nexport async function getPoESwitches(ownerEmail?: string): Promise<PoESwitch[]> {\n  let q = query(poeSwitchesCollection, orderBy(\"createdAt\", \"desc\"));\n\n  // Filter by owner if provided\n  if (ownerEmail) {\n    q = query(poeSwitchesCollection, where(\"ownerEmail\", \"==\", ownerEmail), orderBy(\"createdAt\", \"desc\"));\n  }\n\n  const snapshot = await getDocs(q);\n  return snapshot.docs.map((doc) => ({\n    id: doc.id,\n    ...convertTimestamps(doc.data()),\n  })) as PoESwitch[];\n}\n\nexport async function getPoESwitch(id: string): Promise<PoESwitch | null> {\n  const docRef = doc(db, \"poeSwitches\", id);\n  const snapshot = await getDoc(docRef);\n  if (!snapshot.exists()) return null;\n  return { id: snapshot.id, ...convertTimestamps(snapshot.data()) } as PoESwitch;\n}\n\nexport async function addPoESwitch(poeSwitch: Omit<PoESwitch, \"id\" | \"createdAt\" | \"updatedAt\">): Promise<string> {\n  const now = Timestamp.now();\n  const docRef = await addDoc(poeSwitchesCollection, {\n    ...poeSwitch,\n    createdAt: now,\n    updatedAt: now,\n  });\n  return docRef.id;\n}\n\nexport async function updatePoESwitch(id: string, data: Partial<PoESwitch>): Promise<void> {\n  const docRef = doc(db, \"poeSwitches\", id);\n  const cleanData: Record<string, unknown> = { updatedAt: Timestamp.now() };\n  for (const [key, value] of Object.entries(data)) {\n    if (value !== undefined) {\n      cleanData[key] = value;\n    }\n  }\n  await updateDoc(docRef, cleanData);\n}\n\nexport async function deletePoESwitch(id: string): Promise<void> {\n  const docRef = doc(db, \"poeSwitches\", id);\n  await deleteDoc(docRef);\n}\n\n// ============ PoE Devices ============\n\nconst poeDevicesCollection = collection(db, \"poeDevices\");\n\nexport async function getPoEDevices(ownerEmail?: string): Promise<PoEDevice[]> {\n  let q = query(poeDevicesCollection, orderBy(\"createdAt\", \"desc\"));\n\n  // Filter by owner if provided\n  if (ownerEmail) {\n    q = query(poeDevicesCollection, where(\"ownerEmail\", \"==\", ownerEmail), orderBy(\"createdAt\", \"desc\"));\n  }\n\n  const snapshot = await getDocs(q);\n  return snapshot.docs.map((doc) => ({\n    id: doc.id,\n    ...convertTimestamps(doc.data()),\n  })) as PoEDevice[];\n}\n\nexport async function getPoEDevice(id: string): Promise<PoEDevice | null> {\n  const docRef = doc(db, \"poeDevices\", id);\n  const snapshot = await getDoc(docRef);\n  if (!snapshot.exists()) return null;\n  return { id: snapshot.id, ...convertTimestamps(snapshot.data()) } as PoEDevice;\n}\n\nexport async function addPoEDevice(poeDevice: Omit<PoEDevice, \"id\" | \"createdAt\" | \"updatedAt\">): Promise<string> {\n  const now = Timestamp.now();\n  const docRef = await addDoc(poeDevicesCollection, {\n    ...poeDevice,\n    createdAt: now,\n    updatedAt: now,\n  });\n  return docRef.id;\n}\n\nexport async function updatePoEDevice(id: string, data: Partial<PoEDevice>): Promise<void> {\n  const docRef = doc(db, \"poeDevices\", id);\n  const cleanData: Record<string, unknown> = { updatedAt: Timestamp.now() };\n  for (const [key, value] of Object.entries(data)) {\n    if (value !== undefined) {\n      cleanData[key] = value;\n    }\n  }\n  await updateDoc(docRef, cleanData);\n}\n\nexport async function deletePoEDevice(id: string): Promise<void> {\n  const docRef = doc(db, \"poeDevices\", id);\n  await deleteDoc(docRef);\n}\n\n// ============ Helpers ============\n\nfunction convertTimestamps(data: DocumentData): DocumentData {\n  const result = { ...data };\n  for (const key in result) {\n    if (result[key] instanceof Timestamp) {\n      result[key] = result[key].toDate();\n    }\n  }\n  return result;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2440, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/app/input-routing/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState, useCallback, useRef } from \"react\";\nimport { AppLayout } from \"@/components/layout/app-layout\";\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { Select } from \"@/components/ui/select\";\nimport { Label } from \"@/components/ui/label\";\nimport { useAudioMonitoring } from \"@/contexts/audio-monitoring-context\";\nimport { useAuth } from \"@/contexts/auth-context\";\nimport { useRealtimeSync } from \"@/contexts/realtime-sync-context\";\nimport { updateDevice } from \"@/lib/firebase/firestore\";\nimport { storage } from \"@/lib/firebase/config\";\nimport { ref as storageRef, uploadBytes, getDownloadURL } from \"firebase/storage\";\nimport type { AlgoDevice, InputChannelType } from \"@/lib/algo/types\";\nimport { Play, Square, Radio, Mic, Volume2, AlertCircle, CheckCircle2, Film, AlertTriangle } from \"lucide-react\";\nimport { getAlwaysKeepPagingOn } from \"@/lib/settings\";\n\ninterface InputChannel {\n  type: InputChannelType;\n  deviceId: string | null;\n  isActive: boolean;\n  audioLevel: number;\n  mediaStream: MediaStream | null;\n  analyser: AnalyserNode | null;\n  // Recording state\n  isRecording: boolean;\n  recordingStartTime: string | null;\n}\n\nexport default function InputRoutingPage() {\n  const { devices, isCapturing, volume, useGlobalVolume } = useAudioMonitoring();\n  const { user } = useAuth();\n  const { sessionState, syncSessionState } = useRealtimeSync();\n\n  // Multi-input channels state\n  const [channels, setChannels] = useState<InputChannel[]>([\n    { type: \"medical\", deviceId: null, isActive: false, audioLevel: 0, mediaStream: null, analyser: null, isRecording: false, recordingStartTime: null },\n    { type: \"fire\", deviceId: null, isActive: false, audioLevel: 0, mediaStream: null, analyser: null, isRecording: false, recordingStartTime: null },\n    { type: \"allCall\", deviceId: null, isActive: false, audioLevel: 0, mediaStream: null, analyser: null, isRecording: false, recordingStartTime: null },\n  ]);\n\n  // Audio settings\n  const [threshold, setThreshold] = useState(-40); // dB threshold for detection\n  const [gain, setGain] = useState(1.0);\n  const [isMonitoring, setIsMonitoring] = useState(false);\n\n  // Recording settings\n  const [recordingEnabled, setRecordingEnabled] = useState(true);\n  const [silenceDelay, setSilenceDelay] = useState(2000); // ms before stopping recording\n\n  // Logging\n  const [logs, setLogs] = useState<Array<{\n    timestamp: string;\n    channel: InputChannelType | \"system\";\n    type: \"audio_detected\" | \"audio_silent\" | \"speakers_enabled\" | \"speakers_disabled\" | \"recording_saved\" | \"system\";\n    message: string;\n    recordingUrl?: string;\n  }>>([]);\n  const [loggingEnabled, setLoggingEnabled] = useState(true);\n\n  // Available audio input devices\n  const [audioInputDevices, setAudioInputDevices] = useState<MediaDeviceInfo[]>([]);\n\n  // Animation frame for monitoring\n  const animationFrameRef = useRef<number | undefined>(undefined);\n  const audioContextRef = useRef<AudioContext | undefined>(undefined);\n\n  // Recording refs (per channel)\n  const mediaRecordersRef = useRef<Map<InputChannelType, MediaRecorder>>(new Map());\n  const recordedChunksRef = useRef<Map<InputChannelType, Blob[]>>(new Map());\n  const silenceTimersRef = useRef<Map<InputChannelType, NodeJS.Timeout>>(new Map());\n\n  // Load available audio input devices\n  useEffect(() => {\n    async function loadAudioDevices() {\n      try {\n        const devices = await navigator.mediaDevices.enumerateDevices();\n        const audioInputs = devices.filter((d) => d.kind === \"audioinput\");\n        setAudioInputDevices(audioInputs);\n      } catch (error) {\n        console.error(\"Failed to enumerate audio devices:\", error);\n      }\n    }\n    loadAudioDevices();\n  }, []);\n\n  // Sync multi-input monitoring state to Firebase\n  useEffect(() => {\n    syncSessionState({\n      multiInputMonitoring: isMonitoring,\n    });\n  }, [isMonitoring, syncSessionState]);\n\n  // Add log entry\n  const addLog = useCallback((entry: {\n    channel: InputChannelType | \"system\";\n    type: \"audio_detected\" | \"audio_silent\" | \"speakers_enabled\" | \"speakers_disabled\" | \"recording_saved\" | \"system\";\n    message: string;\n    recordingUrl?: string;\n  }) => {\n    if (!loggingEnabled) return;\n\n    const logEntry = {\n      ...entry,\n      timestamp: new Date().toISOString(),\n    };\n\n    console.log(`[InputRouting] ${logEntry.message}`, logEntry);\n\n    setLogs((prev) => {\n      const newLogs = [...prev, logEntry];\n      // Keep only last 500 entries\n      if (newLogs.length > 500) {\n        return newLogs.slice(-500);\n      }\n      return newLogs;\n    });\n  }, [loggingEnabled]);\n\n  // Clear logs\n  const clearLogs = useCallback(() => {\n    setLogs([]);\n  }, []);\n\n  // Export logs as CSV\n  const exportLogs = useCallback(() => {\n    const header = \"Timestamp,Channel,Type,Message,Recording URL\\n\";\n    const rows = logs.map((log) => {\n      const timestamp = new Date(log.timestamp).toLocaleString();\n      return `\"${timestamp}\",\"${log.channel}\",\"${log.type}\",\"${log.message}\",\"${log.recordingUrl || ''}\"`;\n    }).join(\"\\n\");\n\n    const csv = header + rows;\n    const blob = new Blob([csv], { type: \"text/csv\" });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = `multi-input-logs-${new Date().toISOString()}.csv`;\n    a.click();\n    URL.revokeObjectURL(url);\n  }, [logs]);\n\n  // Get speakers for each input type\n  const getSpeakersForInput = useCallback((inputType: InputChannelType): AlgoDevice[] => {\n    return devices.filter((d) => d.type !== \"8301\" && d.inputAssignment === inputType);\n  }, [devices]);\n\n  // Update channel device selection\n  const updateChannelDevice = useCallback((channelType: InputChannelType, deviceId: string) => {\n    setChannels((prev) =>\n      prev.map((ch) =>\n        ch.type === channelType ? { ...ch, deviceId: deviceId === \"none\" ? null : deviceId } : ch\n      )\n    );\n  }, []);\n\n  // Assign speaker to input channel\n  const assignSpeakerToInput = useCallback(async (speakerId: string, inputType: InputChannelType | null) => {\n    try {\n      await updateDevice(speakerId, { inputAssignment: inputType });\n      console.log(`[InputRouting] Assigned speaker ${speakerId} to ${inputType || \"none\"}`);\n    } catch (error) {\n      console.error(\"Failed to assign speaker:\", error);\n    }\n  }, []);\n\n  // Get best supported audio mimeType\n  const getBestAudioMimeType = useCallback(() => {\n    const types = [\n      'audio/webm;codecs=opus',\n      'audio/webm',\n      'audio/ogg;codecs=opus',\n      'audio/mp4',\n    ];\n\n    for (const type of types) {\n      if (MediaRecorder.isTypeSupported(type)) {\n        console.log('[InputRouting] Using mimeType:', type);\n        return type;\n      }\n    }\n\n    console.warn('[InputRouting] No preferred mimeType supported, using default');\n    return '';\n  }, []);\n\n  // Start recording for a specific channel\n  const startRecording = useCallback(async (channelType: InputChannelType, stream: MediaStream) => {\n    if (!recordingEnabled || !user) {\n      console.log(`[InputRouting] Recording disabled or no user for ${channelType}`);\n      return;\n    }\n\n    try {\n      // Get best supported mimeType\n      const mimeType = getBestAudioMimeType();\n\n      // Create media recorder with best supported format\n      const options: MediaRecorderOptions = {};\n      if (mimeType) {\n        options.mimeType = mimeType;\n      }\n\n      const mediaRecorder = new MediaRecorder(stream, options);\n      const chunks: Blob[] = [];\n\n      mediaRecorder.ondataavailable = (event) => {\n        if (event.data.size > 0) {\n          chunks.push(event.data);\n        }\n      };\n\n      recordedChunksRef.current.set(channelType, chunks);\n      mediaRecorder.start(100);\n      mediaRecordersRef.current.set(channelType, mediaRecorder);\n\n      setChannels((prev) =>\n        prev.map((ch) =>\n          ch.type === channelType\n            ? { ...ch, isRecording: true, recordingStartTime: new Date().toISOString() }\n            : ch\n        )\n      );\n\n      console.log(`[InputRouting] ðŸ”´ Started recording ${channelType} with mimeType:`, mimeType || 'default');\n    } catch (error) {\n      console.error(`[InputRouting] Failed to start recording ${channelType}:`, error);\n    }\n  }, [recordingEnabled, user, getBestAudioMimeType]);\n\n  // Stop recording and upload for a specific channel\n  const stopRecordingAndUpload = useCallback(async (channelType: InputChannelType): Promise<string | null> => {\n    const mediaRecorder = mediaRecordersRef.current.get(channelType);\n    const chunks = recordedChunksRef.current.get(channelType);\n\n    if (!mediaRecorder || !user || !chunks) {\n      return null;\n    }\n\n    return new Promise((resolve) => {\n      mediaRecorder.onstop = async () => {\n        try {\n          // Get the mimeType that was actually used\n          const actualMimeType = mediaRecorder.mimeType || 'audio/webm';\n\n          // Create blob from recorded chunks\n          const audioBlob = new Blob(chunks, { type: actualMimeType });\n\n          if (audioBlob.size === 0) {\n            console.warn(`[InputRouting] No audio data recorded for ${channelType}`);\n            resolve(null);\n            return;\n          }\n\n          // Determine file extension from mimeType\n          let fileExtension = 'webm';\n          if (actualMimeType.includes('opus')) {\n            fileExtension = 'opus';\n          } else if (actualMimeType.includes('ogg')) {\n            fileExtension = 'ogg';\n          } else if (actualMimeType.includes('mp4')) {\n            fileExtension = 'm4a';\n          }\n\n          console.log(`[InputRouting] Saving ${channelType} as ${fileExtension} (${actualMimeType})`);\n\n          // Get recording start time\n          const channel = channels.find((ch) => ch.type === channelType);\n          const timestamp = (channel?.recordingStartTime || new Date().toISOString()).replace(/[:.]/g, '-');\n          const filename = `${channelType}-${timestamp}.${fileExtension}`;\n          const filePath = `multi-input-recordings/${user.uid}/${filename}`;\n\n          console.log(`[InputRouting] Uploading ${channelType} recording to ${filePath}`);\n          const fileRef = storageRef(storage, filePath);\n          await uploadBytes(fileRef, audioBlob);\n\n          const downloadUrl = await getDownloadURL(fileRef);\n          console.log(`[InputRouting] âœ… ${channelType} recording uploaded:`, downloadUrl);\n\n          // Clean up\n          mediaRecordersRef.current.delete(channelType);\n          recordedChunksRef.current.delete(channelType);\n\n          setChannels((prev) =>\n            prev.map((ch) =>\n              ch.type === channelType\n                ? { ...ch, isRecording: false, recordingStartTime: null }\n                : ch\n            )\n          );\n\n          resolve(downloadUrl);\n        } catch (error) {\n          console.error(`[InputRouting] Failed to upload ${channelType} recording:`, error);\n          resolve(null);\n        }\n      };\n\n      mediaRecorder.stop();\n    });\n  }, [user, channels]);\n\n  // Activate speakers for a specific channel\n  const activateSpeakersForChannel = useCallback(async (channelType: InputChannelType) => {\n    console.log(`[InputRouting] ðŸ”¥ ${channelType.toUpperCase()} AUDIO DETECTED - Activating speakers`);\n\n    const speakers = getSpeakersForInput(channelType);\n\n    if (speakers.length === 0) {\n      console.log(`[InputRouting] No speakers assigned to ${channelType}`);\n      addLog({\n        channel: channelType,\n        type: \"system\",\n        message: `Audio detected but no speakers assigned to ${channelType}`,\n      });\n      return;\n    }\n\n    addLog({\n      channel: channelType,\n      type: \"speakers_enabled\",\n      message: `Activating ${speakers.length} speaker(s) for ${channelType}`,\n    });\n\n    // Enable paging device (only if not always on)\n    const alwaysKeepPagingOn = getAlwaysKeepPagingOn();\n    const pagingDevices = devices.filter((d) => d.type === \"8301\");\n    if (pagingDevices.length > 0 && !alwaysKeepPagingOn) {\n      // Only toggle paging if not always on\n      await fetch(\"/api/algo/speakers/mcast\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          speakers: pagingDevices.map((p) => ({\n            ipAddress: p.ipAddress,\n            password: p.apiPassword,\n            authMethod: p.authMethod,\n          })),\n          mode: 1, // Transmitter mode\n        }),\n      });\n    }\n\n    // Set speakers to receiver mode and ramp volume\n    await fetch(\"/api/algo/speakers/mcast\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        speakers: speakers.map((s) => ({\n          ipAddress: s.ipAddress,\n          password: s.apiPassword,\n          authMethod: s.authMethod,\n        })),\n        mode: 2, // Receiver mode\n      }),\n    });\n\n    // Ramp volume\n    const targetVolume = useGlobalVolume ? volume : null;\n    for (const speaker of speakers) {\n      const vol = targetVolume !== null ? targetVolume : (speaker.maxVolume || 100);\n      await fetch(\"/api/algo/speakers/volume\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          speakers: [{\n            ipAddress: speaker.ipAddress,\n            password: speaker.apiPassword,\n            authMethod: speaker.authMethod,\n          }],\n          volume: vol,\n        }),\n      });\n    }\n\n    console.log(`[InputRouting] âœ… Activated ${speakers.length} speakers for ${channelType}`);\n  }, [devices, getSpeakersForInput, useGlobalVolume, volume, addLog]);\n\n  // Deactivate speakers for a specific channel\n  const deactivateSpeakersForChannel = useCallback(async (channelType: InputChannelType) => {\n    console.log(`[InputRouting] ðŸ›‘ ${channelType.toUpperCase()} AUDIO ENDED - Deactivating speakers`);\n\n    const speakers = getSpeakersForInput(channelType);\n\n    addLog({\n      channel: channelType,\n      type: \"speakers_disabled\",\n      message: `Deactivating ${speakers.length} speaker(s) for ${channelType}`,\n    });\n\n    // Mute speakers to -45dB\n    await fetch(\"/api/algo/speakers/volume\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        speakers: speakers.map((s) => ({\n          ipAddress: s.ipAddress,\n          password: s.apiPassword,\n          authMethod: s.authMethod,\n        })),\n        volume: 0, // -45dB\n      }),\n    });\n\n    // Disable paging device (only if not always on)\n    const alwaysKeepPagingOn = getAlwaysKeepPagingOn();\n    const pagingDevices = devices.filter((d) => d.type === \"8301\");\n    if (pagingDevices.length > 0 && !alwaysKeepPagingOn) {\n      // Only toggle paging if not always on\n      await fetch(\"/api/algo/speakers/mcast\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          speakers: pagingDevices.map((p) => ({\n            ipAddress: p.ipAddress,\n            password: p.apiPassword,\n            authMethod: p.authMethod,\n          })),\n          mode: 0, // Disabled\n        }),\n      });\n    }\n\n    console.log(`[InputRouting] âœ… Deactivated ${speakers.length} speakers for ${channelType}`);\n  }, [devices, getSpeakersForInput, addLog]);\n\n  // Start monitoring all 3 channels\n  const startMonitoring = useCallback(async () => {\n    console.log(\"[InputRouting] Starting multi-input monitoring\");\n\n    addLog({\n      channel: \"system\",\n      type: \"system\",\n      message: `Multi-input monitoring started - Threshold: ${threshold}dB, Gain: ${gain.toFixed(1)}x`,\n    });\n\n    // Create audio context if needed\n    if (!audioContextRef.current) {\n      audioContextRef.current = new AudioContext();\n    }\n\n    const ctx = audioContextRef.current;\n\n    // Start each channel that has a device selected\n    const updatedChannels = await Promise.all(\n      channels.map(async (channel) => {\n        if (!channel.deviceId) {\n          console.log(`[InputRouting] Skipping ${channel.type} - no device selected`);\n          return channel;\n        }\n\n        try {\n          const stream = await navigator.mediaDevices.getUserMedia({\n            audio: {\n              deviceId: { exact: channel.deviceId },\n              echoCancellation: false,\n              noiseSuppression: false,\n              autoGainControl: false,\n            },\n          });\n\n          const source = ctx.createMediaStreamSource(stream);\n          const analyser = ctx.createAnalyser();\n          analyser.fftSize = 2048;\n          analyser.smoothingTimeConstant = 0.8;\n\n          // Apply gain\n          const gainNode = ctx.createGain();\n          gainNode.gain.value = gain;\n\n          source.connect(gainNode);\n          gainNode.connect(analyser);\n\n          console.log(`[InputRouting] Started ${channel.type} on device ${channel.deviceId}`);\n\n          return {\n            ...channel,\n            mediaStream: stream,\n            analyser,\n          };\n        } catch (error) {\n          console.error(`[InputRouting] Failed to start ${channel.type}:`, error);\n          return channel;\n        }\n      })\n    );\n\n    setChannels(updatedChannels);\n    setIsMonitoring(true);\n\n    // Start monitoring loop\n    monitorChannels();\n  }, [channels, gain, threshold, addLog]);\n\n  // Monitor all channels for audio activity\n  const monitorChannels = useCallback(() => {\n    if (!isMonitoring) return;\n\n    setChannels((prevChannels) => {\n      const updatedChannels = prevChannels.map((channel) => {\n        if (!channel.analyser) return channel;\n\n        // Get audio level\n        const dataArray = new Uint8Array(channel.analyser.frequencyBinCount);\n        channel.analyser.getByteFrequencyData(dataArray);\n\n        const sum = dataArray.reduce((a, b) => a + b, 0);\n        const average = sum / dataArray.length;\n        const audioLevel = Math.round((average / 255) * 100);\n\n        // Convert to dB (approximate)\n        const db = 20 * Math.log10(average / 255);\n        const isActive = db > threshold && audioLevel > 5;\n\n        // If this channel just became active\n        if (isActive && !channel.isActive) {\n          // Cancel any pending silence timer\n          const existingTimer = silenceTimersRef.current.get(channel.type);\n          if (existingTimer) {\n            clearTimeout(existingTimer);\n            silenceTimersRef.current.delete(channel.type);\n          }\n\n          // Log audio detection\n          addLog({\n            channel: channel.type,\n            type: \"audio_detected\",\n            message: `Audio detected on ${channel.type} - Level: ${audioLevel}%`,\n          });\n\n          // Activate speakers\n          activateSpeakersForChannel(channel.type);\n\n          // Start recording if not already recording\n          if (!channel.isRecording && channel.mediaStream) {\n            startRecording(channel.type, channel.mediaStream);\n          }\n        }\n\n        // If this channel just became inactive\n        if (!isActive && channel.isActive) {\n          // Log audio silence\n          addLog({\n            channel: channel.type,\n            type: \"audio_silent\",\n            message: `Audio below threshold on ${channel.type} - Starting ${(silenceDelay / 1000).toFixed(1)}s silence delay`,\n          });\n\n          // Set silence timer to deactivate speakers and stop recording\n          const timer = setTimeout(async () => {\n            await deactivateSpeakersForChannel(channel.type);\n\n            // Stop recording and upload\n            if (channel.isRecording) {\n              const recordingUrl = await stopRecordingAndUpload(channel.type);\n\n              // Log recording saved\n              addLog({\n                channel: channel.type,\n                type: \"recording_saved\",\n                message: `Recording saved for ${channel.type}${recordingUrl ? ' ðŸŽ™ï¸' : ' (failed)'}`,\n                recordingUrl: recordingUrl || undefined,\n              });\n\n              console.log(`[InputRouting] ${channel.type} recording saved:`, recordingUrl || 'failed');\n            }\n\n            silenceTimersRef.current.delete(channel.type);\n          }, silenceDelay);\n\n          silenceTimersRef.current.set(channel.type, timer);\n        }\n\n        return {\n          ...channel,\n          isActive,\n          audioLevel,\n        };\n      });\n\n      return updatedChannels;\n    });\n\n    animationFrameRef.current = requestAnimationFrame(monitorChannels);\n  }, [isMonitoring, threshold, silenceDelay, startRecording, stopRecordingAndUpload, activateSpeakersForChannel, deactivateSpeakersForChannel, addLog]);\n\n  // Stop monitoring\n  const stopMonitoring = useCallback(() => {\n    console.log(\"[InputRouting] Stopping multi-input monitoring\");\n\n    addLog({\n      channel: \"system\",\n      type: \"system\",\n      message: \"Multi-input monitoring stopped - All channels shut down\",\n    });\n\n    // Cancel animation frame\n    if (animationFrameRef.current) {\n      cancelAnimationFrame(animationFrameRef.current);\n    }\n\n    // Clear all silence timers\n    silenceTimersRef.current.forEach((timer) => clearTimeout(timer));\n    silenceTimersRef.current.clear();\n\n    // Stop all recordings\n    channels.forEach(async (channel) => {\n      if (channel.isRecording) {\n        await stopRecordingAndUpload(channel.type);\n      }\n    });\n\n    // Stop all media streams\n    channels.forEach((channel) => {\n      if (channel.mediaStream) {\n        channel.mediaStream.getTracks().forEach((track) => track.stop());\n      }\n    });\n\n    // Reset channels\n    setChannels((prev) =>\n      prev.map((ch) => ({\n        ...ch,\n        isActive: false,\n        audioLevel: 0,\n        mediaStream: null,\n        analyser: null,\n        isRecording: false,\n        recordingStartTime: null,\n      }))\n    );\n\n    setIsMonitoring(false);\n  }, [channels, stopRecordingAndUpload, addLog]);\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n      channels.forEach((ch) => {\n        if (ch.mediaStream) {\n          ch.mediaStream.getTracks().forEach((track) => track.stop());\n        }\n      });\n    };\n  }, []);\n\n  // Get channel color\n  const getChannelColor = (type: InputChannelType) => {\n    switch (type) {\n      case \"medical\":\n        return \"text-blue-500\";\n      case \"fire\":\n        return \"text-red-500\";\n      case \"allCall\":\n        return \"text-purple-500\";\n    }\n  };\n\n  // Get channel icon\n  const getChannelIcon = (type: InputChannelType) => {\n    switch (type) {\n      case \"medical\":\n        return \"ðŸ¥\";\n      case \"fire\":\n        return \"ðŸ”¥\";\n      case \"allCall\":\n        return \"ðŸ“¢\";\n    }\n  };\n\n  const speakers = devices.filter((d) => d.type !== \"8301\");\n  const unassignedSpeakers = speakers.filter((s) => !s.inputAssignment);\n\n  return (\n    <AppLayout>\n      <div className=\"p-6 space-y-6\">\n        {/* Warning if audio input is active */}\n        {sessionState?.audioInputMonitoring && (\n          <Card className=\"border-orange-500 bg-orange-50 dark:bg-orange-950\">\n            <CardContent className=\"pt-6\">\n              <div className=\"flex items-center gap-2\">\n                <AlertTriangle className=\"h-5 w-5 text-orange-600\" />\n                <span className=\"text-orange-700 dark:text-orange-300 font-semibold\">\n                  Audio Input monitoring is currently active. Multi-Input Routing is disabled.\n                </span>\n              </div>\n            </CardContent>\n          </Card>\n        )}\n\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold\">Multi-Input Routing</h1>\n            <p className=\"text-muted-foreground\">\n              Monitor 3 audio inputs simultaneously and route to assigned speakers\n            </p>\n          </div>\n\n        <div className=\"flex items-center gap-4\">\n          {isMonitoring ? (\n            <Button onClick={stopMonitoring} variant=\"destructive\" size=\"lg\">\n              <Square className=\"mr-2 h-4 w-4\" />\n              Stop Monitoring\n            </Button>\n          ) : (\n            <Button\n              onClick={() => {\n                // Check if audio input monitoring is active\n                if (sessionState?.audioInputMonitoring) {\n                  alert('Cannot start multi-input monitoring: Audio Input monitoring is currently active. Please stop audio input monitoring first.');\n                  return;\n                }\n                startMonitoring();\n              }}\n              variant=\"default\"\n              size=\"lg\"\n              disabled={sessionState?.audioInputMonitoring}\n              title={sessionState?.audioInputMonitoring ? 'Audio Input monitoring is active' : ''}\n            >\n              <Play className=\"mr-2 h-4 w-4\" />\n              Start Monitoring\n            </Button>\n          )}\n        </div>\n      </div>\n\n      {/* Monitoring Status */}\n      {isMonitoring && (\n        <Card className=\"border-green-500 bg-green-50 dark:bg-green-950\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center gap-2\">\n              <Radio className=\"h-5 w-5 text-green-600 animate-pulse\" />\n              <span className=\"text-green-700 dark:text-green-300 font-semibold\">\n                Multi-Input Monitoring Active\n              </span>\n              <Badge variant=\"outline\" className=\"ml-auto\">\n                {channels.filter((ch) => ch.isActive).length} Active Channel(s)\n              </Badge>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Audio Settings */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Audio Settings</CardTitle>\n          <CardDescription>Configure detection, gain, and recording</CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <label className=\"text-sm font-medium\">Detection Threshold: {threshold} dB</label>\n            <Slider\n              value={threshold}\n              onChange={(e) => setThreshold(Number(e.target.value))}\n              min={-60}\n              max={-10}\n              step={1}\n              disabled={isMonitoring}\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <label className=\"text-sm font-medium\">Input Gain: {gain.toFixed(1)}x</label>\n            <Slider\n              value={gain * 10}\n              onChange={(e) => setGain(Number(e.target.value) / 10)}\n              min={1}\n              max={30}\n              step={1}\n              disabled={isMonitoring}\n            />\n          </div>\n\n          <div className=\"border-t pt-4\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <div className=\"space-y-0.5\">\n                <Label className=\"flex items-center gap-2\">\n                  <Film className=\"h-4 w-4\" />\n                  Auto Recording\n                </Label>\n                <p className=\"text-sm text-muted-foreground\">\n                  Automatically record audio from each channel\n                </p>\n              </div>\n              <Switch\n                checked={recordingEnabled}\n                onCheckedChange={setRecordingEnabled}\n                disabled={isMonitoring}\n              />\n            </div>\n\n            {recordingEnabled && (\n              <div className=\"space-y-2\">\n                <label className=\"text-sm font-medium\">\n                  Silence Delay: {(silenceDelay / 1000).toFixed(1)}s\n                </label>\n                <Slider\n                  value={silenceDelay}\n                  onChange={(e) => setSilenceDelay(Number(e.target.value))}\n                  min={500}\n                  max={5000}\n                  step={500}\n                  disabled={isMonitoring}\n                />\n                <p className=\"text-xs text-muted-foreground\">\n                  Wait time before stopping recording after audio ends\n                </p>\n              </div>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Input Channels */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        {channels.map((channel) => {\n          const assignedSpeakers = getSpeakersForInput(channel.type);\n\n          return (\n            <Card\n              key={channel.type}\n              className={`${\n                channel.isActive ? \"border-green-500 bg-green-50 dark:bg-green-950\" : \"\"\n              }`}\n            >\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2 flex-wrap\">\n                  <span className={getChannelColor(channel.type)}>\n                    {getChannelIcon(channel.type)} {channel.type.toUpperCase()}\n                  </span>\n                  <div className=\"flex gap-2 ml-auto\">\n                    {channel.isActive && (\n                      <Badge variant=\"outline\" className=\"bg-green-100 text-green-700\">\n                        ACTIVE\n                      </Badge>\n                    )}\n                    {channel.isRecording && (\n                      <Badge variant=\"outline\" className=\"bg-red-100 text-red-700\">\n                        ðŸ”´ REC\n                      </Badge>\n                    )}\n                  </div>\n                </CardTitle>\n                <CardDescription>\n                  {assignedSpeakers.length} speaker(s) assigned\n                  {channel.isRecording && recordingEnabled && (\n                    <span className=\"ml-2 text-red-600\">â€¢ Recording in progress</span>\n                  )}\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                {/* Input Device Selection */}\n                <div className=\"space-y-2\">\n                  <label className=\"text-sm font-medium flex items-center gap-2\">\n                    <Mic className=\"h-4 w-4\" />\n                    Audio Input Device\n                  </label>\n                  <Select\n                    value={channel.deviceId || \"none\"}\n                    onChange={(e) => updateChannelDevice(channel.type, e.target.value)}\n                    disabled={isMonitoring}\n                  >\n                    <option value=\"none\">None</option>\n                    {audioInputDevices.map((device) => (\n                      <option key={device.deviceId} value={device.deviceId}>\n                        {device.label || `Device ${device.deviceId.slice(0, 8)}`}\n                      </option>\n                    ))}\n                  </Select>\n                </div>\n\n                {/* Audio Level Meter */}\n                {isMonitoring && channel.analyser && (\n                  <div className=\"space-y-2\">\n                    <label className=\"text-sm font-medium flex items-center gap-2\">\n                      <Volume2 className=\"h-4 w-4\" />\n                      Audio Level\n                    </label>\n                    <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden\">\n                      <div\n                        className={`h-full transition-all ${\n                          channel.isActive ? \"bg-green-500\" : \"bg-blue-500\"\n                        }`}\n                        style={{ width: `${channel.audioLevel}%` }}\n                      />\n                    </div>\n                    <span className=\"text-xs text-muted-foreground\">\n                      {channel.audioLevel}%\n                    </span>\n                  </div>\n                )}\n\n                {/* Assigned Speakers */}\n                <div className=\"space-y-2\">\n                  <label className=\"text-sm font-medium\">Assigned Speakers</label>\n                  <div className=\"space-y-1 max-h-40 overflow-y-auto\">\n                    {assignedSpeakers.length === 0 ? (\n                      <p className=\"text-sm text-muted-foreground\">No speakers assigned</p>\n                    ) : (\n                      assignedSpeakers.map((speaker) => (\n                        <div\n                          key={speaker.id}\n                          className=\"flex items-center justify-between p-2 bg-gray-100 dark:bg-gray-800 rounded\"\n                        >\n                          <span className=\"text-sm\">{speaker.name}</span>\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            onClick={() => assignSpeakerToInput(speaker.id, null)}\n                            disabled={isMonitoring}\n                          >\n                            Remove\n                          </Button>\n                        </div>\n                      ))\n                    )}\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          );\n        })}\n      </div>\n\n      {/* Unassigned Speakers */}\n      {unassignedSpeakers.length > 0 && (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <AlertCircle className=\"h-5 w-5 text-orange-500\" />\n              Unassigned Speakers ({unassignedSpeakers.length})\n            </CardTitle>\n            <CardDescription>\n              These speakers are not assigned to any input channel\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\n              {unassignedSpeakers.map((speaker) => (\n                <div\n                  key={speaker.id}\n                  className=\"p-3 bg-gray-100 dark:bg-gray-800 rounded-lg space-y-2\"\n                >\n                  <p className=\"font-medium\">{speaker.name}</p>\n                  <div className=\"flex gap-2\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      className=\"flex-1\"\n                      onClick={() => assignSpeakerToInput(speaker.id, \"medical\")}\n                      disabled={isMonitoring}\n                    >\n                      ðŸ¥ Medical\n                    </Button>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      className=\"flex-1\"\n                      onClick={() => assignSpeakerToInput(speaker.id, \"fire\")}\n                      disabled={isMonitoring}\n                    >\n                      ðŸ”¥ Fire\n                    </Button>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      className=\"flex-1\"\n                      onClick={() => assignSpeakerToInput(speaker.id, \"allCall\")}\n                      disabled={isMonitoring}\n                    >\n                      ðŸ“¢ All Call\n                    </Button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Activity Log */}\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <CardTitle>Activity Log</CardTitle>\n            <div className=\"flex items-center gap-3\">\n              <div className=\"flex items-center gap-2\">\n                <Label htmlFor=\"logging-toggle\" className=\"text-sm font-normal\">\n                  Enable Logging\n                </Label>\n                <Switch\n                  id=\"logging-toggle\"\n                  checked={loggingEnabled}\n                  onCheckedChange={setLoggingEnabled}\n                />\n              </div>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={clearLogs}\n                disabled={logs.length === 0}\n              >\n                Clear\n              </Button>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={exportLogs}\n                disabled={logs.length === 0}\n              >\n                Export CSV\n              </Button>\n            </div>\n          </div>\n          <CardDescription>\n            Real-time activity tracking for multi-input monitoring\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-2 max-h-96 overflow-y-auto\">\n            {logs.length === 0 ? (\n              <p className=\"text-center text-muted-foreground py-8\">\n                No activity logged yet. {!loggingEnabled && \"Logging is disabled.\"}\n              </p>\n            ) : (\n              logs.slice().reverse().map((log, idx) => {\n                const getChannelColor = (channel: string) => {\n                  switch (channel) {\n                    case \"medical\": return \"text-blue-600 bg-blue-100 dark:bg-blue-950\";\n                    case \"fire\": return \"text-red-600 bg-red-100 dark:bg-red-950\";\n                    case \"allCall\": return \"text-purple-600 bg-purple-100 dark:bg-purple-950\";\n                    default: return \"text-gray-600 bg-gray-100 dark:bg-gray-800\";\n                  }\n                };\n\n                const getTypeIcon = (type: string) => {\n                  switch (type) {\n                    case \"audio_detected\": return \"ðŸŽ¤\";\n                    case \"audio_silent\": return \"ðŸ”‡\";\n                    case \"speakers_enabled\": return \"ðŸ”Š\";\n                    case \"speakers_disabled\": return \"ðŸ”•\";\n                    case \"recording_saved\": return \"ðŸŽ™ï¸\";\n                    default: return \"â„¹ï¸\";\n                  }\n                };\n\n                return (\n                  <div\n                    key={`${log.timestamp}-${idx}`}\n                    className=\"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-900 rounded-lg text-sm\"\n                  >\n                    <span className=\"text-lg\">{getTypeIcon(log.type)}</span>\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex items-center gap-2 flex-wrap\">\n                        <Badge className={getChannelColor(log.channel)}>\n                          {log.channel.toUpperCase()}\n                        </Badge>\n                        <span className=\"text-xs text-muted-foreground\">\n                          {new Date(log.timestamp).toLocaleTimeString()}\n                        </span>\n                      </div>\n                      <p className=\"mt-1 text-sm\">{log.message}</p>\n                      {log.recordingUrl && (\n                        <a\n                          href={log.recordingUrl}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          className=\"text-xs text-blue-600 hover:underline mt-1 inline-block\"\n                        >\n                          ðŸ“Ž Download Recording\n                        </a>\n                      )}\n                    </div>\n                  </div>\n                );\n              })\n            )}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Help Text */}\n      <Card className=\"border-blue-500 bg-blue-50 dark:bg-blue-950\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex gap-3\">\n            <CheckCircle2 className=\"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0\" />\n            <div className=\"space-y-2 text-sm text-blue-700 dark:text-blue-300\">\n              <p className=\"font-semibold\">How Multi-Input Routing Works:</p>\n              <ol className=\"list-decimal list-inside space-y-1 ml-2\">\n                <li>Assign speakers to input channels (Medical, Fire, All Call)</li>\n                <li>Select audio input device for each channel</li>\n                <li>Enable auto recording to save audio from each channel (optional)</li>\n                <li>Start monitoring - all 3 inputs are listened to simultaneously</li>\n                <li>When audio is detected on an input, only speakers assigned to that input activate</li>\n                <li>Recordings are saved with channel metadata (medical-timestamp.opus, fire-timestamp.opus)</li>\n                <li>Only ONE input will be active at any time (dispatch controls manually)</li>\n              </ol>\n              <p className=\"mt-3 text-xs\">\n                <strong>Recording:</strong> Audio is automatically recorded for each channel when enabled. Recordings are saved to Firebase Storage in the multi-input-recordings folder with the channel type in the filename.\n              </p>\n              <p className=\"mt-2 text-xs\">\n                <strong>OBS Noise Reduction:</strong> Configure 3 separate Audio Input Capture sources with filters, then route each to a separate virtual audio device (VAIO1, VAIO2, VAIO3 or BlackHole channels).\n              </p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n      </div>\n    </AppLayout>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}