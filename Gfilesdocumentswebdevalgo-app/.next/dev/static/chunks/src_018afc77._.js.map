{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\n/**\n * Merge Tailwind CSS classes with clsx\n */\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\n/**\n * Format bytes to human readable string\n */\nexport function formatBytes(bytes: number, decimals = 2): string {\n  if (bytes === 0) return \"0 Bytes\";\n\n  const k = 1024;\n  const dm = decimals < 0 ? 0 : decimals;\n  const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\"];\n\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\n}\n\n/**\n * Format duration in seconds to mm:ss\n */\nexport function formatDuration(seconds: number): string {\n  const mins = Math.floor(seconds / 60);\n  const secs = Math.floor(seconds % 60);\n  return `${mins}:${secs.toString().padStart(2, \"0\")}`;\n}\n\n/**\n * Format date to locale string\n */\nexport function formatDate(date: Date | string | null): string {\n  if (!date) return \"Never\";\n  const d = typeof date === \"string\" ? new Date(date) : date;\n  return d.toLocaleString();\n}\n\n/**\n * Validate IP address format\n */\nexport function isValidIpAddress(ip: string): boolean {\n  const ipRegex = /^(\\d{1,3}\\.){3}\\d{1,3}$/;\n  if (!ipRegex.test(ip)) return false;\n\n  const parts = ip.split(\".\");\n  return parts.every((part) => {\n    const num = parseInt(part, 10);\n    return num >= 0 && num <= 255;\n  });\n}\n\n/**\n * Generate a random string ID\n */\nexport function generateId(): string {\n  return Math.random().toString(36).substring(2, 15);\n}\n\n/**\n * Delay execution\n */\nexport function delay(ms: number): Promise<void> {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\n\n/**\n * Parse Algo volume string to number\n * e.g., \"Page Volume: 10 (0dB)\" -> 10\n */\nexport function parseAlgoVolume(volumeStr: string): number {\n  const match = volumeStr.match(/Volume:\\s*(\\d+)/);\n  return match ? parseInt(match[1], 10) : 50;\n}\n\n/**\n * Convert volume number to dB string for Algo API\n */\nexport function volumeToDb(volume: number): string {\n  // Algo uses -42dB to 0dB range typically\n  const db = Math.round((volume / 100) * 42 - 42);\n  return `${db}dB`;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;;;AAKO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB;AAKO,SAAS,YAAY,KAAa,EAAE,WAAW,CAAC;IACrD,IAAI,UAAU,GAAG,OAAO;IAExB,MAAM,IAAI;IACV,MAAM,KAAK,WAAW,IAAI,IAAI;IAC9B,MAAM,QAAQ;QAAC;QAAS;QAAM;QAAM;KAAK;IAEzC,MAAM,IAAI,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC,SAAS,KAAK,GAAG,CAAC;IAEhD,OAAO,WAAW,CAAC,QAAQ,KAAK,GAAG,CAAC,GAAG,EAAE,EAAE,OAAO,CAAC,OAAO,MAAM,KAAK,CAAC,EAAE;AAC1E;AAKO,SAAS,eAAe,OAAe;IAC5C,MAAM,OAAO,KAAK,KAAK,CAAC,UAAU;IAClC,MAAM,OAAO,KAAK,KAAK,CAAC,UAAU;IAClC,OAAO,GAAG,KAAK,CAAC,EAAE,KAAK,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;AACtD;AAKO,SAAS,WAAW,IAA0B;IACnD,IAAI,CAAC,MAAM,OAAO;IAClB,MAAM,IAAI,OAAO,SAAS,WAAW,IAAI,KAAK,QAAQ;IACtD,OAAO,EAAE,cAAc;AACzB;AAKO,SAAS,iBAAiB,EAAU;IACzC,MAAM,UAAU;IAChB,IAAI,CAAC,QAAQ,IAAI,CAAC,KAAK,OAAO;IAE9B,MAAM,QAAQ,GAAG,KAAK,CAAC;IACvB,OAAO,MAAM,KAAK,CAAC,CAAC;QAClB,MAAM,MAAM,SAAS,MAAM;QAC3B,OAAO,OAAO,KAAK,OAAO;IAC5B;AACF;AAKO,SAAS;IACd,OAAO,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,SAAS,CAAC,GAAG;AACjD;AAKO,SAAS,MAAM,EAAU;IAC9B,OAAO,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;AACtD;AAMO,SAAS,gBAAgB,SAAiB;IAC/C,MAAM,QAAQ,UAAU,KAAK,CAAC;IAC9B,OAAO,QAAQ,SAAS,KAAK,CAAC,EAAE,EAAE,MAAM;AAC1C;AAKO,SAAS,WAAW,MAAc;IACvC,yCAAyC;IACzC,MAAM,KAAK,KAAK,KAAK,CAAC,AAAC,SAAS,MAAO,KAAK;IAC5C,OAAO,GAAG,GAAG,EAAE,CAAC;AAClB"}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/ui/button.tsx"],"sourcesContent":["import { forwardRef, type ButtonHTMLAttributes } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: \"default\" | \"destructive\" | \"outline\" | \"secondary\" | \"ghost\" | \"link\";\n  size?: \"default\" | \"sm\" | \"lg\" | \"icon\";\n  isLoading?: boolean;\n}\n\nconst Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant = \"default\", size = \"default\", isLoading, children, disabled, ...props }, ref) => {\n    const baseStyles =\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-semibold transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg-primary)] disabled:pointer-events-none disabled:opacity-50\";\n\n    const variants = {\n      default: \"bg-[var(--accent-blue)] text-white hover:bg-[var(--accent-blue)]/90 focus-visible:ring-[var(--accent-blue)]\",\n      destructive: \"bg-[var(--accent-red)] text-white hover:bg-[var(--accent-red)]/90 focus-visible:ring-[var(--accent-red)]\",\n      outline: \"border border-[var(--border-color)] bg-transparent text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)] hover:border-[var(--border-active)] focus-visible:ring-[var(--accent-blue)]\",\n      secondary: \"bg-[var(--bg-tertiary)] text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]/80 focus-visible:ring-[var(--border-active)]\",\n      ghost: \"text-[var(--text-secondary)] hover:bg-[var(--bg-tertiary)] hover:text-[var(--text-primary)] focus-visible:ring-[var(--border-active)]\",\n      link: \"text-[var(--accent-blue)] underline-offset-4 hover:underline focus-visible:ring-[var(--accent-blue)]\",\n    };\n\n    const sizes = {\n      default: \"h-10 px-4 py-2\",\n      sm: \"h-9 rounded-md px-3 text-xs\",\n      lg: \"h-11 rounded-lg px-8\",\n      icon: \"h-10 w-10\",\n    };\n\n    return (\n      <button\n        className={cn(baseStyles, variants[variant], sizes[size], className)}\n        ref={ref}\n        disabled={disabled || isLoading}\n        {...props}\n      >\n        {isLoading ? (\n          <>\n            <svg\n              className=\"mr-2 h-4 w-4 animate-spin\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n            >\n              <circle\n                className=\"opacity-25\"\n                cx=\"12\"\n                cy=\"12\"\n                r=\"10\"\n                stroke=\"currentColor\"\n                strokeWidth=\"4\"\n              />\n              <path\n                className=\"opacity-75\"\n                fill=\"currentColor\"\n                d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n              />\n            </svg>\n            Loading...\n          </>\n        ) : (\n          children\n        )}\n      </button>\n    );\n  }\n);\n\nButton.displayName = \"Button\";\n\nexport { Button };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAQA,MAAM,uBAAS,IAAA,2KAAU,OACvB,CAAC,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,OAAO,SAAS,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IAC9F,MAAM,aACJ;IAEF,MAAM,WAAW;QACf,SAAS;QACT,aAAa;QACb,SAAS;QACT,WAAW;QACX,OAAO;QACP,MAAM;IACR;IAEA,MAAM,QAAQ;QACZ,SAAS;QACT,IAAI;QACJ,IAAI;QACJ,MAAM;IACR;IAEA,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EAAC,YAAY,QAAQ,CAAC,QAAQ,EAAE,KAAK,CAAC,KAAK,EAAE;QAC1D,KAAK;QACL,UAAU,YAAY;QACrB,GAAG,KAAK;kBAER,0BACC;;8BACE,6LAAC;oBACC,WAAU;oBACV,OAAM;oBACN,MAAK;oBACL,SAAQ;;sCAER,6LAAC;4BACC,WAAU;4BACV,IAAG;4BACH,IAAG;4BACH,GAAE;4BACF,QAAO;4BACP,aAAY;;;;;;sCAEd,6LAAC;4BACC,WAAU;4BACV,MAAK;4BACL,GAAE;;;;;;;;;;;;gBAEA;;2BAIR;;;;;;AAIR;;AAGF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/ui/input.tsx"],"sourcesContent":["import { forwardRef, type InputHTMLAttributes } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface InputProps extends InputHTMLAttributes<HTMLInputElement> {\n  error?: string;\n}\n\nconst Input = forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, error, ...props }, ref) => {\n    return (\n      <div className=\"w-full\">\n        <input\n          type={type}\n          className={cn(\n            \"flex h-10 w-full rounded-lg border border-[var(--border-color)] bg-[var(--bg-tertiary)] px-3 py-2 text-sm text-[var(--text-primary)] ring-offset-[var(--bg-primary)] file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-[var(--text-muted)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-blue)] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n            error && \"border-[var(--accent-red)] focus-visible:ring-[var(--accent-red)]\",\n            className\n          )}\n          ref={ref}\n          {...props}\n        />\n        {error && <p className=\"mt-1 text-sm text-[var(--accent-red)]\">{error}</p>}\n      </div>\n    );\n  }\n);\n\nInput.displayName = \"Input\";\n\nexport { Input };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAMA,MAAM,sBAAQ,IAAA,2KAAU,OACtB,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE;IACrC,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,MAAM;gBACN,WAAW,IAAA,4HAAE,EACX,ibACA,SAAS,qEACT;gBAEF,KAAK;gBACJ,GAAG,KAAK;;;;;;YAEV,uBAAS,6LAAC;gBAAE,WAAU;0BAAyC;;;;;;;;;;;;AAGtE;;AAGF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 225, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/ui/label.tsx"],"sourcesContent":["import { forwardRef, type LabelHTMLAttributes } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst Label = forwardRef<HTMLLabelElement, LabelHTMLAttributes<HTMLLabelElement>>(\n  ({ className, ...props }, ref) => (\n    <label\n      ref={ref}\n      className={cn(\n        \"text-sm font-semibold leading-none text-[var(--text-secondary)] peer-disabled:cursor-not-allowed peer-disabled:opacity-70\",\n        className\n      )}\n      {...props}\n    />\n  )\n);\n\nLabel.displayName = \"Label\";\n\nexport { Label };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,MAAM,sBAAQ,IAAA,2KAAU,OACtB,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,6HACA;QAED,GAAG,KAAK;;;;;;;AAKf,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 257, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/ui/card.tsx"],"sourcesContent":["import { forwardRef, type HTMLAttributes } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst Card = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      className={cn(\n        \"rounded-2xl border border-[var(--border-color)] bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n);\nCard.displayName = \"Card\";\n\nconst CardHeader = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n      {...props}\n    />\n  )\n);\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = forwardRef<HTMLParagraphElement, HTMLAttributes<HTMLHeadingElement>>(\n  ({ className, ...props }, ref) => (\n    <h3\n      ref={ref}\n      className={cn(\"text-lg font-semibold leading-none tracking-tight text-[var(--text-primary)]\", className)}\n      {...props}\n    />\n  )\n);\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = forwardRef<HTMLParagraphElement, HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, ...props }, ref) => (\n    <p\n      ref={ref}\n      className={cn(\"text-sm text-[var(--text-secondary)]\", className)}\n      {...props}\n    />\n  )\n);\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n  )\n);\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      className={cn(\"flex items-center p-6 pt-0\", className)}\n      {...props}\n    />\n  )\n);\nCardFooter.displayName = \"CardFooter\";\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;;;;AAEA,MAAM,qBAAO,IAAA,2KAAU,OACrB,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,4GACA;QAED,GAAG,KAAK;;;;;;;AAIf,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,IAAA,2KAAU,QAC3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAIf,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,IAAA,2KAAU,QAC1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,gFAAgF;QAC7F,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,IAAA,2KAAU,QAChC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,wCAAwC;QACrD,GAAG,KAAK;;;;;;;AAIf,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,IAAA,2KAAU,QAC5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAGlE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,IAAA,2KAAU,SAC3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAIf,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 364, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/auth/login-form.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useAuth } from \"@/contexts/auth-context\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Radio } from \"lucide-react\";\n\nexport function LoginForm() {\n  const { signIn } = useAuth();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n    setLoading(true);\n\n    try {\n      await signIn(email, password);\n    } catch {\n      setError(\"Invalid email or password\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex min-h-screen items-center justify-center bg-[var(--bg-primary)] px-4\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader className=\"text-center\">\n          <div className=\"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-2xl gradient-fire\">\n            <Radio className=\"h-8 w-8 text-white\" />\n          </div>\n          <CardTitle className=\"text-2xl\">\n            Algo<span className=\"text-[var(--accent-orange)]\">Sound</span>\n          </CardTitle>\n          <CardDescription>\n            Sign in to manage your Algo sound distribution system\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            {error && (\n              <div className=\"rounded-lg bg-[var(--accent-red)]/15 border border-[var(--accent-red)]/30 p-3 text-sm text-[var(--accent-red)]\">\n                {error}\n              </div>\n            )}\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"email\">Email</Label>\n              <Input\n                id=\"email\"\n                type=\"email\"\n                placeholder=\"admin@example.com\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                required\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"password\">Password</Label>\n              <Input\n                id=\"password\"\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n              />\n            </div>\n            <Button type=\"submit\" className=\"w-full\" isLoading={loading}>\n              Sign In\n            </Button>\n          </form>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;;AAUO,SAAS;;IACd,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,iJAAO;IAC1B,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QAEX,IAAI;YACF,MAAM,OAAO,OAAO;QACtB,EAAE,OAAM;YACN,SAAS;QACX,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC,2IAAI;YAAC,WAAU;;8BACd,6LAAC,iJAAU;oBAAC,WAAU;;sCACpB,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,gNAAK;gCAAC,WAAU;;;;;;;;;;;sCAEnB,6LAAC,gJAAS;4BAAC,WAAU;;gCAAW;8CAC1B,6LAAC;oCAAK,WAAU;8CAA8B;;;;;;;;;;;;sCAEpD,6LAAC,sJAAe;sCAAC;;;;;;;;;;;;8BAInB,6LAAC,kJAAW;8BACV,cAAA,6LAAC;wBAAK,UAAU;wBAAc,WAAU;;4BACrC,uBACC,6LAAC;gCAAI,WAAU;0CACZ;;;;;;0CAGL,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,6IAAK;wCAAC,SAAQ;kDAAQ;;;;;;kDACvB,6LAAC,6IAAK;wCACJ,IAAG;wCACH,MAAK;wCACL,aAAY;wCACZ,OAAO;wCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wCACxC,QAAQ;;;;;;;;;;;;0CAGZ,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,6IAAK;wCAAC,SAAQ;kDAAW;;;;;;kDAC1B,6LAAC,6IAAK;wCACJ,IAAG;wCACH,MAAK;wCACL,OAAO;wCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wCAC3C,QAAQ;;;;;;;;;;;;0CAGZ,6LAAC,+IAAM;gCAAC,MAAK;gCAAS,WAAU;gCAAS,WAAW;0CAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQzE;GAvEgB;;QACK,iJAAO;;;KADZ"}},
    {"offset": {"line": 576, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/layout/sidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport {\n  LayoutDashboard,\n  Speaker,\n  Mic,\n  Radio,\n  Settings,\n  LogOut,\n  Menu,\n  X,\n  Map,\n  Activity,\n  Network,\n  Lightbulb,\n  Gamepad2,\n} from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { useState, useMemo } from \"react\";\nimport { useAudioMonitoring } from \"@/contexts/audio-monitoring-context\";\nimport { useAuth } from \"@/contexts/auth-context\";\n\ninterface NavItem {\n  title: string;\n  href: string;\n  icon: React.ElementType;\n  section?: string;\n  adminOnly?: boolean;\n}\n\nconst baseNavItems: NavItem[] = [\n  { title: \"Dashboard\", href: \"/\", icon: LayoutDashboard, section: \"Overview\" },\n  { title: \"Station Zones\", href: \"/zones\", icon: Map, section: \"Overview\" },\n  { title: \"Call Routing\", href: \"/distribute\", icon: Activity, section: \"Overview\" },\n  { title: \"Audio Input\", href: \"/live\", icon: Mic, section: \"Audio\" },\n  { title: \"Multi-Input Routing\", href: \"/input-routing\", icon: Network, section: \"Audio\" },\n  { title: \"Output & Speakers\", href: \"/devices\", icon: Speaker, section: \"Audio\" },\n  { title: \"PoE Devices\", href: \"/poe-devices\", icon: Lightbulb, section: \"Audio\" },\n  { title: \"Settings\", href: \"/settings\", icon: Settings, section: \"System\" },\n  { title: \"Control Center\", href: \"/admin/control\", icon: Gamepad2, section: \"Admin\", adminOnly: true },\n];\n\ninterface SidebarProps {\n  onLogout: () => void;\n}\n\nexport function Sidebar({ onLogout }: SidebarProps) {\n  const pathname = usePathname();\n  const [isMobileOpen, setIsMobileOpen] = useState(false);\n  const { isCapturing, audioDetected, speakersEnabled } = useAudioMonitoring();\n  const { user } = useAuth();\n\n  const isAdmin = (user as any)?.role === \"admin\";\n\n  // Filter nav items based on user role\n  const navItems = useMemo(() => {\n    return baseNavItems.filter(item => !item.adminOnly || isAdmin);\n  }, [isAdmin]);\n\n  // Group items by section\n  const sections = navItems.reduce((acc, item) => {\n    const section = item.section || \"Other\";\n    if (!acc[section]) acc[section] = [];\n    acc[section].push(item);\n    return acc;\n  }, {} as Record<string, NavItem[]>);\n\n  return (\n    <>\n      {/* Mobile menu button */}\n      <button\n        className=\"fixed left-4 top-4 z-50 rounded-lg bg-[var(--bg-secondary)] border border-[var(--border-color)] p-2 shadow-lg lg:hidden\"\n        onClick={() => setIsMobileOpen(!isMobileOpen)}\n      >\n        {isMobileOpen ? (\n          <X size={24} className=\"text-[var(--text-primary)]\" />\n        ) : (\n          <Menu size={24} className=\"text-[var(--text-primary)]\" />\n        )}\n      </button>\n\n      {/* Overlay for mobile */}\n      {isMobileOpen && (\n        <div\n          className=\"fixed inset-0 z-30 bg-black/70 lg:hidden\"\n          onClick={() => setIsMobileOpen(false)}\n        />\n      )}\n\n      {/* Sidebar */}\n      <aside\n        className={cn(\n          \"fixed left-0 top-0 z-40 h-screen w-[260px] transform border-r border-[var(--border-color)] bg-[var(--bg-secondary)] transition-transform duration-200 ease-in-out lg:translate-x-0 flex flex-col\",\n          isMobileOpen ? \"translate-x-0\" : \"-translate-x-full\"\n        )}\n      >\n        {/* Logo */}\n        <div className=\"flex h-[72px] items-center border-b border-[var(--border-color)] px-6\">\n          <Link href=\"/\" className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-xl gradient-fire flex items-center justify-center\">\n              <Radio className=\"h-6 w-6 text-white\" />\n            </div>\n            <span className=\"text-xl font-bold text-[var(--text-primary)]\">\n              Algo<span className=\"text-[var(--accent-orange)]\">Sound</span>\n            </span>\n          </Link>\n        </div>\n\n        {/* Navigation */}\n        <nav className=\"flex-1 overflow-y-auto px-3 py-4\">\n          {Object.entries(sections).map(([section, items]) => (\n            <div key={section}>\n              <div className=\"px-3 py-2 mt-2 first:mt-0\">\n                <span className=\"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-muted)]\">\n                  {section}\n                </span>\n              </div>\n              {items.map((item) => {\n                const isActive = pathname === item.href;\n                return (\n                  <Link\n                    key={item.href}\n                    href={item.href}\n                    onClick={() => setIsMobileOpen(false)}\n                    className={cn(\n                      \"flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium transition-all mb-1\",\n                      isActive\n                        ? \"bg-gradient-to-r from-[var(--accent-blue)]/15 to-[var(--accent-blue)]/5 text-[var(--accent-blue)] border border-[var(--accent-blue)]/30\"\n                        : \"text-[var(--text-secondary)] hover:bg-[var(--bg-tertiary)] hover:text-[var(--text-primary)]\"\n                    )}\n                  >\n                    <item.icon className=\"h-5 w-5\" strokeWidth={1.5} />\n                    <span>{item.title}</span>\n                  </Link>\n                );\n              })}\n            </div>\n          ))}\n        </nav>\n\n        {/* Alert Status */}\n        <div className=\"mx-3 mb-4\">\n          <div\n            className={cn(\n              \"rounded-xl border p-4 transition-all\",\n              isCapturing && speakersEnabled\n                ? \"bg-gradient-to-r from-[var(--accent-red)]/15 to-[var(--accent-orange)]/10 border-[var(--accent-red)]/40 animate-pulse-alert\"\n                : \"bg-[var(--bg-tertiary)] border-[var(--border-color)]\"\n            )}\n          >\n            <div className=\"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-muted)] mb-2\">\n              System Status\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <div\n                className={cn(\n                  \"w-2 h-2 rounded-full\",\n                  !isCapturing\n                    ? \"bg-[var(--text-muted)]\"\n                    : speakersEnabled\n                    ? \"bg-[var(--accent-red)] animate-blink\"\n                    : \"bg-[var(--accent-green)]\"\n                )}\n              />\n              <span\n                className={cn(\n                  \"text-sm font-semibold\",\n                  !isCapturing\n                    ? \"text-[var(--text-muted)]\"\n                    : speakersEnabled\n                    ? \"text-[var(--accent-red)]\"\n                    : \"text-[var(--accent-green)]\"\n                )}\n              >\n                {!isCapturing\n                  ? \"Offline\"\n                  : speakersEnabled\n                  ? \"Broadcasting\"\n                  : \"Standby\"}\n              </span>\n            </div>\n            {isCapturing && (\n              <div className=\"mt-2 text-xs text-[var(--text-muted)]\">\n                Audio: {audioDetected ? \"Detected\" : \"Silent\"}\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* User Section */}\n        <div className=\"border-t border-[var(--border-color)] p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-9 h-9 rounded-lg gradient-medical flex items-center justify-center text-white font-semibold text-sm\">\n              {user?.email?.charAt(0).toUpperCase() || \"U\"}\n            </div>\n            <div className=\"flex-1 min-w-0\">\n              <div className=\"text-sm font-semibold text-[var(--text-primary)] truncate\">\n                {user?.email?.split(\"@\")[0] || \"User\"}\n              </div>\n              <div className=\"text-xs text-[var(--text-muted)]\">Administrator</div>\n            </div>\n            <button\n              onClick={onLogout}\n              className=\"p-2 rounded-lg hover:bg-[var(--bg-tertiary)] text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors\"\n              title=\"Logout\"\n            >\n              <LogOut className=\"h-4 w-4\" />\n            </button>\n          </div>\n        </div>\n      </aside>\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 985, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/realtime-cursors.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useRealtimeSync } from \"@/contexts/realtime-sync-context\";\nimport { MousePointer2 } from \"lucide-react\";\n\nexport function RealtimeCursors() {\n  const { cursors, updateMyCursor } = useRealtimeSync();\n  const [windowSize, setWindowSize] = useState({ width: 0, height: 0 });\n\n  // Track window size for cursor positioning\n  useEffect(() => {\n    const updateSize = () => {\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    };\n\n    updateSize();\n    window.addEventListener(\"resize\", updateSize);\n    return () => window.removeEventListener(\"resize\", updateSize);\n  }, []);\n\n  // Track mouse movement with throttling\n  useEffect(() => {\n    let rafId: number | null = null;\n    let lastUpdateTime = 0;\n    const THROTTLE_MS = 50; // Update cursor max every 50ms\n\n    const handleMouseMove = (e: MouseEvent) => {\n      const now = Date.now();\n\n      // Throttle updates to reduce Firebase writes\n      if (now - lastUpdateTime < THROTTLE_MS) {\n        return;\n      }\n\n      if (rafId !== null) {\n        cancelAnimationFrame(rafId);\n      }\n\n      rafId = requestAnimationFrame(() => {\n        updateMyCursor(e.clientX, e.clientY, false);\n        lastUpdateTime = now;\n        rafId = null;\n      });\n    };\n\n    const handleMouseDown = (e: MouseEvent) => {\n      updateMyCursor(e.clientX, e.clientY, true);\n      // Reset click state after animation\n      setTimeout(() => {\n        updateMyCursor(e.clientX, e.clientY, false);\n      }, 300);\n    };\n\n    window.addEventListener(\"mousemove\", handleMouseMove, { passive: true });\n    window.addEventListener(\"mousedown\", handleMouseDown);\n\n    return () => {\n      if (rafId !== null) {\n        cancelAnimationFrame(rafId);\n      }\n      window.removeEventListener(\"mousemove\", handleMouseMove);\n      window.removeEventListener(\"mousedown\", handleMouseDown);\n    };\n  }, [updateMyCursor]);\n\n  return (\n    <div className=\"fixed inset-0 pointer-events-none z-[9999]\">\n      {cursors.map((cursor) => (\n        <div\n          key={cursor.userId}\n          className=\"absolute transition-all duration-100 ease-out\"\n          style={{\n            left: `${cursor.x}px`,\n            top: `${cursor.y}px`,\n            transform: \"translate(-2px, -2px)\",\n          }}\n        >\n          {/* Cursor arrow */}\n          <div className=\"relative\">\n            <MousePointer2\n              className={`transition-transform duration-200 ${\n                cursor.isClicking ? \"scale-75\" : \"scale-100\"\n              }`}\n              style={{\n                color: cursor.color,\n                filter: \"drop-shadow(0 2px 4px rgba(0,0,0,0.3))\",\n              }}\n              size={24}\n            />\n\n            {/* Click animation ripple */}\n            {cursor.isClicking && (\n              <div\n                className=\"absolute top-0 left-0 w-6 h-6 rounded-full animate-ping\"\n                style={{\n                  backgroundColor: cursor.color,\n                  opacity: 0.4,\n                }}\n              />\n            )}\n\n            {/* User name label */}\n            <div\n              className=\"absolute top-6 left-6 px-2 py-1 rounded text-xs font-medium whitespace-nowrap shadow-lg\"\n              style={{\n                backgroundColor: cursor.color,\n                color: \"white\",\n              }}\n            >\n              {cursor.userName}\n              {cursor.userRole === \"admin\" && \" ðŸ‘‘\"}\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMO,SAAS;;IACd,MAAM,EAAE,OAAO,EAAE,cAAc,EAAE,GAAG,IAAA,qKAAe;IACnD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;QAAE,OAAO;QAAG,QAAQ;IAAE;IAEnE,2CAA2C;IAC3C,IAAA,0KAAS;qCAAC;YACR,MAAM;wDAAa;oBACjB,cAAc;wBACZ,OAAO,OAAO,UAAU;wBACxB,QAAQ,OAAO,WAAW;oBAC5B;gBACF;;YAEA;YACA,OAAO,gBAAgB,CAAC,UAAU;YAClC;6CAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;;QACpD;oCAAG,EAAE;IAEL,uCAAuC;IACvC,IAAA,0KAAS;qCAAC;YACR,IAAI,QAAuB;YAC3B,IAAI,iBAAiB;YACrB,MAAM,cAAc,IAAI,+BAA+B;YAEvD,MAAM;6DAAkB,CAAC;oBACvB,MAAM,MAAM,KAAK,GAAG;oBAEpB,6CAA6C;oBAC7C,IAAI,MAAM,iBAAiB,aAAa;wBACtC;oBACF;oBAEA,IAAI,UAAU,MAAM;wBAClB,qBAAqB;oBACvB;oBAEA,QAAQ;qEAAsB;4BAC5B,eAAe,EAAE,OAAO,EAAE,EAAE,OAAO,EAAE;4BACrC,iBAAiB;4BACjB,QAAQ;wBACV;;gBACF;;YAEA,MAAM;6DAAkB,CAAC;oBACvB,eAAe,EAAE,OAAO,EAAE,EAAE,OAAO,EAAE;oBACrC,oCAAoC;oBACpC;qEAAW;4BACT,eAAe,EAAE,OAAO,EAAE,EAAE,OAAO,EAAE;wBACvC;oEAAG;gBACL;;YAEA,OAAO,gBAAgB,CAAC,aAAa,iBAAiB;gBAAE,SAAS;YAAK;YACtE,OAAO,gBAAgB,CAAC,aAAa;YAErC;6CAAO;oBACL,IAAI,UAAU,MAAM;wBAClB,qBAAqB;oBACvB;oBACA,OAAO,mBAAmB,CAAC,aAAa;oBACxC,OAAO,mBAAmB,CAAC,aAAa;gBAC1C;;QACF;oCAAG;QAAC;KAAe;IAEnB,qBACE,6LAAC;QAAI,WAAU;kBACZ,QAAQ,GAAG,CAAC,CAAC,uBACZ,6LAAC;gBAEC,WAAU;gBACV,OAAO;oBACL,MAAM,GAAG,OAAO,CAAC,CAAC,EAAE,CAAC;oBACrB,KAAK,GAAG,OAAO,CAAC,CAAC,EAAE,CAAC;oBACpB,WAAW;gBACb;0BAGA,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,gPAAa;4BACZ,WAAW,CAAC,kCAAkC,EAC5C,OAAO,UAAU,GAAG,aAAa,aACjC;4BACF,OAAO;gCACL,OAAO,OAAO,KAAK;gCACnB,QAAQ;4BACV;4BACA,MAAM;;;;;;wBAIP,OAAO,UAAU,kBAChB,6LAAC;4BACC,WAAU;4BACV,OAAO;gCACL,iBAAiB,OAAO,KAAK;gCAC7B,SAAS;4BACX;;;;;;sCAKJ,6LAAC;4BACC,WAAU;4BACV,OAAO;gCACL,iBAAiB,OAAO,KAAK;gCAC7B,OAAO;4BACT;;gCAEC,OAAO,QAAQ;gCACf,OAAO,QAAQ,KAAK,WAAW;;;;;;;;;;;;;eAzC/B,OAAO,MAAM;;;;;;;;;;AAgD5B;GAnHgB;;QACsB,qKAAe;;;KADrC"}},
    {"offset": {"line": 1159, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/control-status-widget.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useRealtimeSync } from \"@/contexts/realtime-sync-context\";\nimport { Gamepad2, ChevronRight, ChevronLeft, X } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\n\nexport function ControlStatusWidget() {\n  const { isBeingControlled, controllersInfo } = useRealtimeSync();\n  const [isExpanded, setIsExpanded] = useState(true);\n\n  if (!isBeingControlled || controllersInfo.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className=\"fixed top-4 right-4 z-[9998] flex items-start gap-2\">\n      {/* Expand/Collapse button */}\n      <button\n        onClick={() => setIsExpanded(!isExpanded)}\n        className=\"p-2 rounded-lg bg-[var(--bg-card)] border border-[var(--accent-blue)]/50 hover:bg-[var(--bg-secondary)] transition-colors shadow-lg\"\n        title={isExpanded ? \"Collapse\" : \"Expand\"}\n      >\n        {isExpanded ? (\n          <ChevronRight className=\"h-4 w-4 text-[var(--accent-blue)]\" />\n        ) : (\n          <ChevronLeft className=\"h-4 w-4 text-[var(--accent-blue)]\" />\n        )}\n      </button>\n\n      {/* Status panel */}\n      <div\n        className={`bg-[var(--bg-card)] border border-[var(--accent-blue)]/50 rounded-lg shadow-lg transition-all duration-300 overflow-hidden ${\n          isExpanded ? \"opacity-100 max-w-xs\" : \"opacity-0 max-w-0\"\n        }`}\n      >\n        <div className=\"p-3 space-y-2\">\n          {/* Header */}\n          <div className=\"flex items-center gap-2 pb-2 border-b border-[var(--border-color)]\">\n            <Gamepad2 className=\"h-4 w-4 text-[var(--accent-blue)]\" />\n            <span className=\"text-sm font-semibold text-[var(--text-primary)]\">\n              Being Controlled\n            </span>\n          </div>\n\n          {/* Controllers list */}\n          <div className=\"space-y-2 max-h-[200px] overflow-y-auto\">\n            {controllersInfo.map((controller) => (\n              <div\n                key={controller.uid}\n                className=\"flex items-center gap-2 p-2 rounded-lg bg-[var(--bg-secondary)]\"\n              >\n                <div\n                  className=\"w-3 h-3 rounded-full\"\n                  style={{ backgroundColor: controller.color }}\n                />\n                <span className=\"text-sm text-[var(--text-primary)] flex-1\">\n                  {controller.name}\n                </span>\n                <span className=\"text-xs text-[var(--text-muted)] bg-[var(--bg-tertiary)] px-2 py-0.5 rounded\">\n                  Admin\n                </span>\n              </div>\n            ))}\n          </div>\n\n          {/* Info text */}\n          <p className=\"text-xs text-[var(--text-muted)] pt-2 border-t border-[var(--border-color)]\">\n            {controllersInfo.length === 1 ? \"An admin\" : `${controllersInfo.length} admins`} {controllersInfo.length === 1 ? \"is\" : \"are\"} viewing and controlling your session\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;;;AAJA;;;;AAOO,SAAS;;IACd,MAAM,EAAE,iBAAiB,EAAE,eAAe,EAAE,GAAG,IAAA,qKAAe;IAC9D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAE7C,IAAI,CAAC,qBAAqB,gBAAgB,MAAM,KAAK,GAAG;QACtD,OAAO;IACT;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBACC,SAAS,IAAM,cAAc,CAAC;gBAC9B,WAAU;gBACV,OAAO,aAAa,aAAa;0BAEhC,2BACC,6LAAC,yOAAY;oBAAC,WAAU;;;;;yCAExB,6LAAC,sOAAW;oBAAC,WAAU;;;;;;;;;;;0BAK3B,6LAAC;gBACC,WAAW,CAAC,2HAA2H,EACrI,aAAa,yBAAyB,qBACtC;0BAEF,cAAA,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,6NAAQ;oCAAC,WAAU;;;;;;8CACpB,6LAAC;oCAAK,WAAU;8CAAmD;;;;;;;;;;;;sCAMrE,6LAAC;4BAAI,WAAU;sCACZ,gBAAgB,GAAG,CAAC,CAAC,2BACpB,6LAAC;oCAEC,WAAU;;sDAEV,6LAAC;4CACC,WAAU;4CACV,OAAO;gDAAE,iBAAiB,WAAW,KAAK;4CAAC;;;;;;sDAE7C,6LAAC;4CAAK,WAAU;sDACb,WAAW,IAAI;;;;;;sDAElB,6LAAC;4CAAK,WAAU;sDAA+E;;;;;;;mCAV1F,WAAW,GAAG;;;;;;;;;;sCAkBzB,6LAAC;4BAAE,WAAU;;gCACV,gBAAgB,MAAM,KAAK,IAAI,aAAa,GAAG,gBAAgB,MAAM,CAAC,OAAO,CAAC;gCAAC;gCAAE,gBAAgB,MAAM,KAAK,IAAI,OAAO;gCAAM;;;;;;;;;;;;;;;;;;;;;;;;AAM1I;GAnEgB;;QACiC,qKAAe;;;KADhD"}},
    {"offset": {"line": 1324, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/admin-control-widget.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useRealtimeSync } from \"@/contexts/realtime-sync-context\";\nimport { Gamepad2, ChevronRight, ChevronLeft } from \"lucide-react\";\n\nexport function AdminControlWidget() {\n  const { viewingAsUserId, viewingAsUserEmail, onlineUsers } = useRealtimeSync();\n  const [isExpanded, setIsExpanded] = useState(true);\n\n  // Only show if admin is viewing as another user\n  if (!viewingAsUserId || !viewingAsUserEmail) {\n    return null;\n  }\n\n  // Get the user being controlled\n  const controlledUser = onlineUsers.find(u => u.uid === viewingAsUserId);\n\n  return (\n    <div className=\"fixed top-4 right-4 z-[9998] flex items-start gap-2\">\n      {/* Expand/Collapse button */}\n      <button\n        onClick={() => setIsExpanded(!isExpanded)}\n        className=\"p-2 rounded-lg bg-[var(--bg-card)] border border-[var(--accent-purple)]/50 hover:bg-[var(--bg-secondary)] transition-colors shadow-lg\"\n        title={isExpanded ? \"Collapse\" : \"Expand\"}\n      >\n        {isExpanded ? (\n          <ChevronRight className=\"h-4 w-4 text-[var(--accent-purple)]\" />\n        ) : (\n          <ChevronLeft className=\"h-4 w-4 text-[var(--accent-purple)]\" />\n        )}\n      </button>\n\n      {/* Status panel */}\n      <div\n        className={`bg-[var(--bg-card)] border border-[var(--accent-purple)]/50 rounded-lg shadow-lg transition-all duration-300 overflow-hidden ${\n          isExpanded ? \"opacity-100 max-w-xs\" : \"opacity-0 max-w-0\"\n        }`}\n      >\n        <div className=\"p-3 space-y-2\">\n          {/* Header */}\n          <div className=\"flex items-center gap-2 pb-2 border-b border-[var(--border-color)]\">\n            <Gamepad2 className=\"h-4 w-4 text-[var(--accent-purple)]\" />\n            <span className=\"text-sm font-semibold text-[var(--text-primary)]\">\n              Controlling User\n            </span>\n          </div>\n\n          {/* Controlled user info */}\n          <div className=\"flex items-center gap-2 p-2 rounded-lg bg-[var(--bg-secondary)]\">\n            <div className=\"w-3 h-3 rounded-full bg-[var(--accent-purple)]\" />\n            <div className=\"flex-1\">\n              <p className=\"text-sm text-[var(--text-primary)] font-medium\">\n                {controlledUser?.displayName || viewingAsUserEmail}\n              </p>\n              <p className=\"text-xs text-[var(--text-muted)]\">\n                {viewingAsUserEmail}\n              </p>\n            </div>\n          </div>\n\n          {/* Info text */}\n          <p className=\"text-xs text-[var(--text-muted)] pt-2 border-t border-[var(--border-color)]\">\n            You are viewing and controlling this user's session. Changes will sync to their UI in real-time.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;;;AAJA;;;;AAMO,SAAS;;IACd,MAAM,EAAE,eAAe,EAAE,kBAAkB,EAAE,WAAW,EAAE,GAAG,IAAA,qKAAe;IAC5E,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAE7C,gDAAgD;IAChD,IAAI,CAAC,mBAAmB,CAAC,oBAAoB;QAC3C,OAAO;IACT;IAEA,gCAAgC;IAChC,MAAM,iBAAiB,YAAY,IAAI,CAAC,CAAA,IAAK,EAAE,GAAG,KAAK;IAEvD,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBACC,SAAS,IAAM,cAAc,CAAC;gBAC9B,WAAU;gBACV,OAAO,aAAa,aAAa;0BAEhC,2BACC,6LAAC,yOAAY;oBAAC,WAAU;;;;;yCAExB,6LAAC,sOAAW;oBAAC,WAAU;;;;;;;;;;;0BAK3B,6LAAC;gBACC,WAAW,CAAC,6HAA6H,EACvI,aAAa,yBAAyB,qBACtC;0BAEF,cAAA,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,6NAAQ;oCAAC,WAAU;;;;;;8CACpB,6LAAC;oCAAK,WAAU;8CAAmD;;;;;;;;;;;;sCAMrE,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;;;;;8CACf,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAE,WAAU;sDACV,gBAAgB,eAAe;;;;;;sDAElC,6LAAC;4CAAE,WAAU;sDACV;;;;;;;;;;;;;;;;;;sCAMP,6LAAC;4BAAE,WAAU;sCAA8E;;;;;;;;;;;;;;;;;;;;;;;AAOrG;GA/DgB;;QAC+C,qKAAe;;;KAD9D"}},
    {"offset": {"line": 1486, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/admin-cursor-simulator.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef } from \"react\";\nimport { useRealtimeSync } from \"@/contexts/realtime-sync-context\";\n\n/**\n * Simulates admin cursor interactions on the user's screen\n * When admin clicks, this component finds the element at that position and clicks it\n * When admin hovers, this triggers hover effects\n */\nexport function AdminCursorSimulator() {\n  const { cursors } = useRealtimeSync();\n  const hoveredElementsRef = useRef<Map<string, HTMLElement>>(new Map());\n\n  useEffect(() => {\n    cursors.forEach((cursor) => {\n      // Find element at cursor position\n      const element = document.elementFromPoint(cursor.x, cursor.y) as HTMLElement;\n\n      if (!element) return;\n\n      // Handle click\n      if (cursor.isClicking) {\n        console.log('[AdminCursor] Admin clicked at', cursor.x, cursor.y, 'element:', element.tagName);\n\n        // Trigger actual click on the element\n        element.click();\n\n        // Also dispatch mouse events for complex interactions\n        const clickEvent = new MouseEvent('click', {\n          bubbles: true,\n          cancelable: true,\n          view: window,\n          clientX: cursor.x,\n          clientY: cursor.y,\n        });\n        element.dispatchEvent(clickEvent);\n      }\n\n      // Handle hover - add hover class to element\n      const previousElement = hoveredElementsRef.current.get(cursor.userId);\n\n      if (element !== previousElement) {\n        // Remove hover from previous element\n        if (previousElement) {\n          previousElement.classList.remove('admin-cursor-hover');\n          previousElement.style.removeProperty('outline');\n        }\n\n        // Add hover to new element (only for interactive elements)\n        if (\n          element.tagName === 'BUTTON' ||\n          element.tagName === 'A' ||\n          element.tagName === 'INPUT' ||\n          element.tagName === 'SELECT' ||\n          element.tagName === 'TEXTAREA' ||\n          element.getAttribute('role') === 'button' ||\n          element.onclick !== null\n        ) {\n          element.classList.add('admin-cursor-hover');\n          // Add visual indicator that admin is hovering\n          element.style.outline = `2px solid ${cursor.color}`;\n          element.style.outlineOffset = '2px';\n        }\n\n        hoveredElementsRef.current.set(cursor.userId, element);\n      }\n    });\n\n    // Clean up hover effects for cursors that no longer exist\n    const currentCursorIds = new Set(cursors.map(c => c.userId));\n    hoveredElementsRef.current.forEach((element, userId) => {\n      if (!currentCursorIds.has(userId)) {\n        element.classList.remove('admin-cursor-hover');\n        element.style.removeProperty('outline');\n        hoveredElementsRef.current.delete(userId);\n      }\n    });\n  }, [cursors]);\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      hoveredElementsRef.current.forEach((element) => {\n        element.classList.remove('admin-cursor-hover');\n        element.style.removeProperty('outline');\n      });\n      hoveredElementsRef.current.clear();\n    };\n  }, []);\n\n  return null; // This component doesn't render anything\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;;AAHA;;;AAUO,SAAS;;IACd,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,qKAAe;IACnC,MAAM,qBAAqB,IAAA,uKAAM,EAA2B,IAAI;IAEhE,IAAA,0KAAS;0CAAC;YACR,QAAQ,OAAO;kDAAC,CAAC;oBACf,kCAAkC;oBAClC,MAAM,UAAU,SAAS,gBAAgB,CAAC,OAAO,CAAC,EAAE,OAAO,CAAC;oBAE5D,IAAI,CAAC,SAAS;oBAEd,eAAe;oBACf,IAAI,OAAO,UAAU,EAAE;wBACrB,QAAQ,GAAG,CAAC,kCAAkC,OAAO,CAAC,EAAE,OAAO,CAAC,EAAE,YAAY,QAAQ,OAAO;wBAE7F,sCAAsC;wBACtC,QAAQ,KAAK;wBAEb,sDAAsD;wBACtD,MAAM,aAAa,IAAI,WAAW,SAAS;4BACzC,SAAS;4BACT,YAAY;4BACZ,MAAM;4BACN,SAAS,OAAO,CAAC;4BACjB,SAAS,OAAO,CAAC;wBACnB;wBACA,QAAQ,aAAa,CAAC;oBACxB;oBAEA,4CAA4C;oBAC5C,MAAM,kBAAkB,mBAAmB,OAAO,CAAC,GAAG,CAAC,OAAO,MAAM;oBAEpE,IAAI,YAAY,iBAAiB;wBAC/B,qCAAqC;wBACrC,IAAI,iBAAiB;4BACnB,gBAAgB,SAAS,CAAC,MAAM,CAAC;4BACjC,gBAAgB,KAAK,CAAC,cAAc,CAAC;wBACvC;wBAEA,2DAA2D;wBAC3D,IACE,QAAQ,OAAO,KAAK,YACpB,QAAQ,OAAO,KAAK,OACpB,QAAQ,OAAO,KAAK,WACpB,QAAQ,OAAO,KAAK,YACpB,QAAQ,OAAO,KAAK,cACpB,QAAQ,YAAY,CAAC,YAAY,YACjC,QAAQ,OAAO,KAAK,MACpB;4BACA,QAAQ,SAAS,CAAC,GAAG,CAAC;4BACtB,8CAA8C;4BAC9C,QAAQ,KAAK,CAAC,OAAO,GAAG,CAAC,UAAU,EAAE,OAAO,KAAK,EAAE;4BACnD,QAAQ,KAAK,CAAC,aAAa,GAAG;wBAChC;wBAEA,mBAAmB,OAAO,CAAC,GAAG,CAAC,OAAO,MAAM,EAAE;oBAChD;gBACF;;YAEA,0DAA0D;YAC1D,MAAM,mBAAmB,IAAI,IAAI,QAAQ,GAAG;kDAAC,CAAA,IAAK,EAAE,MAAM;;YAC1D,mBAAmB,OAAO,CAAC,OAAO;kDAAC,CAAC,SAAS;oBAC3C,IAAI,CAAC,iBAAiB,GAAG,CAAC,SAAS;wBACjC,QAAQ,SAAS,CAAC,MAAM,CAAC;wBACzB,QAAQ,KAAK,CAAC,cAAc,CAAC;wBAC7B,mBAAmB,OAAO,CAAC,MAAM,CAAC;oBACpC;gBACF;;QACF;yCAAG;QAAC;KAAQ;IAEZ,qBAAqB;IACrB,IAAA,0KAAS;0CAAC;YACR;kDAAO;oBACL,mBAAmB,OAAO,CAAC,OAAO;0DAAC,CAAC;4BAClC,QAAQ,SAAS,CAAC,MAAM,CAAC;4BACzB,QAAQ,KAAK,CAAC,cAAc,CAAC;wBAC/B;;oBACA,mBAAmB,OAAO,CAAC,KAAK;gBAClC;;QACF;yCAAG,EAAE;IAEL,OAAO,MAAM,yCAAyC;AACxD;GAlFgB;;QACM,qKAAe;;;KADrB"}},
    {"offset": {"line": 1591, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/admin-click-interceptor.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport { useRealtimeSync } from \"@/contexts/realtime-sync-context\";\n\n/**\n * Intercepts clicks on admin's side when they're controlling a user\n * Prevents local execution and only syncs cursor position\n * The actual click happens on the user's side via AdminCursorSimulator\n */\nexport function AdminClickInterceptor() {\n  const { viewingAsUserId } = useRealtimeSync();\n\n  useEffect(() => {\n    if (!viewingAsUserId) return; // Only intercept when controlling someone\n\n    const handleClick = (e: MouseEvent) => {\n      // Check if this is a real user click (not programmatic)\n      if (e.isTrusted) {\n        console.log('[AdminInterceptor] Intercepting admin click at', e.clientX, e.clientY);\n\n        // Prevent the click from executing locally\n        e.preventDefault();\n        e.stopPropagation();\n        e.stopImmediatePropagation();\n\n        // The click will be synced via cursor position (isClicking=true)\n        // and executed on user's side by AdminCursorSimulator\n      }\n    };\n\n    // Capture phase to intercept before any handlers\n    document.addEventListener('click', handleClick, true);\n\n    console.log('[AdminInterceptor] Active - admin clicks will be synced to user');\n\n    return () => {\n      document.removeEventListener('click', handleClick, true);\n      console.log('[AdminInterceptor] Deactivated');\n    };\n  }, [viewingAsUserId]);\n\n  return null; // This component doesn't render anything\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;;AAHA;;;AAUO,SAAS;;IACd,MAAM,EAAE,eAAe,EAAE,GAAG,IAAA,qKAAe;IAE3C,IAAA,0KAAS;2CAAC;YACR,IAAI,CAAC,iBAAiB,QAAQ,0CAA0C;YAExE,MAAM;+DAAc,CAAC;oBACnB,wDAAwD;oBACxD,IAAI,EAAE,SAAS,EAAE;wBACf,QAAQ,GAAG,CAAC,kDAAkD,EAAE,OAAO,EAAE,EAAE,OAAO;wBAElF,2CAA2C;wBAC3C,EAAE,cAAc;wBAChB,EAAE,eAAe;wBACjB,EAAE,wBAAwB;oBAE1B,iEAAiE;oBACjE,sDAAsD;oBACxD;gBACF;;YAEA,iDAAiD;YACjD,SAAS,gBAAgB,CAAC,SAAS,aAAa;YAEhD,QAAQ,GAAG,CAAC;YAEZ;mDAAO;oBACL,SAAS,mBAAmB,CAAC,SAAS,aAAa;oBACnD,QAAQ,GAAG,CAAC;gBACd;;QACF;0CAAG;QAAC;KAAgB;IAEpB,OAAO,MAAM,yCAAyC;AACxD;GAjCgB;;QACc,qKAAe;;;KAD7B"}},
    {"offset": {"line": 1651, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/layout/app-layout.tsx"],"sourcesContent":["\"use client\";\n\nimport { useAuth } from \"@/contexts/auth-context\";\nimport { LoginForm } from \"@/components/auth/login-form\";\nimport { Sidebar } from \"@/components/layout/sidebar\";\nimport { RealtimeCursors } from \"@/components/realtime-cursors\";\nimport { ControlStatusWidget } from \"@/components/control-status-widget\";\nimport { AdminControlWidget } from \"@/components/admin-control-widget\";\nimport { AdminCursorSimulator } from \"@/components/admin-cursor-simulator\";\nimport { AdminClickInterceptor } from \"@/components/admin-click-interceptor\";\nimport { type ReactNode } from \"react\";\n\ninterface AppLayoutProps {\n  children: ReactNode;\n}\n\nexport function AppLayout({ children }: AppLayoutProps) {\n  const { user, loading, signOut } = useAuth();\n\n  if (loading) {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center bg-[var(--bg-primary)]\">\n        <div className=\"flex flex-col items-center gap-4\">\n          <div className=\"h-10 w-10 animate-spin rounded-full border-4 border-[var(--accent-blue)] border-t-transparent\" />\n          <span className=\"text-sm text-[var(--text-secondary)]\">Loading...</span>\n        </div>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return <LoginForm />;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-[var(--bg-primary)]\">\n      <Sidebar onLogout={signOut} />\n      <main className=\"lg:ml-[260px]\">\n        <div className=\"p-4 pt-20 lg:p-8 lg:pt-8\">{children}</div>\n      </main>\n\n      {/* Real-time features */}\n      <RealtimeCursors />\n      <ControlStatusWidget />\n      <AdminControlWidget />\n      <AdminCursorSimulator />\n      <AdminClickInterceptor />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AATA;;;;;;;;;AAgBO,SAAS,UAAU,EAAE,QAAQ,EAAkB;;IACpD,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAA,iJAAO;IAE1C,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAK,WAAU;kCAAuC;;;;;;;;;;;;;;;;;IAI/D;IAEA,IAAI,CAAC,MAAM;QACT,qBAAO,6LAAC,2JAAS;;;;;IACnB;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,qJAAO;gBAAC,UAAU;;;;;;0BACnB,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC;oBAAI,WAAU;8BAA4B;;;;;;;;;;;0BAI7C,6LAAC,+JAAe;;;;;0BAChB,6LAAC,2KAAmB;;;;;0BACpB,6LAAC,yKAAkB;;;;;0BACnB,6LAAC,6KAAoB;;;;;0BACrB,6LAAC,+KAAqB;;;;;;;;;;;AAG5B;GAjCgB;;QACqB,iJAAO;;;KAD5B"}},
    {"offset": {"line": 1790, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/ui/switch.tsx"],"sourcesContent":["import { forwardRef, type InputHTMLAttributes } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface SwitchProps extends Omit<InputHTMLAttributes<HTMLInputElement>, 'onChange'> {\n  checked?: boolean;\n  onCheckedChange?: (checked: boolean) => void;\n}\n\nconst Switch = forwardRef<HTMLInputElement, SwitchProps>(\n  ({ className, checked, onCheckedChange, disabled, ...props }, ref) => {\n    return (\n      <button\n        type=\"button\"\n        role=\"switch\"\n        aria-checked={checked}\n        disabled={disabled}\n        onClick={() => onCheckedChange?.(!checked)}\n        className={cn(\n          \"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-blue)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg-primary)] disabled:cursor-not-allowed disabled:opacity-50\",\n          checked ? \"bg-[var(--accent-blue)]\" : \"bg-[var(--bg-tertiary)]\",\n          className\n        )}\n      >\n        <span\n          className={cn(\n            \"inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-sm\",\n            checked ? \"translate-x-6\" : \"translate-x-1\"\n          )}\n        />\n        <input\n          type=\"checkbox\"\n          checked={checked}\n          onChange={() => {}} // Controlled by button click handler\n          ref={ref}\n          className=\"sr-only\"\n          {...props}\n        />\n      </button>\n    );\n  }\n);\n\nSwitch.displayName = \"Switch\";\n\nexport { Switch };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAOA,MAAM,uBAAS,IAAA,2KAAU,OACvB,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,eAAe,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IAC5D,qBACE,6LAAC;QACC,MAAK;QACL,MAAK;QACL,gBAAc;QACd,UAAU;QACV,SAAS,IAAM,kBAAkB,CAAC;QAClC,WAAW,IAAA,4HAAE,EACX,+RACA,UAAU,4BAA4B,2BACtC;;0BAGF,6LAAC;gBACC,WAAW,IAAA,4HAAE,EACX,uFACA,UAAU,kBAAkB;;;;;;0BAGhC,6LAAC;gBACC,MAAK;gBACL,SAAS;gBACT,UAAU,KAAO;gBACjB,KAAK;gBACL,WAAU;gBACT,GAAG,KAAK;;;;;;;;;;;;AAIjB;;AAGF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 1848, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/lib/firebase/firestore.ts"],"sourcesContent":["import {\n  collection,\n  doc,\n  getDocs,\n  getDoc,\n  addDoc,\n  setDoc,\n  updateDoc,\n  deleteDoc,\n  query,\n  where,\n  orderBy,\n  Timestamp,\n  type DocumentData,\n} from \"firebase/firestore\";\nimport { db } from \"./config\";\nimport type { AlgoDevice, Zone, AudioFile, DistributionLog, ZoneRouting, PoESwitch, PoEDevice } from \"@/lib/algo/types\";\n\n// ============ Devices ============\n\nconst devicesCollection = collection(db, \"devices\");\n\nexport async function getDevices(ownerEmail?: string): Promise<AlgoDevice[]> {\n  let q = query(devicesCollection, orderBy(\"createdAt\", \"desc\"));\n\n  // Filter by owner if provided\n  if (ownerEmail) {\n    q = query(devicesCollection, where(\"ownerEmail\", \"==\", ownerEmail), orderBy(\"createdAt\", \"desc\"));\n  }\n\n  const snapshot = await getDocs(q);\n  return snapshot.docs.map((doc) => ({\n    id: doc.id,\n    ...convertTimestamps(doc.data()),\n  })) as AlgoDevice[];\n}\n\nexport async function getDevice(id: string): Promise<AlgoDevice | null> {\n  const docRef = doc(db, \"devices\", id);\n  const snapshot = await getDoc(docRef);\n  if (!snapshot.exists()) return null;\n  return { id: snapshot.id, ...convertTimestamps(snapshot.data()) } as AlgoDevice;\n}\n\nexport async function addDevice(device: Omit<AlgoDevice, \"id\" | \"createdAt\" | \"updatedAt\">): Promise<string> {\n  const now = Timestamp.now();\n  const docRef = await addDoc(devicesCollection, {\n    ...device,\n    createdAt: now,\n    updatedAt: now,\n  });\n  return docRef.id;\n}\n\nexport async function updateDevice(id: string, data: Partial<AlgoDevice>): Promise<void> {\n  const docRef = doc(db, \"devices\", id);\n  // Firebase doesn't allow undefined values - filter them out\n  const cleanData: Record<string, unknown> = { updatedAt: Timestamp.now() };\n  for (const [key, value] of Object.entries(data)) {\n    if (value !== undefined) {\n      cleanData[key] = value;\n    }\n  }\n  await updateDoc(docRef, cleanData);\n}\n\nexport async function deleteDevice(id: string): Promise<void> {\n  const docRef = doc(db, \"devices\", id);\n  await deleteDoc(docRef);\n}\n\n// ============ Zones ============\n\nconst zonesCollection = collection(db, \"zones\");\n\nexport async function getZones(ownerEmail?: string): Promise<Zone[]> {\n  let q = query(zonesCollection, orderBy(\"createdAt\", \"desc\"));\n\n  // Filter by owner if provided\n  if (ownerEmail) {\n    q = query(zonesCollection, where(\"ownerEmail\", \"==\", ownerEmail), orderBy(\"createdAt\", \"desc\"));\n  }\n\n  const snapshot = await getDocs(q);\n  return snapshot.docs.map((doc) => ({\n    id: doc.id,\n    ...convertTimestamps(doc.data()),\n  })) as Zone[];\n}\n\nexport async function getZone(id: string): Promise<Zone | null> {\n  const docRef = doc(db, \"zones\", id);\n  const snapshot = await getDoc(docRef);\n  if (!snapshot.exists()) return null;\n  return { id: snapshot.id, ...convertTimestamps(snapshot.data()) } as Zone;\n}\n\nexport async function addZone(zone: Omit<Zone, \"id\" | \"createdAt\" | \"updatedAt\">): Promise<string> {\n  const now = Timestamp.now();\n  const docRef = await addDoc(zonesCollection, {\n    ...zone,\n    createdAt: now,\n    updatedAt: now,\n  });\n  return docRef.id;\n}\n\nexport async function updateZone(id: string, data: Partial<Zone>): Promise<void> {\n  const docRef = doc(db, \"zones\", id);\n  await updateDoc(docRef, {\n    ...data,\n    updatedAt: Timestamp.now(),\n  });\n}\n\nexport async function deleteZone(id: string): Promise<void> {\n  const docRef = doc(db, \"zones\", id);\n  await deleteDoc(docRef);\n\n  // Also delete the routing configuration\n  const routingRef = doc(db, \"zoneRouting\", id);\n  try {\n    await deleteDoc(routingRef);\n  } catch (error) {\n    // Routing doc might not exist, that's okay\n    console.log(\"No routing config to delete for zone:\", id);\n  }\n}\n\n// ============ Zone Routing ============\n\nconst zoneRoutingCollection = collection(db, \"zoneRouting\");\n\nexport async function getZoneRouting(zoneId: string): Promise<ZoneRouting | null> {\n  const docRef = doc(db, \"zoneRouting\", zoneId);\n  const snapshot = await getDoc(docRef);\n  if (!snapshot.exists()) return null;\n  return { id: snapshot.id, ...convertTimestamps(snapshot.data()) } as ZoneRouting;\n}\n\nexport async function getAllZoneRouting(): Promise<Record<string, ZoneRouting>> {\n  const snapshot = await getDocs(zoneRoutingCollection);\n  const routing: Record<string, ZoneRouting> = {};\n  snapshot.docs.forEach((doc) => {\n    routing[doc.id] = { id: doc.id, ...convertTimestamps(doc.data()) } as ZoneRouting;\n  });\n  return routing;\n}\n\nexport async function setZoneRouting(zoneId: string, routing: Omit<ZoneRouting, \"id\" | \"updatedAt\">): Promise<void> {\n  const docRef = doc(db, \"zoneRouting\", zoneId);\n  await setDoc(docRef, {\n    ...routing,\n    zoneId,\n    updatedAt: Timestamp.now(),\n  }, { merge: true });\n}\n\n// ============ Audio Files ============\n\nconst audioFilesCollection = collection(db, \"audioFiles\");\n\nexport async function getAudioFiles(ownerEmail?: string): Promise<AudioFile[]> {\n  let q = query(audioFilesCollection, orderBy(\"createdAt\", \"desc\"));\n\n  // Filter by owner if provided\n  if (ownerEmail) {\n    q = query(audioFilesCollection, where(\"ownerEmail\", \"==\", ownerEmail), orderBy(\"createdAt\", \"desc\"));\n  }\n\n  const snapshot = await getDocs(q);\n  return snapshot.docs.map((doc) => ({\n    id: doc.id,\n    ...convertTimestamps(doc.data()),\n  })) as AudioFile[];\n}\n\nexport async function getAudioFile(id: string): Promise<AudioFile | null> {\n  const docRef = doc(db, \"audioFiles\", id);\n  const snapshot = await getDoc(docRef);\n  if (!snapshot.exists()) return null;\n  return { id: snapshot.id, ...convertTimestamps(snapshot.data()) } as AudioFile;\n}\n\nexport async function addAudioFile(audioFile: Omit<AudioFile, \"id\" | \"createdAt\">): Promise<string> {\n  const docRef = await addDoc(audioFilesCollection, {\n    ...audioFile,\n    createdAt: Timestamp.now(),\n  });\n  return docRef.id;\n}\n\nexport async function deleteAudioFile(id: string): Promise<void> {\n  const docRef = doc(db, \"audioFiles\", id);\n  await deleteDoc(docRef);\n}\n\n// ============ Distribution Logs ============\n\nconst distributionLogsCollection = collection(db, \"distributionLogs\");\n\nexport async function getDistributionLogs(limit = 50): Promise<DistributionLog[]> {\n  const q = query(distributionLogsCollection, orderBy(\"createdAt\", \"desc\"));\n  const snapshot = await getDocs(q);\n  return snapshot.docs.slice(0, limit).map((doc) => ({\n    id: doc.id,\n    ...convertTimestamps(doc.data()),\n  })) as DistributionLog[];\n}\n\nexport async function addDistributionLog(log: Omit<DistributionLog, \"id\" | \"createdAt\">): Promise<string> {\n  const docRef = await addDoc(distributionLogsCollection, {\n    ...log,\n    createdAt: Timestamp.now(),\n  });\n  return docRef.id;\n}\n\n// ============ PoE Switches ============\n\nconst poeSwitchesCollection = collection(db, \"poeSwitches\");\n\nexport async function getPoESwitches(ownerEmail?: string): Promise<PoESwitch[]> {\n  let q = query(poeSwitchesCollection, orderBy(\"createdAt\", \"desc\"));\n\n  // Filter by owner if provided\n  if (ownerEmail) {\n    q = query(poeSwitchesCollection, where(\"ownerEmail\", \"==\", ownerEmail), orderBy(\"createdAt\", \"desc\"));\n  }\n\n  const snapshot = await getDocs(q);\n  return snapshot.docs.map((doc) => ({\n    id: doc.id,\n    ...convertTimestamps(doc.data()),\n  })) as PoESwitch[];\n}\n\nexport async function getPoESwitch(id: string): Promise<PoESwitch | null> {\n  const docRef = doc(db, \"poeSwitches\", id);\n  const snapshot = await getDoc(docRef);\n  if (!snapshot.exists()) return null;\n  return { id: snapshot.id, ...convertTimestamps(snapshot.data()) } as PoESwitch;\n}\n\nexport async function addPoESwitch(poeSwitch: Omit<PoESwitch, \"id\" | \"createdAt\" | \"updatedAt\">): Promise<string> {\n  const now = Timestamp.now();\n  const docRef = await addDoc(poeSwitchesCollection, {\n    ...poeSwitch,\n    createdAt: now,\n    updatedAt: now,\n  });\n  return docRef.id;\n}\n\nexport async function updatePoESwitch(id: string, data: Partial<PoESwitch>): Promise<void> {\n  const docRef = doc(db, \"poeSwitches\", id);\n  const cleanData: Record<string, unknown> = { updatedAt: Timestamp.now() };\n  for (const [key, value] of Object.entries(data)) {\n    if (value !== undefined) {\n      cleanData[key] = value;\n    }\n  }\n  await updateDoc(docRef, cleanData);\n}\n\nexport async function deletePoESwitch(id: string): Promise<void> {\n  const docRef = doc(db, \"poeSwitches\", id);\n  await deleteDoc(docRef);\n}\n\n// ============ PoE Devices ============\n\nconst poeDevicesCollection = collection(db, \"poeDevices\");\n\nexport async function getPoEDevices(ownerEmail?: string): Promise<PoEDevice[]> {\n  let q = query(poeDevicesCollection, orderBy(\"createdAt\", \"desc\"));\n\n  // Filter by owner if provided\n  if (ownerEmail) {\n    q = query(poeDevicesCollection, where(\"ownerEmail\", \"==\", ownerEmail), orderBy(\"createdAt\", \"desc\"));\n  }\n\n  const snapshot = await getDocs(q);\n  return snapshot.docs.map((doc) => ({\n    id: doc.id,\n    ...convertTimestamps(doc.data()),\n  })) as PoEDevice[];\n}\n\nexport async function getPoEDevice(id: string): Promise<PoEDevice | null> {\n  const docRef = doc(db, \"poeDevices\", id);\n  const snapshot = await getDoc(docRef);\n  if (!snapshot.exists()) return null;\n  return { id: snapshot.id, ...convertTimestamps(snapshot.data()) } as PoEDevice;\n}\n\nexport async function addPoEDevice(poeDevice: Omit<PoEDevice, \"id\" | \"createdAt\" | \"updatedAt\">): Promise<string> {\n  const now = Timestamp.now();\n  const docRef = await addDoc(poeDevicesCollection, {\n    ...poeDevice,\n    createdAt: now,\n    updatedAt: now,\n  });\n  return docRef.id;\n}\n\nexport async function updatePoEDevice(id: string, data: Partial<PoEDevice>): Promise<void> {\n  const docRef = doc(db, \"poeDevices\", id);\n  const cleanData: Record<string, unknown> = { updatedAt: Timestamp.now() };\n  for (const [key, value] of Object.entries(data)) {\n    if (value !== undefined) {\n      cleanData[key] = value;\n    }\n  }\n  await updateDoc(docRef, cleanData);\n}\n\nexport async function deletePoEDevice(id: string): Promise<void> {\n  const docRef = doc(db, \"poeDevices\", id);\n  await deleteDoc(docRef);\n}\n\n// ============ Helpers ============\n\nfunction convertTimestamps(data: DocumentData): DocumentData {\n  const result = { ...data };\n  for (const key in result) {\n    if (result[key] instanceof Timestamp) {\n      result[key] = result[key].toDate();\n    }\n  }\n  return result;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2211, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\";\n\nimport { X } from \"lucide-react\";\nimport { useEffect } from \"react\";\n\ninterface DialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  children: React.ReactNode;\n}\n\nexport function Dialog({ open, onOpenChange, children }: DialogProps) {\n  // Close on escape key\n  useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === \"Escape\" && open) {\n        onOpenChange(false);\n      }\n    };\n    document.addEventListener(\"keydown\", handleEscape);\n    return () => document.removeEventListener(\"keydown\", handleEscape);\n  }, [open, onOpenChange]);\n\n  // Prevent scroll when open\n  useEffect(() => {\n    if (open) {\n      document.body.style.overflow = \"hidden\";\n    } else {\n      document.body.style.overflow = \"\";\n    }\n    return () => {\n      document.body.style.overflow = \"\";\n    };\n  }, [open]);\n\n  if (!open) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n      {/* Backdrop */}\n      <div\n        className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\"\n        onClick={() => onOpenChange(false)}\n      />\n\n      {/* Dialog */}\n      <div className=\"relative z-10 w-full max-w-lg max-h-[90vh] overflow-y-auto\">\n        {children}\n      </div>\n    </div>\n  );\n}\n\ninterface DialogContentProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport function DialogContent({ children, className = \"\" }: DialogContentProps) {\n  return (\n    <div className={`m-4 rounded-xl border border-[var(--border-color)] bg-[var(--bg-card)] shadow-2xl ${className}`}>\n      {children}\n    </div>\n  );\n}\n\ninterface DialogHeaderProps {\n  children: React.ReactNode;\n  onClose?: () => void;\n}\n\nexport function DialogHeader({ children, onClose }: DialogHeaderProps) {\n  return (\n    <div className=\"flex items-center justify-between border-b border-[var(--border-color)] p-6\">\n      <div className=\"flex-1\">{children}</div>\n      {onClose && (\n        <button\n          onClick={onClose}\n          className=\"rounded-lg p-2 text-[var(--text-muted)] transition-colors hover:bg-[var(--bg-tertiary)] hover:text-[var(--text-primary)]\"\n        >\n          <X className=\"h-5 w-5\" />\n        </button>\n      )}\n    </div>\n  );\n}\n\ninterface DialogTitleProps {\n  children: React.ReactNode;\n}\n\nexport function DialogTitle({ children }: DialogTitleProps) {\n  return (\n    <h2 className=\"text-xl font-bold text-[var(--text-primary)]\">\n      {children}\n    </h2>\n  );\n}\n\ninterface DialogDescriptionProps {\n  children: React.ReactNode;\n}\n\nexport function DialogDescription({ children }: DialogDescriptionProps) {\n  return (\n    <p className=\"mt-1 text-sm text-[var(--text-secondary)]\">\n      {children}\n    </p>\n  );\n}\n\ninterface DialogBodyProps {\n  children: React.ReactNode;\n}\n\nexport function DialogBody({ children }: DialogBodyProps) {\n  return <div className=\"p-6\">{children}</div>;\n}\n\ninterface DialogFooterProps {\n  children: React.ReactNode;\n}\n\nexport function DialogFooter({ children }: DialogFooterProps) {\n  return (\n    <div className=\"flex items-center justify-end gap-3 border-t border-[var(--border-color)] p-6\">\n      {children}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;AACA;;;AAHA;;;AAWO,SAAS,OAAO,EAAE,IAAI,EAAE,YAAY,EAAE,QAAQ,EAAe;;IAClE,sBAAsB;IACtB,IAAA,0KAAS;4BAAC;YACR,MAAM;iDAAe,CAAC;oBACpB,IAAI,EAAE,GAAG,KAAK,YAAY,MAAM;wBAC9B,aAAa;oBACf;gBACF;;YACA,SAAS,gBAAgB,CAAC,WAAW;YACrC;oCAAO,IAAM,SAAS,mBAAmB,CAAC,WAAW;;QACvD;2BAAG;QAAC;QAAM;KAAa;IAEvB,2BAA2B;IAC3B,IAAA,0KAAS;4BAAC;YACR,IAAI,MAAM;gBACR,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;YACjC,OAAO;gBACL,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;YACjC;YACA;oCAAO;oBACL,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;gBACjC;;QACF;2BAAG;QAAC;KAAK;IAET,IAAI,CAAC,MAAM,OAAO;IAElB,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBACC,WAAU;gBACV,SAAS,IAAM,aAAa;;;;;;0BAI9B,6LAAC;gBAAI,WAAU;0BACZ;;;;;;;;;;;;AAIT;GAxCgB;KAAA;AA+CT,SAAS,cAAc,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAsB;IAC5E,qBACE,6LAAC;QAAI,WAAW,CAAC,kFAAkF,EAAE,WAAW;kBAC7G;;;;;;AAGP;MANgB;AAaT,SAAS,aAAa,EAAE,QAAQ,EAAE,OAAO,EAAqB;IACnE,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BAAU;;;;;;YACxB,yBACC,6LAAC;gBACC,SAAS;gBACT,WAAU;0BAEV,cAAA,6LAAC,oMAAC;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAKvB;MAdgB;AAoBT,SAAS,YAAY,EAAE,QAAQ,EAAoB;IACxD,qBACE,6LAAC;QAAG,WAAU;kBACX;;;;;;AAGP;MANgB;AAYT,SAAS,kBAAkB,EAAE,QAAQ,EAA0B;IACpE,qBACE,6LAAC;QAAE,WAAU;kBACV;;;;;;AAGP;MANgB;AAYT,SAAS,WAAW,EAAE,QAAQ,EAAmB;IACtD,qBAAO,6LAAC;QAAI,WAAU;kBAAO;;;;;;AAC/B;MAFgB;AAQT,SAAS,aAAa,EAAE,QAAQ,EAAqB;IAC1D,qBACE,6LAAC;QAAI,WAAU;kBACZ;;;;;;AAGP;MANgB"}},
    {"offset": {"line": 2407, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/zones/zone-modal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n  DialogBody,\n  DialogFooter,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Flame, Heart, Bell } from \"lucide-react\";\nimport type { Zone } from \"@/lib/algo/types\";\n\ninterface ZoneModalProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  zone?: Zone | null;\n  zoneIndex?: number;\n  routing?: { fire: boolean; medical: boolean; allCall: boolean };\n  onSave: (data: {\n    zone: Omit<Zone, \"id\" | \"createdAt\" | \"updatedAt\"> & { id?: string };\n    routing: { fire: boolean; medical: boolean; allCall: boolean };\n  }) => Promise<void>;\n  onDelete?: () => Promise<void>;\n  ownerEmail: string;\n}\n\nconst colorOptions = [\n  { value: \"#6366f1\", label: \"Indigo\" },\n  { value: \"#22c55e\", label: \"Green\" },\n  { value: \"#f59e0b\", label: \"Amber\" },\n  { value: \"#ec4899\", label: \"Pink\" },\n  { value: \"#14b8a6\", label: \"Teal\" },\n  { value: \"#f43f5e\", label: \"Rose\" },\n  { value: \"#8b5cf6\", label: \"Violet\" },\n  { value: \"#06b6d4\", label: \"Cyan\" },\n];\n\nexport function ZoneModal({\n  open,\n  onOpenChange,\n  zone,\n  zoneIndex,\n  routing = { fire: true, medical: true, allCall: true },\n  onSave,\n  onDelete,\n  ownerEmail,\n}: ZoneModalProps) {\n  const [name, setName] = useState(\"\");\n  const [color, setColor] = useState(colorOptions[0].value);\n  const [fire, setFire] = useState(true);\n  const [medical, setMedical] = useState(true);\n  const [allCall, setAllCall] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [deleting, setDeleting] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const isEdit = zone !== undefined && zone !== null;\n\n  // Reset form when zone changes or modal opens\n  useEffect(() => {\n    if (open) {\n      if (zone) {\n        setName(zone.name);\n        setColor(zone.color);\n        setFire(routing.fire);\n        setMedical(routing.medical);\n        setAllCall(routing.allCall);\n      } else {\n        setName(\"\");\n        setColor(colorOptions[0].value);\n        setFire(true);\n        setMedical(true);\n        setAllCall(true);\n      }\n      setError(\"\");\n    }\n  }, [open, zone, routing]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n\n    if (!name.trim()) {\n      setError(\"Zone name is required\");\n      return;\n    }\n\n    setSaving(true);\n    try {\n      await onSave({\n        zone: {\n          id: zone?.id,\n          name: name.trim(),\n          color,\n          deviceIds: zone?.deviceIds || [],\n          ownerEmail,\n        },\n        routing: { fire, medical, allCall },\n      });\n      onOpenChange(false);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Failed to save zone\");\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDelete = async () => {\n    if (!onDelete) return;\n    if (!confirm(`Delete zone \"${name}\"? This will unassign all devices from this zone.`)) return;\n\n    setDeleting(true);\n    try {\n      await onDelete();\n      onOpenChange(false);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Failed to delete zone\");\n    } finally {\n      setDeleting(false);\n    }\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent>\n        <DialogHeader onClose={() => onOpenChange(false)}>\n          <DialogTitle>{isEdit ? \"Edit Zone\" : \"Create Zone\"}</DialogTitle>\n          <DialogDescription>\n            {isEdit\n              ? \"Update zone details and alert routing\"\n              : \"Create a new zone and configure which alerts it receives\"}\n          </DialogDescription>\n        </DialogHeader>\n\n        <form onSubmit={handleSubmit}>\n          <DialogBody>\n            <div className=\"space-y-4\">\n              {/* Name Input */}\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"zone-name\">Zone Name *</Label>\n                <Input\n                  id=\"zone-name\"\n                  value={name}\n                  onChange={(e) => setName(e.target.value)}\n                  placeholder=\"e.g., Apparatus Bay\"\n                  disabled={saving || deleting}\n                  autoFocus\n                />\n              </div>\n\n              {/* Color Picker */}\n              <div className=\"space-y-2\">\n                <Label>Zone Color</Label>\n                <div className=\"grid grid-cols-4 gap-2\">\n                  {colorOptions.map((option) => (\n                    <button\n                      key={option.value}\n                      type=\"button\"\n                      onClick={() => setColor(option.value)}\n                      className={`h-12 rounded-lg border-2 transition-all ${\n                        color === option.value\n                          ? \"border-white ring-2 ring-white/50 scale-110\"\n                          : \"border-[var(--border-color)] hover:scale-105\"\n                      }`}\n                      style={{ backgroundColor: option.value }}\n                      title={option.label}\n                      disabled={saving || deleting}\n                    />\n                  ))}\n                </div>\n              </div>\n\n              {/* Alert Routing */}\n              <div className=\"space-y-2\">\n                <Label>Receives Alerts</Label>\n                <div className=\"space-y-3\">\n                  {/* Fire */}\n                  <label className=\"flex items-center justify-between p-3 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-color)] cursor-pointer hover:bg-[var(--bg-tertiary)]\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"p-1.5 rounded-lg gradient-fire\">\n                        <Flame className=\"h-4 w-4 text-white\" />\n                      </div>\n                      <span className=\"text-sm font-medium text-[var(--text-primary)]\">\n                        ðŸ”¥ Fire Calls\n                      </span>\n                    </div>\n                    <input\n                      type=\"checkbox\"\n                      checked={fire}\n                      onChange={(e) => setFire(e.target.checked)}\n                      disabled={saving || deleting}\n                      className=\"h-5 w-5 rounded border-[var(--border-color)]\"\n                    />\n                  </label>\n\n                  {/* Medical */}\n                  <label className=\"flex items-center justify-between p-3 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-color)] cursor-pointer hover:bg-[var(--bg-tertiary)]\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"p-1.5 rounded-lg gradient-medical\">\n                        <Heart className=\"h-4 w-4 text-white\" />\n                      </div>\n                      <span className=\"text-sm font-medium text-[var(--text-primary)]\">\n                        ðŸ¥ Medical Calls\n                      </span>\n                    </div>\n                    <input\n                      type=\"checkbox\"\n                      checked={medical}\n                      onChange={(e) => setMedical(e.target.checked)}\n                      disabled={saving || deleting}\n                      className=\"h-5 w-5 rounded border-[var(--border-color)]\"\n                    />\n                  </label>\n\n                  {/* All-Call */}\n                  <label className=\"flex items-center justify-between p-3 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-color)] cursor-pointer hover:bg-[var(--bg-tertiary)]\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"p-1.5 rounded-lg gradient-all\">\n                        <Bell className=\"h-4 w-4 text-white\" />\n                      </div>\n                      <span className=\"text-sm font-medium text-[var(--text-primary)]\">\n                        ðŸ“¢ All-Call\n                      </span>\n                    </div>\n                    <input\n                      type=\"checkbox\"\n                      checked={allCall}\n                      onChange={(e) => setAllCall(e.target.checked)}\n                      disabled={saving || deleting}\n                      className=\"h-5 w-5 rounded border-[var(--border-color)]\"\n                    />\n                  </label>\n                </div>\n              </div>\n\n              {/* Preview */}\n              <div className=\"space-y-2\">\n                <Label>Preview</Label>\n                <div\n                  className=\"h-16 rounded-lg flex items-center justify-center font-bold text-sm relative\"\n                  style={{\n                    backgroundColor: `${color}30`,\n                    border: `2px solid ${color}`,\n                    color: color,\n                  }}\n                >\n                  {name || \"Zone Name\"}\n                  {/* Routing indicators */}\n                  <div className=\"absolute bottom-2 right-2 flex gap-1\">\n                    {fire && <div className=\"w-2 h-2 rounded-full bg-[var(--accent-red)]\" title=\"Fire\" />}\n                    {medical && <div className=\"w-2 h-2 rounded-full bg-[var(--accent-blue)]\" title=\"Medical\" />}\n                    {allCall && <div className=\"w-2 h-2 rounded-full bg-[var(--accent-purple)]\" title=\"All-Call\" />}\n                  </div>\n                </div>\n              </div>\n\n              {/* Error Message */}\n              {error && (\n                <div className=\"rounded-lg border border-[var(--accent-red)]/50 bg-[var(--accent-red)]/10 p-3 text-sm text-[var(--accent-red)]\">\n                  {error}\n                </div>\n              )}\n            </div>\n          </DialogBody>\n\n          <DialogFooter>\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={() => onOpenChange(false)}\n              disabled={saving || deleting}\n            >\n              Cancel\n            </Button>\n            {isEdit && onDelete && (\n              <Button\n                type=\"button\"\n                variant=\"destructive\"\n                onClick={handleDelete}\n                isLoading={deleting}\n                disabled={saving || deleting}\n              >\n                Delete\n              </Button>\n            )}\n            <Button type=\"submit\" isLoading={saving} disabled={saving || deleting}>\n              {isEdit ? \"Save Changes\" : \"Create Zone\"}\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2978, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/zones/assign-device-modal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n  DialogBody,\n  DialogFooter,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Speaker, Search, CheckCircle } from \"lucide-react\";\nimport type { AlgoDevice } from \"@/lib/algo/types\";\n\ninterface AssignDeviceModalProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  zoneName: string;\n  devices: AlgoDevice[];\n  assignedDeviceIds: string[];\n  onAssign: (deviceIds: string[]) => Promise<void>;\n}\n\nexport function AssignDeviceModal({\n  open,\n  onOpenChange,\n  zoneName,\n  devices,\n  assignedDeviceIds,\n  onAssign,\n}: AssignDeviceModalProps) {\n  const [search, setSearch] = useState(\"\");\n  const [selectedIds, setSelectedIds] = useState<string[]>([]);\n  const [saving, setSaving] = useState(false);\n\n  // Initialize selected IDs when modal opens\n  useEffect(() => {\n    if (open) {\n      setSelectedIds(assignedDeviceIds);\n      setSearch(\"\");\n    }\n  }, [open, assignedDeviceIds]);\n\n  const filteredDevices = devices.filter((device) =>\n    device.name.toLowerCase().includes(search.toLowerCase()) ||\n    device.ipAddress.includes(search)\n  );\n\n  const toggleDevice = (deviceId: string) => {\n    setSelectedIds((prev) =>\n      prev.includes(deviceId)\n        ? prev.filter((id) => id !== deviceId)\n        : [...prev, deviceId]\n    );\n  };\n\n  const handleSave = async () => {\n    setSaving(true);\n    try {\n      await onAssign(selectedIds);\n      onOpenChange(false);\n    } catch (error) {\n      console.error(\"Failed to assign devices:\", error);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent>\n        <DialogHeader onClose={() => onOpenChange(false)}>\n          <DialogTitle>Assign Devices to {zoneName}</DialogTitle>\n          <DialogDescription>\n            Select which speakers should be assigned to this zone\n          </DialogDescription>\n        </DialogHeader>\n\n        <DialogBody>\n          <div className=\"space-y-4\">\n            {/* Search */}\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-[var(--text-muted)]\" />\n              <Input\n                value={search}\n                onChange={(e) => setSearch(e.target.value)}\n                placeholder=\"Search devices...\"\n                className=\"pl-10\"\n              />\n            </div>\n\n            {/* Device List */}\n            <div className=\"space-y-2 max-h-[400px] overflow-y-auto\">\n              {filteredDevices.length === 0 ? (\n                <div className=\"py-8 text-center\">\n                  <Speaker className=\"mx-auto h-8 w-8 text-[var(--text-muted)] mb-2\" />\n                  <p className=\"text-sm text-[var(--text-muted)]\">\n                    {search ? \"No devices found\" : \"No devices available\"}\n                  </p>\n                </div>\n              ) : (\n                filteredDevices.map((device) => {\n                  const isSelected = selectedIds.includes(device.id);\n                  return (\n                    <button\n                      key={device.id}\n                      type=\"button\"\n                      onClick={() => toggleDevice(device.id)}\n                      className={`w-full flex items-center gap-3 p-3 rounded-xl border text-left transition-all ${\n                        isSelected\n                          ? \"border-[var(--accent-blue)] bg-[var(--accent-blue)]/10\"\n                          : \"border-[var(--border-color)] hover:border-[var(--accent-blue)]/50 hover:bg-[var(--bg-tertiary)]\"\n                      }`}\n                    >\n                      <div\n                        className={`flex h-5 w-5 items-center justify-center rounded border transition-colors ${\n                          isSelected\n                            ? \"border-[var(--accent-blue)] bg-[var(--accent-blue)]\"\n                            : \"border-[var(--border-color)]\"\n                        }`}\n                      >\n                        {isSelected && (\n                          <CheckCircle className=\"h-4 w-4 text-white\" />\n                        )}\n                      </div>\n                      <Speaker className=\"h-4 w-4 text-[var(--text-muted)]\" />\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"text-sm font-medium text-[var(--text-primary)] truncate\">\n                          {device.name}\n                        </p>\n                        <p className=\"text-xs text-[var(--text-muted)]\">\n                          {device.ipAddress}\n                        </p>\n                      </div>\n                    </button>\n                  );\n                })\n              )}\n            </div>\n\n            {/* Selected Count */}\n            <div className=\"text-sm text-[var(--text-muted)]\">\n              {selectedIds.length} device{selectedIds.length !== 1 ? \"s\" : \"\"} selected\n            </div>\n          </div>\n        </DialogBody>\n\n        <DialogFooter>\n          <Button\n            type=\"button\"\n            variant=\"outline\"\n            onClick={() => onOpenChange(false)}\n            disabled={saving}\n          >\n            Cancel\n          </Button>\n          <Button onClick={handleSave} isLoading={saving} disabled={saving}>\n            Assign Devices\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AASA;AACA;AACA;AAAA;AAAA;;;AAdA;;;;;;AA0BO,SAAS,kBAAkB,EAChC,IAAI,EACJ,YAAY,EACZ,QAAQ,EACR,OAAO,EACP,iBAAiB,EACjB,QAAQ,EACe;;IACvB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IACrC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAW,EAAE;IAC3D,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IAErC,2CAA2C;IAC3C,IAAA,0KAAS;uCAAC;YACR,IAAI,MAAM;gBACR,eAAe;gBACf,UAAU;YACZ;QACF;sCAAG;QAAC;QAAM;KAAkB;IAE5B,MAAM,kBAAkB,QAAQ,MAAM,CAAC,CAAC,SACtC,OAAO,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,OAAO,WAAW,OACrD,OAAO,SAAS,CAAC,QAAQ,CAAC;IAG5B,MAAM,eAAe,CAAC;QACpB,eAAe,CAAC,OACd,KAAK,QAAQ,CAAC,YACV,KAAK,MAAM,CAAC,CAAC,KAAO,OAAO,YAC3B;mBAAI;gBAAM;aAAS;IAE3B;IAEA,MAAM,aAAa;QACjB,UAAU;QACV,IAAI;YACF,MAAM,SAAS;YACf,aAAa;QACf,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;QAC7C,SAAU;YACR,UAAU;QACZ;IACF;IAEA,qBACE,6LAAC,+IAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,6LAAC,sJAAa;;8BACZ,6LAAC,qJAAY;oBAAC,SAAS,IAAM,aAAa;;sCACxC,6LAAC,oJAAW;;gCAAC;gCAAmB;;;;;;;sCAChC,6LAAC,0JAAiB;sCAAC;;;;;;;;;;;;8BAKrB,6LAAC,mJAAU;8BACT,cAAA,6LAAC;wBAAI,WAAU;;0CAEb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,mNAAM;wCAAC,WAAU;;;;;;kDAClB,6LAAC,6IAAK;wCACJ,OAAO;wCACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;wCACzC,aAAY;wCACZ,WAAU;;;;;;;;;;;;0CAKd,6LAAC;gCAAI,WAAU;0CACZ,gBAAgB,MAAM,KAAK,kBAC1B,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,sNAAO;4CAAC,WAAU;;;;;;sDACnB,6LAAC;4CAAE,WAAU;sDACV,SAAS,qBAAqB;;;;;;;;;;;2CAInC,gBAAgB,GAAG,CAAC,CAAC;oCACnB,MAAM,aAAa,YAAY,QAAQ,CAAC,OAAO,EAAE;oCACjD,qBACE,6LAAC;wCAEC,MAAK;wCACL,SAAS,IAAM,aAAa,OAAO,EAAE;wCACrC,WAAW,CAAC,8EAA8E,EACxF,aACI,2DACA,mGACJ;;0DAEF,6LAAC;gDACC,WAAW,CAAC,0EAA0E,EACpF,aACI,wDACA,gCACJ;0DAED,4BACC,6LAAC,6OAAW;oDAAC,WAAU;;;;;;;;;;;0DAG3B,6LAAC,sNAAO;gDAAC,WAAU;;;;;;0DACnB,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAE,WAAU;kEACV,OAAO,IAAI;;;;;;kEAEd,6LAAC;wDAAE,WAAU;kEACV,OAAO,SAAS;;;;;;;;;;;;;uCA1BhB,OAAO,EAAE;;;;;gCA+BpB;;;;;;0CAKJ,6LAAC;gCAAI,WAAU;;oCACZ,YAAY,MAAM;oCAAC;oCAAQ,YAAY,MAAM,KAAK,IAAI,MAAM;oCAAG;;;;;;;;;;;;;;;;;;8BAKtE,6LAAC,qJAAY;;sCACX,6LAAC,+IAAM;4BACL,MAAK;4BACL,SAAQ;4BACR,SAAS,IAAM,aAAa;4BAC5B,UAAU;sCACX;;;;;;sCAGD,6LAAC,+IAAM;4BAAC,SAAS;4BAAY,WAAW;4BAAQ,UAAU;sCAAQ;;;;;;;;;;;;;;;;;;;;;;;AAO5E;GA5IgB;KAAA"}},
    {"offset": {"line": 3260, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/app/zones/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { AppLayout } from \"@/components/layout/app-layout\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n  Map,\n  Speaker,\n  Flame,\n  Heart,\n  Bell,\n  Settings2,\n  Plus,\n  Check,\n  Edit,\n  Trash2,\n} from \"lucide-react\";\nimport { getDevices, getZones, addZone, updateZone, deleteZone as deleteZoneFromDB, getAllZoneRouting, setZoneRouting, updateDevice } from \"@/lib/firebase/firestore\";\nimport { useAuth } from \"@/contexts/auth-context\";\nimport type { AlgoDevice, Zone, ZoneRouting } from \"@/lib/algo/types\";\nimport { ZoneModal } from \"@/components/zones/zone-modal\";\nimport { AssignDeviceModal } from \"@/components/zones/assign-device-modal\";\n\nexport default function ZonesPage() {\n  const [devices, setDevices] = useState<AlgoDevice[]>([]);\n  const [zones, setZones] = useState<Zone[]>([]);\n  const { user } = useAuth();\n  const [zoneRouting, setZoneRoutingState] = useState<Record<string, ZoneRouting>>({});\n  const [selectedZone, setSelectedZone] = useState<string | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  // Modal states\n  const [zoneModalOpen, setZoneModalOpen] = useState(false);\n  const [assignModalOpen, setAssignModalOpen] = useState(false);\n  const [editingZone, setEditingZone] = useState<Zone | null>(null);\n  const [editingZoneIndex, setEditingZoneIndex] = useState<number>(-1);\n\n  // Load data from Firebase\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  const loadData = async () => {\n    try {\n      setLoading(true);\n      const [devicesData, zonesData, routingData] = await Promise.all([\n        getDevices(),\n        getZones(),\n        getAllZoneRouting(),\n      ]);\n\n      setDevices(devicesData);\n      setZones(zonesData);\n      setZoneRoutingState(routingData);\n\n      // Auto-select first zone\n      if (zonesData.length > 0 && !selectedZone) {\n        setSelectedZone(zonesData[0].id);\n      }\n    } catch (error) {\n      console.error(\"Failed to load zones data:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const selectedZoneData = zones.find(z => z.id === selectedZone);\n  const routing = selectedZone ? zoneRouting[selectedZone] : null;\n\n  // Open modal to add new zone\n  const handleAddZone = () => {\n    setEditingZone(null);\n    setEditingZoneIndex(-1);\n    setZoneModalOpen(true);\n  };\n\n  // Open modal to edit existing zone\n  const handleEditZone = (zone: Zone, index: number) => {\n    setEditingZone(zone);\n    setEditingZoneIndex(index);\n    setZoneModalOpen(true);\n  };\n\n  // Save zone (create or update)\n  const handleSaveZone = async (data: {\n    zone: Omit<Zone, \"id\" | \"createdAt\" | \"updatedAt\"> & { id?: string };\n    routing: { fire: boolean; medical: boolean; allCall: boolean };\n  }) => {\n    try {\n      let zoneId: string;\n\n      if (data.zone.id) {\n        // Update existing zone\n        zoneId = data.zone.id;\n        await updateZone(zoneId, {\n          name: data.zone.name,\n          color: data.zone.color,\n          deviceIds: data.zone.deviceIds,\n        });\n      } else {\n        // Create new zone\n        zoneId = await addZone({\n          name: data.zone.name,\n          color: data.zone.color,\n          deviceIds: [],\n          ownerEmail: user?.email || \"unknown\",\n        });\n      }\n\n      // Save routing configuration\n      await setZoneRouting(zoneId, {\n        zoneId,\n        fire: data.routing.fire,\n        medical: data.routing.medical,\n        allCall: data.routing.allCall,\n      });\n\n      // Reload data\n      await loadData();\n\n      // Select the newly created/edited zone\n      setSelectedZone(zoneId);\n    } catch (error) {\n      console.error(\"Failed to save zone:\", error);\n      throw error;\n    }\n  };\n\n  // Delete zone\n  const handleDeleteZone = async () => {\n    if (!editingZone) return;\n\n    try {\n      // Unassign all devices from this zone first\n      const devicesInZone = devices.filter(d => d.zone === editingZone.id);\n      await Promise.all(\n        devicesInZone.map(device =>\n          updateDevice(device.id, { zone: null })\n        )\n      );\n\n      // Delete the zone\n      await deleteZoneFromDB(editingZone.id);\n\n      // If this was the selected zone, clear selection\n      if (selectedZone === editingZone.id) {\n        setSelectedZone(null);\n      }\n\n      // Reload data\n      await loadData();\n    } catch (error) {\n      console.error(\"Failed to delete zone:\", error);\n      throw error;\n    }\n  };\n\n  // Open assign device modal\n  const handleAssignDevices = () => {\n    if (!selectedZone) return;\n    setAssignModalOpen(true);\n  };\n\n  // Assign devices to zone\n  const handleDeviceAssignment = async (deviceIds: string[]) => {\n    if (!selectedZone) return;\n\n    try {\n      // Get current zone data\n      const zone = zones.find(z => z.id === selectedZone);\n      if (!zone) return;\n\n      // Get previously assigned devices for this zone\n      const previouslyAssigned = devices.filter(d => d.zone === selectedZone);\n\n      // Unassign devices that are no longer in the list\n      const toUnassign = previouslyAssigned.filter(d => !deviceIds.includes(d.id));\n      await Promise.all(\n        toUnassign.map(device => updateDevice(device.id, { zone: null }))\n      );\n\n      // Assign new devices\n      await Promise.all(\n        deviceIds.map(deviceId => updateDevice(deviceId, { zone: selectedZone }))\n      );\n\n      // Update zone's deviceIds array\n      await updateZone(selectedZone, { deviceIds });\n\n      // Reload data\n      await loadData();\n    } catch (error) {\n      console.error(\"Failed to assign devices:\", error);\n      throw error;\n    }\n  };\n\n  // Update routing for selected zone\n  const updateRouting = async (type: \"fire\" | \"medical\" | \"allCall\", value: boolean) => {\n    if (!selectedZone) return;\n\n    try {\n      const currentRouting = zoneRouting[selectedZone] || {\n        zoneId: selectedZone,\n        fire: true,\n        medical: true,\n        allCall: true,\n      };\n\n      await setZoneRouting(selectedZone, {\n        ...currentRouting,\n        [type]: value,\n      });\n\n      // Update local state\n      setZoneRoutingState(prev => ({\n        ...prev,\n        [selectedZone]: {\n          ...currentRouting,\n          [type]: value,\n          id: selectedZone,\n        },\n      }));\n    } catch (error) {\n      console.error(\"Failed to update routing:\", error);\n    }\n  };\n\n  // Get devices assigned to selected zone\n  const assignedDevices = selectedZone\n    ? devices.filter(d => d.zone === selectedZone)\n    : [];\n\n  if (loading) {\n    return (\n      <AppLayout>\n        <div className=\"flex justify-center py-12\">\n          <div className=\"h-8 w-8 animate-spin rounded-full border-4 border-[var(--accent-blue)] border-t-transparent\" />\n        </div>\n      </AppLayout>\n    );\n  }\n\n  return (\n    <AppLayout>\n      <div className=\"space-y-6\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-[var(--text-primary)]\">Station Zones</h1>\n            <p className=\"text-[var(--text-secondary)] text-sm\">\n              Configure zones and speaker assignments\n            </p>\n          </div>\n          <Button onClick={handleAddZone}>\n            <Plus className=\"mr-2 h-4 w-4\" />\n            Add Zone\n          </Button>\n        </div>\n\n        {zones.length === 0 ? (\n          <Card>\n            <CardContent className=\"py-12\">\n              <div className=\"text-center\">\n                <Map className=\"mx-auto h-12 w-12 text-[var(--text-muted)] mb-4\" />\n                <h3 className=\"text-lg font-semibold text-[var(--text-primary)] mb-2\">\n                  No Zones Yet\n                </h3>\n                <p className=\"text-sm text-[var(--text-secondary)] mb-6\">\n                  Create zones to organize your speakers by location\n                </p>\n                <Button onClick={handleAddZone}>\n                  <Plus className=\"mr-2 h-4 w-4\" />\n                  Create Your First Zone\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        ) : (\n          <div className=\"grid gap-6 lg:grid-cols-3\">\n            {/* Floor Plan */}\n            <Card className=\"lg:col-span-2\">\n              <CardHeader>\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"p-2 rounded-lg bg-[var(--accent-purple)]/15\">\n                    <Map className=\"h-5 w-5 text-[var(--accent-purple)]\" />\n                  </div>\n                  <div>\n                    <CardTitle>Floor Plan</CardTitle>\n                    <CardDescription>Click a zone to configure</CardDescription>\n                  </div>\n                </div>\n              </CardHeader>\n              <CardContent>\n                {/* Interactive Floor Plan */}\n                <div className=\"grid grid-cols-3 gap-3 aspect-[16/9]\">\n                  {zones.map((zone, index) => {\n                    const routing = zoneRouting[zone.id];\n                    return (\n                      <button\n                        key={zone.id}\n                        onClick={() => setSelectedZone(zone.id)}\n                        className={`rounded-xl p-4 flex flex-col items-center justify-center text-center transition-all ${\n                          index === 2 ? \"row-span-2\" : \"\"\n                        } ${\n                          selectedZone === zone.id\n                            ? \"ring-2 ring-white ring-offset-2 ring-offset-[var(--bg-primary)]\"\n                            : \"hover:scale-[1.02]\"\n                        }`}\n                        style={{\n                          backgroundColor: `${zone.color}30`,\n                          border: `2px solid ${zone.color}`,\n                        }}\n                      >\n                        <span className=\"text-sm font-bold\" style={{ color: zone.color }}>\n                          {zone.name.toUpperCase()}\n                        </span>\n                        <span className=\"text-xs text-[var(--text-muted)] mt-2\">\n                          {zone.deviceIds?.length || 0} speakers\n                        </span>\n                        <div className=\"flex gap-1 mt-2\">\n                          {zoneRouting?.fire && (\n                            <div className=\"w-2 h-2 rounded-full bg-[var(--accent-red)]\" title=\"Fire\" />\n                          )}\n                          {zoneRouting?.medical && (\n                            <div className=\"w-2 h-2 rounded-full bg-[var(--accent-blue)]\" title=\"Medical\" />\n                          )}\n                          {zoneRouting?.allCall && (\n                            <div className=\"w-2 h-2 rounded-full bg-[var(--accent-purple)]\" title=\"All-Call\" />\n                          )}\n                        </div>\n                      </button>\n                    );\n                  })}\n                </div>\n\n                {/* Legend */}\n                <div className=\"flex items-center justify-center gap-6 mt-6 text-xs\">\n                  <div className=\"flex items-center gap-2\">\n                    <div className=\"w-3 h-3 rounded-full bg-[var(--accent-red)]\" />\n                    <span className=\"text-[var(--text-muted)]\">Fire</span>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <div className=\"w-3 h-3 rounded-full bg-[var(--accent-blue)]\" />\n                    <span className=\"text-[var(--text-muted)]\">Medical</span>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <div className=\"w-3 h-3 rounded-full bg-[var(--accent-purple)]\" />\n                    <span className=\"text-[var(--text-muted)]\">All-Call</span>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Zone Config Panel */}\n            {selectedZoneData && (\n              <div className=\"space-y-6\">\n                <Card>\n                  <CardHeader>\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center gap-3\">\n                        <div\n                          className=\"p-2 rounded-lg\"\n                          style={{ backgroundColor: `${selectedZoneData.color}30` }}\n                        >\n                          <Settings2 className=\"h-5 w-5\" style={{ color: selectedZoneData.color }} />\n                        </div>\n                        <div>\n                          <CardTitle>{selectedZoneData.name}</CardTitle>\n                          <CardDescription>Zone configuration</CardDescription>\n                        </div>\n                      </div>\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => handleEditZone(selectedZoneData, zones.findIndex(z => z.id === selectedZone))}\n                      >\n                        <Edit className=\"h-4 w-4\" />\n                      </Button>\n                    </div>\n                  </CardHeader>\n                  <CardContent className=\"space-y-6\">\n                    {/* Call Type Routing */}\n                    <div className=\"space-y-4\">\n                      <Label className=\"text-[var(--text-muted)] text-xs uppercase tracking-wider\">\n                        Call Type Routing\n                      </Label>\n\n                      <div className=\"space-y-3\">\n                        <div className=\"flex items-center justify-between p-3 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-color)]\">\n                          <div className=\"flex items-center gap-3\">\n                            <div className=\"p-1.5 rounded-lg gradient-fire\">\n                              <Flame className=\"h-4 w-4 text-white\" />\n                            </div>\n                            <span className=\"text-sm font-medium text-[var(--text-primary)]\">Fire Alerts</span>\n                          </div>\n                          <Switch\n                            checked={routing?.fire ?? true}\n                            onCheckedChange={(v) => updateRouting(\"fire\", v)}\n                          />\n                        </div>\n\n                        <div className=\"flex items-center justify-between p-3 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-color)]\">\n                          <div className=\"flex items-center gap-3\">\n                            <div className=\"p-1.5 rounded-lg gradient-medical\">\n                              <Heart className=\"h-4 w-4 text-white\" />\n                            </div>\n                            <span className=\"text-sm font-medium text-[var(--text-primary)]\">Medical Alerts</span>\n                          </div>\n                          <Switch\n                            checked={routing?.medical ?? true}\n                            onCheckedChange={(v) => updateRouting(\"medical\", v)}\n                          />\n                        </div>\n\n                        <div className=\"flex items-center justify-between p-3 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-color)]\">\n                          <div className=\"flex items-center gap-3\">\n                            <div className=\"p-1.5 rounded-lg gradient-all\">\n                              <Bell className=\"h-4 w-4 text-white\" />\n                            </div>\n                            <span className=\"text-sm font-medium text-[var(--text-primary)]\">All-Call</span>\n                          </div>\n                          <Switch\n                            checked={routing?.allCall ?? true}\n                            onCheckedChange={(v) => updateRouting(\"allCall\", v)}\n                          />\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Assigned Devices */}\n                    <div className=\"space-y-3\">\n                      <Label className=\"text-[var(--text-muted)] text-xs uppercase tracking-wider\">\n                        Assigned Devices ({assignedDevices.length})\n                      </Label>\n\n                      <div className=\"space-y-2 max-h-[200px] overflow-y-auto\">\n                        {assignedDevices.length === 0 ? (\n                          <div className=\"text-center py-4\">\n                            <Speaker className=\"mx-auto h-6 w-6 text-[var(--text-muted)] mb-2\" />\n                            <p className=\"text-sm text-[var(--text-muted)]\">\n                              No devices assigned\n                            </p>\n                          </div>\n                        ) : (\n                          assignedDevices.map((device) => (\n                            <div\n                              key={device.id}\n                              className=\"flex items-center gap-3 p-3 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-color)]\"\n                            >\n                              <Speaker className=\"h-4 w-4 text-[var(--text-muted)]\" />\n                              <div className=\"flex-1 min-w-0\">\n                                <p className=\"text-sm font-medium text-[var(--text-primary)] truncate\">\n                                  {device.name}\n                                </p>\n                                <p className=\"text-xs text-[var(--text-muted)]\">{device.ipAddress}</p>\n                              </div>\n                              <Check className=\"h-4 w-4 text-[var(--accent-green)]\" />\n                            </div>\n                          ))\n                        )}\n                      </div>\n\n                      <Button variant=\"outline\" size=\"sm\" className=\"w-full\" onClick={handleAssignDevices}>\n                        <Plus className=\"mr-2 h-4 w-4\" />\n                        Assign Device\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>\n\n                {/* Zone Stats */}\n                <Card>\n                  <CardContent className=\"p-4\">\n                    <div className=\"grid grid-cols-2 gap-4 text-center\">\n                      <div>\n                        <p className=\"text-2xl font-bold text-[var(--text-primary)]\">\n                          {assignedDevices.length}\n                        </p>\n                        <p className=\"text-xs text-[var(--text-muted)]\">Speakers</p>\n                      </div>\n                      <div>\n                        <p className=\"text-2xl font-bold text-[var(--text-primary)]\">\n                          {[routing?.fire, routing?.medical, routing?.allCall].filter(Boolean).length}\n                        </p>\n                        <p className=\"text-xs text-[var(--text-muted)]\">Alert Types</p>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Zone Modal */}\n      <ZoneModal\n        open={zoneModalOpen}\n        onOpenChange={setZoneModalOpen}\n        zone={editingZone}\n        zoneIndex={editingZoneIndex}\n        routing={\n          editingZone && zoneRouting[editingZone.id]\n            ? {\n                fire: zoneRouting[editingZone.id].fire,\n                medical: zoneRouting[editingZone.id].medical,\n                allCall: zoneRouting[editingZone.id].allCall,\n              }\n            : { fire: true, medical: true, allCall: true }\n        }\n        onSave={handleSaveZone}\n        ownerEmail={user?.email || \"unknown\"}\n        onDelete={editingZone ? handleDeleteZone : undefined}\n      />\n\n      {/* Assign Device Modal */}\n      {selectedZoneData && (\n        <AssignDeviceModal\n          open={assignModalOpen}\n          onOpenChange={setAssignModalOpen}\n          zoneName={selectedZoneData.name}\n          devices={devices}\n          assignedDeviceIds={assignedDevices.map(d => d.id)}\n          onAssign={handleDeviceAssignment}\n        />\n      )}\n    </AppLayout>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}