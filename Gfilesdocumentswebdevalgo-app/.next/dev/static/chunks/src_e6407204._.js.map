{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\n/**\n * Merge Tailwind CSS classes with clsx\n */\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\n/**\n * Format bytes to human readable string\n */\nexport function formatBytes(bytes: number, decimals = 2): string {\n  if (bytes === 0) return \"0 Bytes\";\n\n  const k = 1024;\n  const dm = decimals < 0 ? 0 : decimals;\n  const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\"];\n\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\n}\n\n/**\n * Format duration in seconds to mm:ss\n */\nexport function formatDuration(seconds: number): string {\n  const mins = Math.floor(seconds / 60);\n  const secs = Math.floor(seconds % 60);\n  return `${mins}:${secs.toString().padStart(2, \"0\")}`;\n}\n\n/**\n * Format date to locale string\n */\nexport function formatDate(date: Date | string | null): string {\n  if (!date) return \"Never\";\n  const d = typeof date === \"string\" ? new Date(date) : date;\n  return d.toLocaleString();\n}\n\n/**\n * Validate IP address format\n */\nexport function isValidIpAddress(ip: string): boolean {\n  const ipRegex = /^(\\d{1,3}\\.){3}\\d{1,3}$/;\n  if (!ipRegex.test(ip)) return false;\n\n  const parts = ip.split(\".\");\n  return parts.every((part) => {\n    const num = parseInt(part, 10);\n    return num >= 0 && num <= 255;\n  });\n}\n\n/**\n * Generate a random string ID\n */\nexport function generateId(): string {\n  return Math.random().toString(36).substring(2, 15);\n}\n\n/**\n * Delay execution\n */\nexport function delay(ms: number): Promise<void> {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\n\n/**\n * Parse Algo volume string to number\n * e.g., \"Page Volume: 10 (0dB)\" -> 10\n */\nexport function parseAlgoVolume(volumeStr: string): number {\n  const match = volumeStr.match(/Volume:\\s*(\\d+)/);\n  return match ? parseInt(match[1], 10) : 50;\n}\n\n/**\n * Convert volume number to dB string for Algo API\n */\nexport function volumeToDb(volume: number): string {\n  // Algo uses -42dB to 0dB range typically\n  const db = Math.round((volume / 100) * 42 - 42);\n  return `${db}dB`;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;;;AAKO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB;AAKO,SAAS,YAAY,KAAa,EAAE,WAAW,CAAC;IACrD,IAAI,UAAU,GAAG,OAAO;IAExB,MAAM,IAAI;IACV,MAAM,KAAK,WAAW,IAAI,IAAI;IAC9B,MAAM,QAAQ;QAAC;QAAS;QAAM;QAAM;KAAK;IAEzC,MAAM,IAAI,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC,SAAS,KAAK,GAAG,CAAC;IAEhD,OAAO,WAAW,CAAC,QAAQ,KAAK,GAAG,CAAC,GAAG,EAAE,EAAE,OAAO,CAAC,OAAO,MAAM,KAAK,CAAC,EAAE;AAC1E;AAKO,SAAS,eAAe,OAAe;IAC5C,MAAM,OAAO,KAAK,KAAK,CAAC,UAAU;IAClC,MAAM,OAAO,KAAK,KAAK,CAAC,UAAU;IAClC,OAAO,GAAG,KAAK,CAAC,EAAE,KAAK,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;AACtD;AAKO,SAAS,WAAW,IAA0B;IACnD,IAAI,CAAC,MAAM,OAAO;IAClB,MAAM,IAAI,OAAO,SAAS,WAAW,IAAI,KAAK,QAAQ;IACtD,OAAO,EAAE,cAAc;AACzB;AAKO,SAAS,iBAAiB,EAAU;IACzC,MAAM,UAAU;IAChB,IAAI,CAAC,QAAQ,IAAI,CAAC,KAAK,OAAO;IAE9B,MAAM,QAAQ,GAAG,KAAK,CAAC;IACvB,OAAO,MAAM,KAAK,CAAC,CAAC;QAClB,MAAM,MAAM,SAAS,MAAM;QAC3B,OAAO,OAAO,KAAK,OAAO;IAC5B;AACF;AAKO,SAAS;IACd,OAAO,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,SAAS,CAAC,GAAG;AACjD;AAKO,SAAS,MAAM,EAAU;IAC9B,OAAO,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;AACtD;AAMO,SAAS,gBAAgB,SAAiB;IAC/C,MAAM,QAAQ,UAAU,KAAK,CAAC;IAC9B,OAAO,QAAQ,SAAS,KAAK,CAAC,EAAE,EAAE,MAAM;AAC1C;AAKO,SAAS,WAAW,MAAc;IACvC,yCAAyC;IACzC,MAAM,KAAK,KAAK,KAAK,CAAC,AAAC,SAAS,MAAO,KAAK;IAC5C,OAAO,GAAG,GAAG,EAAE,CAAC;AAClB"}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/ui/button.tsx"],"sourcesContent":["import { forwardRef, type ButtonHTMLAttributes } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: \"default\" | \"destructive\" | \"outline\" | \"secondary\" | \"ghost\" | \"link\";\n  size?: \"default\" | \"sm\" | \"lg\" | \"icon\";\n  isLoading?: boolean;\n}\n\nconst Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant = \"default\", size = \"default\", isLoading, children, disabled, ...props }, ref) => {\n    const baseStyles =\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-semibold transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg-primary)] disabled:pointer-events-none disabled:opacity-50\";\n\n    const variants = {\n      default: \"bg-[var(--accent-blue)] text-white hover:bg-[var(--accent-blue)]/90 focus-visible:ring-[var(--accent-blue)]\",\n      destructive: \"bg-[var(--accent-red)] text-white hover:bg-[var(--accent-red)]/90 focus-visible:ring-[var(--accent-red)]\",\n      outline: \"border border-[var(--border-color)] bg-transparent text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)] hover:border-[var(--border-active)] focus-visible:ring-[var(--accent-blue)]\",\n      secondary: \"bg-[var(--bg-tertiary)] text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)]/80 focus-visible:ring-[var(--border-active)]\",\n      ghost: \"text-[var(--text-secondary)] hover:bg-[var(--bg-tertiary)] hover:text-[var(--text-primary)] focus-visible:ring-[var(--border-active)]\",\n      link: \"text-[var(--accent-blue)] underline-offset-4 hover:underline focus-visible:ring-[var(--accent-blue)]\",\n    };\n\n    const sizes = {\n      default: \"h-10 px-4 py-2\",\n      sm: \"h-9 rounded-md px-3 text-xs\",\n      lg: \"h-11 rounded-lg px-8\",\n      icon: \"h-10 w-10\",\n    };\n\n    return (\n      <button\n        className={cn(baseStyles, variants[variant], sizes[size], className)}\n        ref={ref}\n        disabled={disabled || isLoading}\n        {...props}\n      >\n        {isLoading ? (\n          <>\n            <svg\n              className=\"mr-2 h-4 w-4 animate-spin\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n            >\n              <circle\n                className=\"opacity-25\"\n                cx=\"12\"\n                cy=\"12\"\n                r=\"10\"\n                stroke=\"currentColor\"\n                strokeWidth=\"4\"\n              />\n              <path\n                className=\"opacity-75\"\n                fill=\"currentColor\"\n                d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n              />\n            </svg>\n            Loading...\n          </>\n        ) : (\n          children\n        )}\n      </button>\n    );\n  }\n);\n\nButton.displayName = \"Button\";\n\nexport { Button };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAQA,MAAM,uBAAS,IAAA,2KAAU,OACvB,CAAC,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,OAAO,SAAS,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IAC9F,MAAM,aACJ;IAEF,MAAM,WAAW;QACf,SAAS;QACT,aAAa;QACb,SAAS;QACT,WAAW;QACX,OAAO;QACP,MAAM;IACR;IAEA,MAAM,QAAQ;QACZ,SAAS;QACT,IAAI;QACJ,IAAI;QACJ,MAAM;IACR;IAEA,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EAAC,YAAY,QAAQ,CAAC,QAAQ,EAAE,KAAK,CAAC,KAAK,EAAE;QAC1D,KAAK;QACL,UAAU,YAAY;QACrB,GAAG,KAAK;kBAER,0BACC;;8BACE,6LAAC;oBACC,WAAU;oBACV,OAAM;oBACN,MAAK;oBACL,SAAQ;;sCAER,6LAAC;4BACC,WAAU;4BACV,IAAG;4BACH,IAAG;4BACH,GAAE;4BACF,QAAO;4BACP,aAAY;;;;;;sCAEd,6LAAC;4BACC,WAAU;4BACV,MAAK;4BACL,GAAE;;;;;;;;;;;;gBAEA;;2BAIR;;;;;;AAIR;;AAGF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/ui/input.tsx"],"sourcesContent":["import { forwardRef, type InputHTMLAttributes } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface InputProps extends InputHTMLAttributes<HTMLInputElement> {\n  error?: string;\n}\n\nconst Input = forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, error, ...props }, ref) => {\n    return (\n      <div className=\"w-full\">\n        <input\n          type={type}\n          className={cn(\n            \"flex h-10 w-full rounded-lg border border-[var(--border-color)] bg-[var(--bg-tertiary)] px-3 py-2 text-sm text-[var(--text-primary)] ring-offset-[var(--bg-primary)] file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-[var(--text-muted)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-blue)] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n            error && \"border-[var(--accent-red)] focus-visible:ring-[var(--accent-red)]\",\n            className\n          )}\n          ref={ref}\n          {...props}\n        />\n        {error && <p className=\"mt-1 text-sm text-[var(--accent-red)]\">{error}</p>}\n      </div>\n    );\n  }\n);\n\nInput.displayName = \"Input\";\n\nexport { Input };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAMA,MAAM,sBAAQ,IAAA,2KAAU,OACtB,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE;IACrC,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,MAAM;gBACN,WAAW,IAAA,4HAAE,EACX,ibACA,SAAS,qEACT;gBAEF,KAAK;gBACJ,GAAG,KAAK;;;;;;YAEV,uBAAS,6LAAC;gBAAE,WAAU;0BAAyC;;;;;;;;;;;;AAGtE;;AAGF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 225, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/ui/label.tsx"],"sourcesContent":["import { forwardRef, type LabelHTMLAttributes } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst Label = forwardRef<HTMLLabelElement, LabelHTMLAttributes<HTMLLabelElement>>(\n  ({ className, ...props }, ref) => (\n    <label\n      ref={ref}\n      className={cn(\n        \"text-sm font-semibold leading-none text-[var(--text-secondary)] peer-disabled:cursor-not-allowed peer-disabled:opacity-70\",\n        className\n      )}\n      {...props}\n    />\n  )\n);\n\nLabel.displayName = \"Label\";\n\nexport { Label };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,MAAM,sBAAQ,IAAA,2KAAU,OACtB,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,6HACA;QAED,GAAG,KAAK;;;;;;;AAKf,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 257, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/ui/card.tsx"],"sourcesContent":["import { forwardRef, type HTMLAttributes } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst Card = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      className={cn(\n        \"rounded-2xl border border-[var(--border-color)] bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n);\nCard.displayName = \"Card\";\n\nconst CardHeader = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n      {...props}\n    />\n  )\n);\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = forwardRef<HTMLParagraphElement, HTMLAttributes<HTMLHeadingElement>>(\n  ({ className, ...props }, ref) => (\n    <h3\n      ref={ref}\n      className={cn(\"text-lg font-semibold leading-none tracking-tight text-[var(--text-primary)]\", className)}\n      {...props}\n    />\n  )\n);\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = forwardRef<HTMLParagraphElement, HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, ...props }, ref) => (\n    <p\n      ref={ref}\n      className={cn(\"text-sm text-[var(--text-secondary)]\", className)}\n      {...props}\n    />\n  )\n);\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n  )\n);\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      className={cn(\"flex items-center p-6 pt-0\", className)}\n      {...props}\n    />\n  )\n);\nCardFooter.displayName = \"CardFooter\";\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;;;;AAEA,MAAM,qBAAO,IAAA,2KAAU,OACrB,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,4GACA;QAED,GAAG,KAAK;;;;;;;AAIf,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,IAAA,2KAAU,QAC3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAIf,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,IAAA,2KAAU,QAC1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,gFAAgF;QAC7F,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,IAAA,2KAAU,QAChC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,wCAAwC;QACrD,GAAG,KAAK;;;;;;;AAIf,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,IAAA,2KAAU,QAC5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAGlE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,IAAA,2KAAU,SAC3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAIf,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 364, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/auth/login-form.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useAuth } from \"@/contexts/auth-context\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Radio } from \"lucide-react\";\n\nexport function LoginForm() {\n  const { signIn } = useAuth();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n    setLoading(true);\n\n    try {\n      await signIn(email, password);\n    } catch {\n      setError(\"Invalid email or password\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex min-h-screen items-center justify-center bg-[var(--bg-primary)] px-4\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader className=\"text-center\">\n          <div className=\"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-2xl gradient-fire\">\n            <Radio className=\"h-8 w-8 text-white\" />\n          </div>\n          <CardTitle className=\"text-2xl\">\n            Algo<span className=\"text-[var(--accent-orange)]\">Sound</span>\n          </CardTitle>\n          <CardDescription>\n            Sign in to manage your Algo sound distribution system\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            {error && (\n              <div className=\"rounded-lg bg-[var(--accent-red)]/15 border border-[var(--accent-red)]/30 p-3 text-sm text-[var(--accent-red)]\">\n                {error}\n              </div>\n            )}\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"email\">Email</Label>\n              <Input\n                id=\"email\"\n                type=\"email\"\n                placeholder=\"admin@example.com\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                required\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"password\">Password</Label>\n              <Input\n                id=\"password\"\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n              />\n            </div>\n            <Button type=\"submit\" className=\"w-full\" isLoading={loading}>\n              Sign In\n            </Button>\n          </form>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;;AAUO,SAAS;;IACd,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,iJAAO;IAC1B,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QAEX,IAAI;YACF,MAAM,OAAO,OAAO;QACtB,EAAE,OAAM;YACN,SAAS;QACX,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC,2IAAI;YAAC,WAAU;;8BACd,6LAAC,iJAAU;oBAAC,WAAU;;sCACpB,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,gNAAK;gCAAC,WAAU;;;;;;;;;;;sCAEnB,6LAAC,gJAAS;4BAAC,WAAU;;gCAAW;8CAC1B,6LAAC;oCAAK,WAAU;8CAA8B;;;;;;;;;;;;sCAEpD,6LAAC,sJAAe;sCAAC;;;;;;;;;;;;8BAInB,6LAAC,kJAAW;8BACV,cAAA,6LAAC;wBAAK,UAAU;wBAAc,WAAU;;4BACrC,uBACC,6LAAC;gCAAI,WAAU;0CACZ;;;;;;0CAGL,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,6IAAK;wCAAC,SAAQ;kDAAQ;;;;;;kDACvB,6LAAC,6IAAK;wCACJ,IAAG;wCACH,MAAK;wCACL,aAAY;wCACZ,OAAO;wCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wCACxC,QAAQ;;;;;;;;;;;;0CAGZ,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,6IAAK;wCAAC,SAAQ;kDAAW;;;;;;kDAC1B,6LAAC,6IAAK;wCACJ,IAAG;wCACH,MAAK;wCACL,OAAO;wCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wCAC3C,QAAQ;;;;;;;;;;;;0CAGZ,6LAAC,+IAAM;gCAAC,MAAK;gCAAS,WAAU;gCAAS,WAAW;0CAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQzE;GAvEgB;;QACK,iJAAO;;;KADZ"}},
    {"offset": {"line": 576, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/layout/sidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport {\n  LayoutDashboard,\n  Speaker,\n  Mic,\n  Radio,\n  Settings,\n  LogOut,\n  Menu,\n  X,\n  Map,\n  Activity,\n  Network,\n  Lightbulb,\n  Gamepad2,\n} from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { useState, useMemo } from \"react\";\nimport { useAudioMonitoring } from \"@/contexts/audio-monitoring-context\";\nimport { useAuth } from \"@/contexts/auth-context\";\n\ninterface NavItem {\n  title: string;\n  href: string;\n  icon: React.ElementType;\n  section?: string;\n  adminOnly?: boolean;\n}\n\nconst baseNavItems: NavItem[] = [\n  { title: \"Dashboard\", href: \"/\", icon: LayoutDashboard, section: \"Overview\" },\n  { title: \"Station Zones\", href: \"/zones\", icon: Map, section: \"Overview\" },\n  { title: \"Call Routing\", href: \"/distribute\", icon: Activity, section: \"Overview\" },\n  { title: \"Audio Input\", href: \"/live\", icon: Mic, section: \"Audio\" },\n  { title: \"Multi-Input Routing\", href: \"/input-routing\", icon: Network, section: \"Audio\" },\n  { title: \"Output & Speakers\", href: \"/devices\", icon: Speaker, section: \"Audio\" },\n  { title: \"PoE Devices\", href: \"/poe-devices\", icon: Lightbulb, section: \"Audio\" },\n  { title: \"Settings\", href: \"/settings\", icon: Settings, section: \"System\" },\n  { title: \"Control Center\", href: \"/admin/control\", icon: Gamepad2, section: \"Admin\", adminOnly: true },\n];\n\ninterface SidebarProps {\n  onLogout: () => void;\n}\n\nexport function Sidebar({ onLogout }: SidebarProps) {\n  const pathname = usePathname();\n  const [isMobileOpen, setIsMobileOpen] = useState(false);\n  const { isCapturing, audioDetected, speakersEnabled } = useAudioMonitoring();\n  const { user } = useAuth();\n\n  const isAdmin = (user as any)?.role === \"admin\";\n\n  // Filter nav items based on user role\n  const navItems = useMemo(() => {\n    return baseNavItems.filter(item => !item.adminOnly || isAdmin);\n  }, [isAdmin]);\n\n  // Group items by section\n  const sections = navItems.reduce((acc, item) => {\n    const section = item.section || \"Other\";\n    if (!acc[section]) acc[section] = [];\n    acc[section].push(item);\n    return acc;\n  }, {} as Record<string, NavItem[]>);\n\n  return (\n    <>\n      {/* Mobile menu button */}\n      <button\n        className=\"fixed left-4 top-4 z-50 rounded-lg bg-[var(--bg-secondary)] border border-[var(--border-color)] p-2 shadow-lg lg:hidden\"\n        onClick={() => setIsMobileOpen(!isMobileOpen)}\n      >\n        {isMobileOpen ? (\n          <X size={24} className=\"text-[var(--text-primary)]\" />\n        ) : (\n          <Menu size={24} className=\"text-[var(--text-primary)]\" />\n        )}\n      </button>\n\n      {/* Overlay for mobile */}\n      {isMobileOpen && (\n        <div\n          className=\"fixed inset-0 z-30 bg-black/70 lg:hidden\"\n          onClick={() => setIsMobileOpen(false)}\n        />\n      )}\n\n      {/* Sidebar */}\n      <aside\n        className={cn(\n          \"fixed left-0 top-0 z-40 h-screen w-[260px] transform border-r border-[var(--border-color)] bg-[var(--bg-secondary)] transition-transform duration-200 ease-in-out lg:translate-x-0 flex flex-col\",\n          isMobileOpen ? \"translate-x-0\" : \"-translate-x-full\"\n        )}\n      >\n        {/* Logo */}\n        <div className=\"flex h-[72px] items-center border-b border-[var(--border-color)] px-6\">\n          <Link href=\"/\" className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-xl gradient-fire flex items-center justify-center\">\n              <Radio className=\"h-6 w-6 text-white\" />\n            </div>\n            <span className=\"text-xl font-bold text-[var(--text-primary)]\">\n              Algo<span className=\"text-[var(--accent-orange)]\">Sound</span>\n            </span>\n          </Link>\n        </div>\n\n        {/* Navigation */}\n        <nav className=\"flex-1 overflow-y-auto px-3 py-4\">\n          {Object.entries(sections).map(([section, items]) => (\n            <div key={section}>\n              <div className=\"px-3 py-2 mt-2 first:mt-0\">\n                <span className=\"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-muted)]\">\n                  {section}\n                </span>\n              </div>\n              {items.map((item) => {\n                const isActive = pathname === item.href;\n                return (\n                  <Link\n                    key={item.href}\n                    href={item.href}\n                    onClick={() => setIsMobileOpen(false)}\n                    className={cn(\n                      \"flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium transition-all mb-1\",\n                      isActive\n                        ? \"bg-gradient-to-r from-[var(--accent-blue)]/15 to-[var(--accent-blue)]/5 text-[var(--accent-blue)] border border-[var(--accent-blue)]/30\"\n                        : \"text-[var(--text-secondary)] hover:bg-[var(--bg-tertiary)] hover:text-[var(--text-primary)]\"\n                    )}\n                  >\n                    <item.icon className=\"h-5 w-5\" strokeWidth={1.5} />\n                    <span>{item.title}</span>\n                  </Link>\n                );\n              })}\n            </div>\n          ))}\n        </nav>\n\n        {/* Alert Status */}\n        <div className=\"mx-3 mb-4\">\n          <div\n            className={cn(\n              \"rounded-xl border p-4 transition-all\",\n              isCapturing && speakersEnabled\n                ? \"bg-gradient-to-r from-[var(--accent-red)]/15 to-[var(--accent-orange)]/10 border-[var(--accent-red)]/40 animate-pulse-alert\"\n                : \"bg-[var(--bg-tertiary)] border-[var(--border-color)]\"\n            )}\n          >\n            <div className=\"text-[10px] font-semibold uppercase tracking-wider text-[var(--text-muted)] mb-2\">\n              System Status\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <div\n                className={cn(\n                  \"w-2 h-2 rounded-full\",\n                  !isCapturing\n                    ? \"bg-[var(--text-muted)]\"\n                    : speakersEnabled\n                    ? \"bg-[var(--accent-red)] animate-blink\"\n                    : \"bg-[var(--accent-green)]\"\n                )}\n              />\n              <span\n                className={cn(\n                  \"text-sm font-semibold\",\n                  !isCapturing\n                    ? \"text-[var(--text-muted)]\"\n                    : speakersEnabled\n                    ? \"text-[var(--accent-red)]\"\n                    : \"text-[var(--accent-green)]\"\n                )}\n              >\n                {!isCapturing\n                  ? \"Offline\"\n                  : speakersEnabled\n                  ? \"Broadcasting\"\n                  : \"Standby\"}\n              </span>\n            </div>\n            {isCapturing && (\n              <div className=\"mt-2 text-xs text-[var(--text-muted)]\">\n                Audio: {audioDetected ? \"Detected\" : \"Silent\"}\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* User Section */}\n        <div className=\"border-t border-[var(--border-color)] p-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-9 h-9 rounded-lg gradient-medical flex items-center justify-center text-white font-semibold text-sm\">\n              {user?.email?.charAt(0).toUpperCase() || \"U\"}\n            </div>\n            <div className=\"flex-1 min-w-0\">\n              <div className=\"text-sm font-semibold text-[var(--text-primary)] truncate\">\n                {user?.email?.split(\"@\")[0] || \"User\"}\n              </div>\n              <div className=\"text-xs text-[var(--text-muted)]\">Administrator</div>\n            </div>\n            <button\n              onClick={onLogout}\n              className=\"p-2 rounded-lg hover:bg-[var(--bg-tertiary)] text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors\"\n              title=\"Logout\"\n            >\n              <LogOut className=\"h-4 w-4\" />\n            </button>\n          </div>\n        </div>\n      </aside>\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 985, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/realtime-cursors.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useRealtimeSync } from \"@/contexts/realtime-sync-context\";\nimport { MousePointer2 } from \"lucide-react\";\n\nexport function RealtimeCursors() {\n  const { cursors, updateMyCursor } = useRealtimeSync();\n  const [windowSize, setWindowSize] = useState({ width: 0, height: 0 });\n\n  // Track window size for cursor positioning\n  useEffect(() => {\n    const updateSize = () => {\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    };\n\n    updateSize();\n    window.addEventListener(\"resize\", updateSize);\n    return () => window.removeEventListener(\"resize\", updateSize);\n  }, []);\n\n  // Track mouse movement with throttling\n  useEffect(() => {\n    let rafId: number | null = null;\n    let lastUpdateTime = 0;\n    const THROTTLE_MS = 50; // Update cursor max every 50ms\n\n    const handleMouseMove = (e: MouseEvent) => {\n      const now = Date.now();\n\n      // Throttle updates to reduce Firebase writes\n      if (now - lastUpdateTime < THROTTLE_MS) {\n        return;\n      }\n\n      if (rafId !== null) {\n        cancelAnimationFrame(rafId);\n      }\n\n      rafId = requestAnimationFrame(() => {\n        updateMyCursor(e.clientX, e.clientY, false);\n        lastUpdateTime = now;\n        rafId = null;\n      });\n    };\n\n    const handleMouseDown = (e: MouseEvent) => {\n      updateMyCursor(e.clientX, e.clientY, true);\n      // Reset click state after animation\n      setTimeout(() => {\n        updateMyCursor(e.clientX, e.clientY, false);\n      }, 300);\n    };\n\n    window.addEventListener(\"mousemove\", handleMouseMove, { passive: true });\n    window.addEventListener(\"mousedown\", handleMouseDown);\n\n    return () => {\n      if (rafId !== null) {\n        cancelAnimationFrame(rafId);\n      }\n      window.removeEventListener(\"mousemove\", handleMouseMove);\n      window.removeEventListener(\"mousedown\", handleMouseDown);\n    };\n  }, [updateMyCursor]);\n\n  return (\n    <div className=\"fixed inset-0 pointer-events-none z-[9999]\">\n      {cursors.map((cursor) => {\n        // Convert percentage to pixels for rendering\n        const xPixels = (cursor.x / 100) * windowSize.width;\n        const yPixels = (cursor.y / 100) * windowSize.height;\n\n        return (\n          <div\n            key={cursor.userId}\n            className=\"absolute transition-all duration-100 ease-out\"\n            style={{\n              left: `${xPixels}px`,\n              top: `${yPixels}px`,\n              transform: \"translate(-2px, -2px)\",\n            }}\n          >\n\n          {/* Cursor arrow */}\n          <div className=\"relative\">\n            <MousePointer2\n              className={`transition-transform duration-200 ${\n                cursor.isClicking ? \"scale-75\" : \"scale-100\"\n              }`}\n              style={{\n                color: cursor.color,\n                filter: \"drop-shadow(0 2px 4px rgba(0,0,0,0.3))\",\n              }}\n              size={24}\n            />\n\n            {/* Click animation ripple */}\n            {cursor.isClicking && (\n              <div\n                className=\"absolute top-0 left-0 w-6 h-6 rounded-full animate-ping\"\n                style={{\n                  backgroundColor: cursor.color,\n                  opacity: 0.4,\n                }}\n              />\n            )}\n\n            {/* User name label */}\n            <div\n              className=\"absolute top-6 left-6 px-2 py-1 rounded text-xs font-medium whitespace-nowrap shadow-lg\"\n              style={{\n                backgroundColor: cursor.color,\n                color: \"white\",\n              }}\n            >\n              {cursor.userName}\n              {cursor.userRole === \"admin\" && \" ðŸ‘‘\"}\n            </div>\n          </div>\n        </div>\n        );\n      })}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMO,SAAS;;IACd,MAAM,EAAE,OAAO,EAAE,cAAc,EAAE,GAAG,IAAA,qKAAe;IACnD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;QAAE,OAAO;QAAG,QAAQ;IAAE;IAEnE,2CAA2C;IAC3C,IAAA,0KAAS;qCAAC;YACR,MAAM;wDAAa;oBACjB,cAAc;wBACZ,OAAO,OAAO,UAAU;wBACxB,QAAQ,OAAO,WAAW;oBAC5B;gBACF;;YAEA;YACA,OAAO,gBAAgB,CAAC,UAAU;YAClC;6CAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;;QACpD;oCAAG,EAAE;IAEL,uCAAuC;IACvC,IAAA,0KAAS;qCAAC;YACR,IAAI,QAAuB;YAC3B,IAAI,iBAAiB;YACrB,MAAM,cAAc,IAAI,+BAA+B;YAEvD,MAAM;6DAAkB,CAAC;oBACvB,MAAM,MAAM,KAAK,GAAG;oBAEpB,6CAA6C;oBAC7C,IAAI,MAAM,iBAAiB,aAAa;wBACtC;oBACF;oBAEA,IAAI,UAAU,MAAM;wBAClB,qBAAqB;oBACvB;oBAEA,QAAQ;qEAAsB;4BAC5B,eAAe,EAAE,OAAO,EAAE,EAAE,OAAO,EAAE;4BACrC,iBAAiB;4BACjB,QAAQ;wBACV;;gBACF;;YAEA,MAAM;6DAAkB,CAAC;oBACvB,eAAe,EAAE,OAAO,EAAE,EAAE,OAAO,EAAE;oBACrC,oCAAoC;oBACpC;qEAAW;4BACT,eAAe,EAAE,OAAO,EAAE,EAAE,OAAO,EAAE;wBACvC;oEAAG;gBACL;;YAEA,OAAO,gBAAgB,CAAC,aAAa,iBAAiB;gBAAE,SAAS;YAAK;YACtE,OAAO,gBAAgB,CAAC,aAAa;YAErC;6CAAO;oBACL,IAAI,UAAU,MAAM;wBAClB,qBAAqB;oBACvB;oBACA,OAAO,mBAAmB,CAAC,aAAa;oBACxC,OAAO,mBAAmB,CAAC,aAAa;gBAC1C;;QACF;oCAAG;QAAC;KAAe;IAEnB,qBACE,6LAAC;QAAI,WAAU;kBACZ,QAAQ,GAAG,CAAC,CAAC;YACZ,6CAA6C;YAC7C,MAAM,UAAU,AAAC,OAAO,CAAC,GAAG,MAAO,WAAW,KAAK;YACnD,MAAM,UAAU,AAAC,OAAO,CAAC,GAAG,MAAO,WAAW,MAAM;YAEpD,qBACE,6LAAC;gBAEC,WAAU;gBACV,OAAO;oBACL,MAAM,GAAG,QAAQ,EAAE,CAAC;oBACpB,KAAK,GAAG,QAAQ,EAAE,CAAC;oBACnB,WAAW;gBACb;0BAIF,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,gPAAa;4BACZ,WAAW,CAAC,kCAAkC,EAC5C,OAAO,UAAU,GAAG,aAAa,aACjC;4BACF,OAAO;gCACL,OAAO,OAAO,KAAK;gCACnB,QAAQ;4BACV;4BACA,MAAM;;;;;;wBAIP,OAAO,UAAU,kBAChB,6LAAC;4BACC,WAAU;4BACV,OAAO;gCACL,iBAAiB,OAAO,KAAK;gCAC7B,SAAS;4BACX;;;;;;sCAKJ,6LAAC;4BACC,WAAU;4BACV,OAAO;gCACL,iBAAiB,OAAO,KAAK;gCAC7B,OAAO;4BACT;;gCAEC,OAAO,QAAQ;gCACf,OAAO,QAAQ,KAAK,WAAW;;;;;;;;;;;;;eA1C7B,OAAO,MAAM;;;;;QA+CxB;;;;;;AAGN;GA1HgB;;QACsB,qKAAe;;;KADrC"}},
    {"offset": {"line": 1164, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/control-status-widget.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useRealtimeSync } from \"@/contexts/realtime-sync-context\";\nimport { Gamepad2, ChevronRight, ChevronLeft, X } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\n\nexport function ControlStatusWidget() {\n  const { isBeingControlled, controllersInfo } = useRealtimeSync();\n  const [isExpanded, setIsExpanded] = useState(true);\n\n  if (!isBeingControlled || controllersInfo.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className=\"fixed top-4 right-4 z-[9998] flex items-start gap-2\">\n      {/* Expand/Collapse button */}\n      <button\n        onClick={() => setIsExpanded(!isExpanded)}\n        className=\"p-2 rounded-lg bg-[var(--bg-card)] border border-[var(--accent-blue)]/50 hover:bg-[var(--bg-secondary)] transition-colors shadow-lg\"\n        title={isExpanded ? \"Collapse\" : \"Expand\"}\n      >\n        {isExpanded ? (\n          <ChevronRight className=\"h-4 w-4 text-[var(--accent-blue)]\" />\n        ) : (\n          <ChevronLeft className=\"h-4 w-4 text-[var(--accent-blue)]\" />\n        )}\n      </button>\n\n      {/* Status panel */}\n      <div\n        className={`bg-[var(--bg-card)] border border-[var(--accent-blue)]/50 rounded-lg shadow-lg transition-all duration-300 overflow-hidden ${\n          isExpanded ? \"opacity-100 max-w-xs\" : \"opacity-0 max-w-0\"\n        }`}\n      >\n        <div className=\"p-3 space-y-2\">\n          {/* Header */}\n          <div className=\"flex items-center gap-2 pb-2 border-b border-[var(--border-color)]\">\n            <Gamepad2 className=\"h-4 w-4 text-[var(--accent-blue)]\" />\n            <span className=\"text-sm font-semibold text-[var(--text-primary)]\">\n              Being Controlled\n            </span>\n          </div>\n\n          {/* Controllers list */}\n          <div className=\"space-y-2 max-h-[200px] overflow-y-auto\">\n            {controllersInfo.map((controller) => (\n              <div\n                key={controller.uid}\n                className=\"flex items-center gap-2 p-2 rounded-lg bg-[var(--bg-secondary)]\"\n              >\n                <div\n                  className=\"w-3 h-3 rounded-full\"\n                  style={{ backgroundColor: controller.color }}\n                />\n                <span className=\"text-sm text-[var(--text-primary)] flex-1\">\n                  {controller.name}\n                </span>\n                <span className=\"text-xs text-[var(--text-muted)] bg-[var(--bg-tertiary)] px-2 py-0.5 rounded\">\n                  Admin\n                </span>\n              </div>\n            ))}\n          </div>\n\n          {/* Info text */}\n          <p className=\"text-xs text-[var(--text-muted)] pt-2 border-t border-[var(--border-color)]\">\n            {controllersInfo.length === 1 ? \"An admin\" : `${controllersInfo.length} admins`} {controllersInfo.length === 1 ? \"is\" : \"are\"} viewing and controlling your session\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;;;AAJA;;;;AAOO,SAAS;;IACd,MAAM,EAAE,iBAAiB,EAAE,eAAe,EAAE,GAAG,IAAA,qKAAe;IAC9D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAE7C,IAAI,CAAC,qBAAqB,gBAAgB,MAAM,KAAK,GAAG;QACtD,OAAO;IACT;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBACC,SAAS,IAAM,cAAc,CAAC;gBAC9B,WAAU;gBACV,OAAO,aAAa,aAAa;0BAEhC,2BACC,6LAAC,yOAAY;oBAAC,WAAU;;;;;yCAExB,6LAAC,sOAAW;oBAAC,WAAU;;;;;;;;;;;0BAK3B,6LAAC;gBACC,WAAW,CAAC,2HAA2H,EACrI,aAAa,yBAAyB,qBACtC;0BAEF,cAAA,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,6NAAQ;oCAAC,WAAU;;;;;;8CACpB,6LAAC;oCAAK,WAAU;8CAAmD;;;;;;;;;;;;sCAMrE,6LAAC;4BAAI,WAAU;sCACZ,gBAAgB,GAAG,CAAC,CAAC,2BACpB,6LAAC;oCAEC,WAAU;;sDAEV,6LAAC;4CACC,WAAU;4CACV,OAAO;gDAAE,iBAAiB,WAAW,KAAK;4CAAC;;;;;;sDAE7C,6LAAC;4CAAK,WAAU;sDACb,WAAW,IAAI;;;;;;sDAElB,6LAAC;4CAAK,WAAU;sDAA+E;;;;;;;mCAV1F,WAAW,GAAG;;;;;;;;;;sCAkBzB,6LAAC;4BAAE,WAAU;;gCACV,gBAAgB,MAAM,KAAK,IAAI,aAAa,GAAG,gBAAgB,MAAM,CAAC,OAAO,CAAC;gCAAC;gCAAE,gBAAgB,MAAM,KAAK,IAAI,OAAO;gCAAM;;;;;;;;;;;;;;;;;;;;;;;;AAM1I;GAnEgB;;QACiC,qKAAe;;;KADhD"}},
    {"offset": {"line": 1329, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/admin-control-widget.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRealtimeSync } from \"@/contexts/realtime-sync-context\";\nimport { Gamepad2, ChevronRight, ChevronLeft, X, RefreshCw, Check } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\n\nexport function AdminControlWidget() {\n  const { viewingAsUserId, viewingAsUserEmail, onlineUsers, stopControlling, sessionState } = useRealtimeSync();\n  const [isExpanded, setIsExpanded] = useState(true);\n  const [lastSyncTime, setLastSyncTime] = useState<number>(0);\n  const [isSynced, setIsSynced] = useState(true);\n\n  // Track last sync time\n  useEffect(() => {\n    if (sessionState?.lastUpdatedAt) {\n      setLastSyncTime(sessionState.lastUpdatedAt);\n      setIsSynced(true);\n\n      // If no updates for 5 seconds, show as potentially out of sync\n      const timeout = setTimeout(() => {\n        setIsSynced(false);\n      }, 5000);\n\n      return () => clearTimeout(timeout);\n    }\n  }, [sessionState?.lastUpdatedAt]);\n\n  // Only show if admin is viewing as another user\n  if (!viewingAsUserId || !viewingAsUserEmail) {\n    return null;\n  }\n\n  // Get the user being controlled\n  const controlledUser = onlineUsers.find(u => u.uid === viewingAsUserId);\n\n  return (\n    <div className=\"fixed top-4 right-4 z-[9998] flex items-start gap-2\">\n      {/* Expand/Collapse button */}\n      <button\n        onClick={() => setIsExpanded(!isExpanded)}\n        className=\"p-2 rounded-lg bg-[var(--bg-card)] border border-[var(--accent-purple)]/50 hover:bg-[var(--bg-secondary)] transition-colors shadow-lg\"\n        title={isExpanded ? \"Collapse\" : \"Expand\"}\n      >\n        {isExpanded ? (\n          <ChevronRight className=\"h-4 w-4 text-[var(--accent-purple)]\" />\n        ) : (\n          <ChevronLeft className=\"h-4 w-4 text-[var(--accent-purple)]\" />\n        )}\n      </button>\n\n      {/* Status panel */}\n      <div\n        className={`bg-[var(--bg-card)] border border-[var(--accent-purple)]/50 rounded-lg shadow-lg transition-all duration-300 overflow-hidden ${\n          isExpanded ? \"opacity-100 max-w-xs\" : \"opacity-0 max-w-0\"\n        }`}\n      >\n        <div className=\"p-3 space-y-2\">\n          {/* Header */}\n          <div className=\"flex items-center justify-between pb-2 border-b border-[var(--border-color)]\">\n            <div className=\"flex items-center gap-2\">\n              <Gamepad2 className=\"h-4 w-4 text-[var(--accent-purple)]\" />\n              <span className=\"text-sm font-semibold text-[var(--text-primary)]\">\n                Controlling User\n              </span>\n            </div>\n            {/* Sync indicator */}\n            {isSynced ? (\n              <div className=\"flex items-center gap-1 text-[var(--accent-green)]\" title=\"Synced\">\n                <Check className=\"h-3 w-3\" />\n                <span className=\"text-xs\">Synced</span>\n              </div>\n            ) : (\n              <div className=\"flex items-center gap-1 text-[var(--accent-orange)]\" title=\"Syncing...\">\n                <RefreshCw className=\"h-3 w-3 animate-spin\" />\n                <span className=\"text-xs\">Syncing</span>\n              </div>\n            )}\n          </div>\n\n          {/* Controlled user info */}\n          <div className=\"flex items-center gap-2 p-2 rounded-lg bg-[var(--bg-secondary)]\">\n            <div className=\"w-3 h-3 rounded-full bg-[var(--accent-purple)]\" />\n            <div className=\"flex-1\">\n              <p className=\"text-sm text-[var(--text-primary)] font-medium\">\n                {controlledUser?.displayName || viewingAsUserEmail}\n              </p>\n              <p className=\"text-xs text-[var(--text-muted)]\">\n                {viewingAsUserEmail}\n              </p>\n            </div>\n          </div>\n\n          {/* Info text */}\n          <p className=\"text-xs text-[var(--text-muted)] pt-2 border-t border-[var(--border-color)]\">\n            You are viewing and controlling this user's session. Changes will sync to their UI in real-time.\n          </p>\n\n          {/* Release button */}\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            className=\"w-full mt-2 border-[var(--accent-red)]/50 text-[var(--accent-red)] hover:bg-[var(--accent-red)]/10\"\n            onClick={async () => {\n              if (viewingAsUserId) {\n                await stopControlling(viewingAsUserId);\n              }\n            }}\n          >\n            <X className=\"mr-2 h-4 w-4\" />\n            Release Control\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;AALA;;;;;AAOO,SAAS;;IACd,MAAM,EAAE,eAAe,EAAE,kBAAkB,EAAE,WAAW,EAAE,eAAe,EAAE,YAAY,EAAE,GAAG,IAAA,qKAAe;IAC3G,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAS;IACzD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,uBAAuB;IACvB,IAAA,0KAAS;wCAAC;YACR,IAAI,cAAc,eAAe;gBAC/B,gBAAgB,aAAa,aAAa;gBAC1C,YAAY;gBAEZ,+DAA+D;gBAC/D,MAAM,UAAU;4DAAW;wBACzB,YAAY;oBACd;2DAAG;gBAEH;oDAAO,IAAM,aAAa;;YAC5B;QACF;uCAAG;QAAC,cAAc;KAAc;IAEhC,gDAAgD;IAChD,IAAI,CAAC,mBAAmB,CAAC,oBAAoB;QAC3C,OAAO;IACT;IAEA,gCAAgC;IAChC,MAAM,iBAAiB,YAAY,IAAI,CAAC,CAAA,IAAK,EAAE,GAAG,KAAK;IAEvD,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBACC,SAAS,IAAM,cAAc,CAAC;gBAC9B,WAAU;gBACV,OAAO,aAAa,aAAa;0BAEhC,2BACC,6LAAC,yOAAY;oBAAC,WAAU;;;;;yCAExB,6LAAC,sOAAW;oBAAC,WAAU;;;;;;;;;;;0BAK3B,6LAAC;gBACC,WAAW,CAAC,6HAA6H,EACvI,aAAa,yBAAyB,qBACtC;0BAEF,cAAA,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,6NAAQ;4CAAC,WAAU;;;;;;sDACpB,6LAAC;4CAAK,WAAU;sDAAmD;;;;;;;;;;;;gCAKpE,yBACC,6LAAC;oCAAI,WAAU;oCAAqD,OAAM;;sDACxE,6LAAC,gNAAK;4CAAC,WAAU;;;;;;sDACjB,6LAAC;4CAAK,WAAU;sDAAU;;;;;;;;;;;yDAG5B,6LAAC;oCAAI,WAAU;oCAAsD,OAAM;;sDACzE,6LAAC,gOAAS;4CAAC,WAAU;;;;;;sDACrB,6LAAC;4CAAK,WAAU;sDAAU;;;;;;;;;;;;;;;;;;sCAMhC,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;;;;;8CACf,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAE,WAAU;sDACV,gBAAgB,eAAe;;;;;;sDAElC,6LAAC;4CAAE,WAAU;sDACV;;;;;;;;;;;;;;;;;;sCAMP,6LAAC;4BAAE,WAAU;sCAA8E;;;;;;sCAK3F,6LAAC,+IAAM;4BACL,SAAQ;4BACR,MAAK;4BACL,WAAU;4BACV,SAAS;gCACP,IAAI,iBAAiB;oCACnB,MAAM,gBAAgB;gCACxB;4BACF;;8CAEA,6LAAC,oMAAC;oCAAC,WAAU;;;;;;gCAAiB;;;;;;;;;;;;;;;;;;;;;;;;AAO1C;GA7GgB;;QAC8E,qKAAe;;;KAD7F"}},
    {"offset": {"line": 1600, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/admin-cursor-simulator.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef } from \"react\";\nimport { useRealtimeSync } from \"@/contexts/realtime-sync-context\";\n\n/**\n * Simulates admin cursor interactions on the user's screen\n * When admin clicks, this component finds the element at that position and clicks it\n * When admin hovers, this triggers hover effects\n */\nexport function AdminCursorSimulator() {\n  const { cursors } = useRealtimeSync();\n  const hoveredElementsRef = useRef<Map<string, HTMLElement>>(new Map());\n\n  useEffect(() => {\n    cursors.forEach((cursor) => {\n      // Convert percentage coordinates to pixels for this screen\n      const xPixels = (cursor.x / 100) * window.innerWidth;\n      const yPixels = (cursor.y / 100) * window.innerHeight;\n\n      // Find element at cursor position\n      const element = document.elementFromPoint(xPixels, yPixels) as HTMLElement;\n\n      if (!element) return;\n\n      // DISABLED: Admin clicks their own UI now, not user's UI\n      // Cursor is just for visual tracking\n      // if (cursor.isClicking) {\n      //   console.log('[AdminCursor] Admin clicked at', cursor.x + '%,', cursor.y + '% (', xPixels, ',', yPixels, 'px) element:', element.tagName);\n      //   element.click();\n      // }\n\n      // Handle hover - add hover class to element\n      const previousElement = hoveredElementsRef.current.get(cursor.userId);\n\n      if (element !== previousElement) {\n        // Remove hover from previous element\n        if (previousElement) {\n          previousElement.classList.remove('admin-cursor-hover');\n          previousElement.style.removeProperty('outline');\n        }\n\n        // Add hover to new element (only for interactive elements)\n        if (\n          element.tagName === 'BUTTON' ||\n          element.tagName === 'A' ||\n          element.tagName === 'INPUT' ||\n          element.tagName === 'SELECT' ||\n          element.tagName === 'TEXTAREA' ||\n          element.getAttribute('role') === 'button' ||\n          element.onclick !== null\n        ) {\n          element.classList.add('admin-cursor-hover');\n          // Add visual indicator that admin is hovering\n          element.style.outline = `2px solid ${cursor.color}`;\n          element.style.outlineOffset = '2px';\n        }\n\n        hoveredElementsRef.current.set(cursor.userId, element);\n      }\n    });\n\n    // Clean up hover effects for cursors that no longer exist\n    const currentCursorIds = new Set(cursors.map(c => c.userId));\n    hoveredElementsRef.current.forEach((element, userId) => {\n      if (!currentCursorIds.has(userId)) {\n        element.classList.remove('admin-cursor-hover');\n        element.style.removeProperty('outline');\n        hoveredElementsRef.current.delete(userId);\n      }\n    });\n  }, [cursors]);\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      hoveredElementsRef.current.forEach((element) => {\n        element.classList.remove('admin-cursor-hover');\n        element.style.removeProperty('outline');\n      });\n      hoveredElementsRef.current.clear();\n    };\n  }, []);\n\n  return null; // This component doesn't render anything\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;;AAHA;;;AAUO,SAAS;;IACd,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,qKAAe;IACnC,MAAM,qBAAqB,IAAA,uKAAM,EAA2B,IAAI;IAEhE,IAAA,0KAAS;0CAAC;YACR,QAAQ,OAAO;kDAAC,CAAC;oBACf,2DAA2D;oBAC3D,MAAM,UAAU,AAAC,OAAO,CAAC,GAAG,MAAO,OAAO,UAAU;oBACpD,MAAM,UAAU,AAAC,OAAO,CAAC,GAAG,MAAO,OAAO,WAAW;oBAErD,kCAAkC;oBAClC,MAAM,UAAU,SAAS,gBAAgB,CAAC,SAAS;oBAEnD,IAAI,CAAC,SAAS;oBAEd,yDAAyD;oBACzD,qCAAqC;oBACrC,2BAA2B;oBAC3B,8IAA8I;oBAC9I,qBAAqB;oBACrB,IAAI;oBAEJ,4CAA4C;oBAC5C,MAAM,kBAAkB,mBAAmB,OAAO,CAAC,GAAG,CAAC,OAAO,MAAM;oBAEpE,IAAI,YAAY,iBAAiB;wBAC/B,qCAAqC;wBACrC,IAAI,iBAAiB;4BACnB,gBAAgB,SAAS,CAAC,MAAM,CAAC;4BACjC,gBAAgB,KAAK,CAAC,cAAc,CAAC;wBACvC;wBAEA,2DAA2D;wBAC3D,IACE,QAAQ,OAAO,KAAK,YACpB,QAAQ,OAAO,KAAK,OACpB,QAAQ,OAAO,KAAK,WACpB,QAAQ,OAAO,KAAK,YACpB,QAAQ,OAAO,KAAK,cACpB,QAAQ,YAAY,CAAC,YAAY,YACjC,QAAQ,OAAO,KAAK,MACpB;4BACA,QAAQ,SAAS,CAAC,GAAG,CAAC;4BACtB,8CAA8C;4BAC9C,QAAQ,KAAK,CAAC,OAAO,GAAG,CAAC,UAAU,EAAE,OAAO,KAAK,EAAE;4BACnD,QAAQ,KAAK,CAAC,aAAa,GAAG;wBAChC;wBAEA,mBAAmB,OAAO,CAAC,GAAG,CAAC,OAAO,MAAM,EAAE;oBAChD;gBACF;;YAEA,0DAA0D;YAC1D,MAAM,mBAAmB,IAAI,IAAI,QAAQ,GAAG;kDAAC,CAAA,IAAK,EAAE,MAAM;;YAC1D,mBAAmB,OAAO,CAAC,OAAO;kDAAC,CAAC,SAAS;oBAC3C,IAAI,CAAC,iBAAiB,GAAG,CAAC,SAAS;wBACjC,QAAQ,SAAS,CAAC,MAAM,CAAC;wBACzB,QAAQ,KAAK,CAAC,cAAc,CAAC;wBAC7B,mBAAmB,OAAO,CAAC,MAAM,CAAC;oBACpC;gBACF;;QACF;yCAAG;QAAC;KAAQ;IAEZ,qBAAqB;IACrB,IAAA,0KAAS;0CAAC;YACR;kDAAO;oBACL,mBAAmB,OAAO,CAAC,OAAO;0DAAC,CAAC;4BAClC,QAAQ,SAAS,CAAC,MAAM,CAAC;4BACzB,QAAQ,KAAK,CAAC,cAAc,CAAC;wBAC/B;;oBACA,mBAAmB,OAAO,CAAC,KAAK;gBAClC;;QACF;yCAAG,EAAE;IAEL,OAAO,MAAM,yCAAyC;AACxD;GA3EgB;;QACM,qKAAe;;;KADrB"}},
    {"offset": {"line": 1699, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/admin-click-interceptor.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport { useRealtimeSync } from \"@/contexts/realtime-sync-context\";\n\n/**\n * DISABLED: Admin now controls their own UI (a clone of user's state)\n * Clicks are NOT intercepted - admin interacts normally with their UI\n * Changes sync to user's session in Firebase via useSessionSync\n * Cursor is just for visual tracking\n */\nexport function AdminClickInterceptor() {\n  // const { viewingAsUserId } = useRealtimeSync();\n\n  // Admin clicks their own UI now - no need to intercept\n  // useEffect(() => {\n  //   if (!viewingAsUserId) return;\n  //\n  //   const handleClick = (e: MouseEvent) => {\n  //     if (e.isTrusted) {\n  //       console.log('[AdminInterceptor] Intercepting admin click');\n  //       e.preventDefault();\n  //       e.stopPropagation();\n  //       e.stopImmediatePropagation();\n  //     }\n  //   };\n  //\n  //   document.addEventListener('click', handleClick, true);\n  //   return () => document.removeEventListener('click', handleClick, true);\n  // }, [viewingAsUserId]);\n\n  return null; // This component doesn't render anything\n}\n"],"names":[],"mappings":";;;;AAAA;AAWO,SAAS;IACd,iDAAiD;IAEjD,uDAAuD;IACvD,oBAAoB;IACpB,kCAAkC;IAClC,EAAE;IACF,6CAA6C;IAC7C,yBAAyB;IACzB,oEAAoE;IACpE,4BAA4B;IAC5B,6BAA6B;IAC7B,sCAAsC;IACtC,QAAQ;IACR,OAAO;IACP,EAAE;IACF,2DAA2D;IAC3D,2EAA2E;IAC3E,yBAAyB;IAEzB,OAAO,MAAM,yCAAyC;AACxD;KArBgB"}},
    {"offset": {"line": 1734, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/layout/app-layout.tsx"],"sourcesContent":["\"use client\";\n\nimport { useAuth } from \"@/contexts/auth-context\";\nimport { LoginForm } from \"@/components/auth/login-form\";\nimport { Sidebar } from \"@/components/layout/sidebar\";\nimport { RealtimeCursors } from \"@/components/realtime-cursors\";\nimport { ControlStatusWidget } from \"@/components/control-status-widget\";\nimport { AdminControlWidget } from \"@/components/admin-control-widget\";\nimport { AdminCursorSimulator } from \"@/components/admin-cursor-simulator\";\nimport { AdminClickInterceptor } from \"@/components/admin-click-interceptor\";\nimport { type ReactNode } from \"react\";\n\ninterface AppLayoutProps {\n  children: ReactNode;\n}\n\nexport function AppLayout({ children }: AppLayoutProps) {\n  const { user, loading, signOut } = useAuth();\n\n  if (loading) {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center bg-[var(--bg-primary)]\">\n        <div className=\"flex flex-col items-center gap-4\">\n          <div className=\"h-10 w-10 animate-spin rounded-full border-4 border-[var(--accent-blue)] border-t-transparent\" />\n          <span className=\"text-sm text-[var(--text-secondary)]\">Loading...</span>\n        </div>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return <LoginForm />;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-[var(--bg-primary)]\">\n      <Sidebar onLogout={signOut} />\n      <main className=\"lg:ml-[260px]\">\n        <div className=\"p-4 pt-20 lg:p-8 lg:pt-8\">{children}</div>\n      </main>\n\n      {/* Real-time features */}\n      <RealtimeCursors />\n      <ControlStatusWidget />\n      <AdminControlWidget />\n      <AdminCursorSimulator />\n      <AdminClickInterceptor />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AATA;;;;;;;;;AAgBO,SAAS,UAAU,EAAE,QAAQ,EAAkB;;IACpD,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAA,iJAAO;IAE1C,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAK,WAAU;kCAAuC;;;;;;;;;;;;;;;;;IAI/D;IAEA,IAAI,CAAC,MAAM;QACT,qBAAO,6LAAC,2JAAS;;;;;IACnB;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,qJAAO;gBAAC,UAAU;;;;;;0BACnB,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC;oBAAI,WAAU;8BAA4B;;;;;;;;;;;0BAI7C,6LAAC,+JAAe;;;;;0BAChB,6LAAC,2KAAmB;;;;;0BACpB,6LAAC,yKAAkB;;;;;0BACnB,6LAAC,6KAAoB;;;;;0BACrB,6LAAC,+KAAqB;;;;;;;;;;;AAG5B;GAjCgB;;QACqB,iJAAO;;;KAD5B"}},
    {"offset": {"line": 1873, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/ui/select.tsx"],"sourcesContent":["import { forwardRef, type SelectHTMLAttributes } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface SelectProps extends SelectHTMLAttributes<HTMLSelectElement> {\n  error?: string;\n}\n\nconst Select = forwardRef<HTMLSelectElement, SelectProps>(\n  ({ className, error, children, ...props }, ref) => {\n    return (\n      <div className=\"w-full\">\n        <select\n          className={cn(\n            \"flex h-10 w-full rounded-lg border border-[var(--border-color)] bg-[var(--bg-secondary)] px-3 py-2 text-sm text-[var(--text-primary)] ring-offset-[var(--bg-primary)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-blue)] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n            \"[&>option]:bg-[var(--bg-secondary)] [&>option]:text-[var(--text-primary)]\",\n            error && \"border-[var(--accent-red)] focus-visible:ring-[var(--accent-red)]\",\n            className\n          )}\n          ref={ref}\n          {...props}\n        >\n          {children}\n        </select>\n        {error && <p className=\"mt-1 text-sm text-[var(--accent-red)]\">{error}</p>}\n      </div>\n    );\n  }\n);\n\nSelect.displayName = \"Select\";\n\nexport { Select };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAMA,MAAM,uBAAS,IAAA,2KAAU,OACvB,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IACzC,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,WAAW,IAAA,4HAAE,EACX,6UACA,6EACA,SAAS,qEACT;gBAEF,KAAK;gBACJ,GAAG,KAAK;0BAER;;;;;;YAEF,uBAAS,6LAAC;gBAAE,WAAU;0BAAyC;;;;;;;;;;;;AAGtE;;AAGF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 1925, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/ui/slider.tsx"],"sourcesContent":["\"use client\";\n\nimport { forwardRef, type InputHTMLAttributes } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface SliderProps extends Omit<InputHTMLAttributes<HTMLInputElement>, \"type\"> {\n  showValue?: boolean;\n}\n\nconst Slider = forwardRef<HTMLInputElement, SliderProps>(\n  ({ className, showValue = false, value, ...props }, ref) => {\n    return (\n      <div className=\"flex items-center gap-3\">\n        <input\n          type=\"range\"\n          className={cn(\n            \"h-2 w-full cursor-pointer appearance-none rounded-lg bg-[var(--bg-tertiary)] accent-[var(--accent-blue)]\",\n            \"[&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-5 [&::-webkit-slider-thumb]:w-5 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-[var(--accent-blue)] [&::-webkit-slider-thumb]:cursor-pointer [&::-webkit-slider-thumb]:shadow-lg\",\n            \"[&::-moz-range-thumb]:h-5 [&::-moz-range-thumb]:w-5 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-[var(--accent-blue)] [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:cursor-pointer\",\n            className\n          )}\n          ref={ref}\n          value={value}\n          {...props}\n        />\n        {showValue && (\n          <span className=\"w-12 text-right text-sm font-semibold font-mono text-[var(--accent-blue)]\">\n            {value}%\n          </span>\n        )}\n      </div>\n    );\n  }\n);\n\nSlider.displayName = \"Slider\";\n\nexport { Slider };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AASA,MAAM,uBAAS,IAAA,2KAAU,OACvB,CAAC,EAAE,SAAS,EAAE,YAAY,KAAK,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE;IAClD,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,MAAK;gBACL,WAAW,IAAA,4HAAE,EACX,4GACA,+QACA,4MACA;gBAEF,KAAK;gBACL,OAAO;gBACN,GAAG,KAAK;;;;;;YAEV,2BACC,6LAAC;gBAAK,WAAU;;oBACb;oBAAM;;;;;;;;;;;;;AAKjB;;AAGF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 1982, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/ui/badge.tsx"],"sourcesContent":["import { type HTMLAttributes } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface BadgeProps extends HTMLAttributes<HTMLDivElement> {\n  variant?: \"default\" | \"secondary\" | \"destructive\" | \"success\" | \"warning\" | \"outline\";\n}\n\nfunction Badge({ className, variant = \"default\", ...props }: BadgeProps) {\n  const variants = {\n    default: \"bg-[var(--accent-blue)]/15 text-[var(--accent-blue)] border-[var(--accent-blue)]/30\",\n    secondary: \"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] border-[var(--border-color)]\",\n    destructive: \"bg-[var(--accent-red)]/15 text-[var(--accent-red)] border-[var(--accent-red)]/30\",\n    success: \"bg-[var(--accent-green)]/15 text-[var(--accent-green)] border-[var(--accent-green)]/30\",\n    warning: \"bg-[var(--accent-orange)]/15 text-[var(--accent-orange)] border-[var(--accent-orange)]/30\",\n    outline: \"bg-transparent border-[var(--border-color)] text-[var(--text-secondary)]\",\n  };\n\n  return (\n    <div\n      className={cn(\n        \"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors\",\n        variants[variant],\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Badge };\n"],"names":[],"mappings":";;;;;AACA;;;AAMA,SAAS,MAAM,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,GAAG,OAAmB;IACrE,MAAM,WAAW;QACf,SAAS;QACT,WAAW;QACX,aAAa;QACb,SAAS;QACT,SAAS;QACT,SAAS;IACX;IAEA,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,oGACA,QAAQ,CAAC,QAAQ,EACjB;QAED,GAAG,KAAK;;;;;;AAGf;KApBS"}},
    {"offset": {"line": 2019, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/ui/switch.tsx"],"sourcesContent":["import { forwardRef, type InputHTMLAttributes } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface SwitchProps extends Omit<InputHTMLAttributes<HTMLInputElement>, 'onChange'> {\n  checked?: boolean;\n  onCheckedChange?: (checked: boolean) => void;\n}\n\nconst Switch = forwardRef<HTMLInputElement, SwitchProps>(\n  ({ className, checked, onCheckedChange, disabled, ...props }, ref) => {\n    return (\n      <button\n        type=\"button\"\n        role=\"switch\"\n        aria-checked={checked}\n        disabled={disabled}\n        onClick={() => onCheckedChange?.(!checked)}\n        className={cn(\n          \"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--accent-blue)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg-primary)] disabled:cursor-not-allowed disabled:opacity-50\",\n          checked ? \"bg-[var(--accent-blue)]\" : \"bg-[var(--bg-tertiary)]\",\n          className\n        )}\n      >\n        <span\n          className={cn(\n            \"inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-sm\",\n            checked ? \"translate-x-6\" : \"translate-x-1\"\n          )}\n        />\n        <input\n          type=\"checkbox\"\n          checked={checked}\n          onChange={() => {}} // Controlled by button click handler\n          ref={ref}\n          className=\"sr-only\"\n          {...props}\n        />\n      </button>\n    );\n  }\n);\n\nSwitch.displayName = \"Switch\";\n\nexport { Switch };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAOA,MAAM,uBAAS,IAAA,2KAAU,OACvB,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,eAAe,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IAC5D,qBACE,6LAAC;QACC,MAAK;QACL,MAAK;QACL,gBAAc;QACd,UAAU;QACV,SAAS,IAAM,kBAAkB,CAAC;QAClC,WAAW,IAAA,4HAAE,EACX,+RACA,UAAU,4BAA4B,2BACtC;;0BAGF,6LAAC;gBACC,WAAW,IAAA,4HAAE,EACX,uFACA,UAAU,kBAAkB;;;;;;0BAGhC,6LAAC;gBACC,MAAK;gBACL,SAAS;gBACT,UAAU,KAAO;gBACjB,KAAK;gBACL,WAAU;gBACT,GAAG,KAAK;;;;;;;;;;;;AAIjB;;AAGF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 2077, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/audio-log-viewer.tsx"],"sourcesContent":["\"use client\";\n\nimport { useAudioMonitoring, type AudioLogEntry } from \"@/contexts/audio-monitoring-context\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Download, Trash2, Copy, Activity } from \"lucide-react\";\nimport { useState } from \"react\";\n\nexport function AudioLogViewer() {\n  const { logs, clearLogs, exportLogs, loggingEnabled, recordingEnabled } = useAudioMonitoring();\n  const [copied, setCopied] = useState(false);\n\n  const handleExport = () => {\n    const csvData = exportLogs();\n    const blob = new Blob([csvData], { type: \"text/csv\" });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = `audio-monitoring-log-${new Date().toISOString().replace(/[:.]/g, \"-\")}.csv`;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  const handleCopy = () => {\n    const csvData = exportLogs();\n    navigator.clipboard.writeText(csvData);\n    setCopied(true);\n    setTimeout(() => setCopied(false), 2000);\n  };\n\n  const getTypeColor = (type: AudioLogEntry[\"type\"]) => {\n    switch (type) {\n      case \"audio_detected\":\n        return \"warning\";\n      case \"speakers_enabled\":\n        return \"success\";\n      case \"speakers_disabled\":\n        return \"secondary\";\n      case \"audio_silent\":\n        return \"secondary\";\n      case \"volume_change\":\n        return \"default\";\n      default:\n        return \"default\";\n    }\n  };\n\n  const getTypeLabel = (type: AudioLogEntry[\"type\"]) => {\n    switch (type) {\n      case \"audio_detected\":\n        return \"Audio\";\n      case \"speakers_enabled\":\n        return \"On\";\n      case \"speakers_disabled\":\n        return \"Off\";\n      case \"audio_silent\":\n        return \"Silent\";\n      case \"volume_change\":\n        return \"Volume\";\n      default:\n        return type;\n    }\n  };\n\n  return (\n    <Card>\n      <CardHeader>\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"p-2 rounded-lg bg-[var(--accent-purple)]/15\">\n              <Activity className=\"h-5 w-5 text-[var(--accent-purple)]\" />\n            </div>\n            <div>\n              <CardTitle className=\"text-lg\">Activity Log</CardTitle>\n              <div className=\"flex items-center gap-2 mt-1\">\n                <span className=\"text-sm text-[var(--text-secondary)]\">\n                  {logs.length} entries\n                </span>\n                {!loggingEnabled && (\n                  <Badge variant=\"secondary\" className=\"text-xs\">Logging OFF</Badge>\n                )}\n                {recordingEnabled && (\n                  <Badge variant=\"success\" className=\"text-xs\">Recording ON</Badge>\n                )}\n              </div>\n            </div>\n          </div>\n          <div className=\"flex gap-2\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={handleCopy}\n              disabled={logs.length === 0}\n            >\n              <Copy className=\"mr-1 h-4 w-4\" />\n              {copied ? \"Copied!\" : \"Copy\"}\n            </Button>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={handleExport}\n              disabled={logs.length === 0}\n            >\n              <Download className=\"mr-1 h-4 w-4\" />\n              Export\n            </Button>\n            <Button\n              variant=\"destructive\"\n              size=\"sm\"\n              onClick={clearLogs}\n              disabled={logs.length === 0}\n            >\n              <Trash2 className=\"mr-1 h-4 w-4\" />\n              Clear\n            </Button>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent>\n        {logs.length === 0 ? (\n          <div className=\"py-12 text-center\">\n            <Activity className=\"mx-auto h-8 w-8 text-[var(--text-muted)] mb-3\" />\n            <p className=\"text-sm text-[var(--text-muted)]\">\n              No events logged yet. Start monitoring to see activity.\n            </p>\n          </div>\n        ) : (\n          <div className=\"max-h-[400px] overflow-y-auto rounded-lg border border-[var(--border-color)]\">\n            <table className=\"w-full text-sm\">\n              <thead className=\"sticky top-0 bg-[var(--bg-secondary)] border-b border-[var(--border-color)]\">\n                <tr>\n                  <th className=\"px-4 py-3 text-left font-semibold text-[var(--text-secondary)]\">Time</th>\n                  <th className=\"px-4 py-3 text-left font-semibold text-[var(--text-secondary)]\">Type</th>\n                  <th className=\"px-4 py-3 text-left font-semibold text-[var(--text-secondary)]\">Level</th>\n                  <th className=\"px-4 py-3 text-left font-semibold text-[var(--text-secondary)]\">Message</th>\n                  <th className=\"px-4 py-3 text-left font-semibold text-[var(--text-secondary)]\">Recording</th>\n                </tr>\n              </thead>\n              <tbody>\n                {[...logs].reverse().map((log, index) => (\n                  <tr\n                    key={index}\n                    className=\"border-b border-[var(--border-color)] hover:bg-[var(--bg-tertiary)]/50 transition-colors\"\n                  >\n                    <td className=\"px-4 py-3 text-[var(--text-muted)] whitespace-nowrap font-mono text-xs\">\n                      {new Date(log.timestamp).toLocaleTimeString()}\n                    </td>\n                    <td className=\"px-4 py-3\">\n                      <Badge variant={getTypeColor(log.type)} className=\"text-xs\">\n                        {getTypeLabel(log.type)}\n                      </Badge>\n                    </td>\n                    <td className=\"px-4 py-3 text-[var(--text-secondary)]\">\n                      {log.audioLevel !== undefined ? (\n                        <span className=\"font-mono text-[var(--accent-blue)]\">\n                          {log.audioLevel.toFixed(1)}%\n                        </span>\n                      ) : (\n                        <span className=\"text-[var(--text-muted)]\">-</span>\n                      )}\n                    </td>\n                    <td className=\"px-4 py-3 text-[var(--text-primary)]\">{log.message}</td>\n                    <td className=\"px-4 py-3\">\n                      {log.recordingUrl ? (\n                        <audio\n                          controls\n                          className=\"h-8 w-40\"\n                          preload=\"none\"\n                          src={log.recordingUrl}\n                        />\n                      ) : (\n                        <span className=\"text-[var(--text-muted)] text-xs\">-</span>\n                      )}\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2539, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/components/vu-meter.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ninterface VUMeterProps {\n  level: number; // 0-100\n  className?: string;\n  barCount?: number;\n  showPeakHold?: boolean;\n}\n\nexport function VUMeter({\n  level,\n  className,\n  barCount = 20,\n  showPeakHold = true,\n}: VUMeterProps) {\n  const peakRef = useRef(0);\n  const peakDecayRef = useRef<NodeJS.Timeout | null>(null);\n\n  // Update peak hold\n  useEffect(() => {\n    // Reset peak when level goes to 0 (monitoring stopped)\n    if (level === 0) {\n      peakRef.current = 0;\n      if (peakDecayRef.current) {\n        clearTimeout(peakDecayRef.current);\n        peakDecayRef.current = null;\n      }\n      return;\n    }\n\n    if (level > peakRef.current) {\n      peakRef.current = level;\n      // Clear existing decay timeout\n      if (peakDecayRef.current) {\n        clearTimeout(peakDecayRef.current);\n      }\n      // Start decay after 1 second\n      peakDecayRef.current = setTimeout(() => {\n        const decayInterval = setInterval(() => {\n          peakRef.current = Math.max(0, peakRef.current - 2);\n          if (peakRef.current <= level) {\n            clearInterval(decayInterval);\n          }\n        }, 50);\n      }, 1000);\n    }\n\n    return () => {\n      if (peakDecayRef.current) {\n        clearTimeout(peakDecayRef.current);\n      }\n    };\n  }, [level]);\n\n  // Use logarithmic scale for better sensitivity at low levels\n  // This makes quiet sounds more visible\n  // sqrt scale: 1% input â†’ 10% output, 10% input â†’ 31.6% output, 100% input â†’ 100% output\n  const logScale = (value: number) => {\n    if (value <= 0) return 0;\n    // Amplify small values: use a modified log scale\n    const normalized = Math.min(100, Math.max(0, value));\n    // Use sqrt for a gentler curve that shows low levels better\n    const scaled = Math.sqrt(normalized / 100) * 100;\n    return scaled;\n  };\n\n  const scaledLevel = logScale(level);\n  const scaledPeak = logScale(peakRef.current);\n\n  const activeBars = Math.floor((scaledLevel / 100) * barCount);\n  const peakBar = Math.floor((scaledPeak / 100) * barCount);\n\n  return (\n    <div className={cn(\"flex flex-col gap-2\", className)}>\n      {/* Horizontal bar display */}\n      <div className=\"flex items-center gap-1\">\n        {Array.from({ length: barCount }).map((_, i) => {\n          const isActive = i < activeBars;\n          const isPeak = showPeakHold && i === peakBar && peakBar > activeBars;\n          const percentage = (i / barCount) * 100;\n\n          // Color based on level: green -> yellow -> red\n          let barColor = \"bg-[var(--accent-green)]\";\n          if (percentage > 80) {\n            barColor = \"bg-[var(--accent-red)]\";\n          } else if (percentage > 60) {\n            barColor = \"bg-[var(--accent-orange)]\";\n          }\n\n          return (\n            <div\n              key={i}\n              className={cn(\n                \"h-8 w-2 rounded-sm transition-all duration-75\",\n                isActive || isPeak\n                  ? barColor\n                  : \"bg-[var(--bg-tertiary)]\",\n                isPeak && \"opacity-60\"\n              )}\n            />\n          );\n        })}\n      </div>\n\n      {/* Level labels */}\n      <div className=\"flex justify-between text-[10px] text-[var(--text-muted)] font-mono px-1\">\n        <span>-60</span>\n        <span>-40</span>\n        <span>-20</span>\n        <span>-10</span>\n        <span>0 dB</span>\n      </div>\n    </div>\n  );\n}\n\ninterface VUMeterVerticalProps {\n  level: number; // 0-100\n  className?: string;\n  barCount?: number;\n  label?: string;\n}\n\nexport function VUMeterVertical({\n  level,\n  className,\n  barCount = 16,\n  label,\n}: VUMeterVerticalProps) {\n  // Use sqrt scale for better visibility of low levels\n  const scaledLevel = level > 0 ? Math.sqrt(level / 100) * 100 : 0;\n  const activeBars = Math.floor((scaledLevel / 100) * barCount);\n\n  return (\n    <div className={cn(\"flex flex-col items-center gap-2\", className)}>\n      {/* Vertical bars container */}\n      <div className=\"flex flex-col-reverse gap-0.5\">\n        {Array.from({ length: barCount }).map((_, i) => {\n          const isActive = i < activeBars;\n          const percentage = (i / barCount) * 100;\n\n          // Color based on level\n          let barColor = \"bg-[var(--accent-green)]\";\n          if (percentage > 80) {\n            barColor = \"bg-[var(--accent-red)]\";\n          } else if (percentage > 60) {\n            barColor = \"bg-[var(--accent-orange)]\";\n          }\n\n          return (\n            <div\n              key={i}\n              className={cn(\n                \"w-3 h-2 rounded-sm transition-all duration-75\",\n                isActive ? barColor : \"bg-[var(--bg-tertiary)]\"\n              )}\n            />\n          );\n        })}\n      </div>\n\n      {/* Level display */}\n      <div className=\"text-xs font-mono text-[var(--accent-blue)]\">\n        {level.toFixed(0)}%\n      </div>\n\n      {/* Label */}\n      {label && (\n        <div className=\"text-[10px] text-[var(--text-muted)] font-semibold uppercase tracking-wider\">\n          {label}\n        </div>\n      )}\n    </div>\n  );\n}\n\ninterface StereoVUMeterProps {\n  leftLevel: number;\n  rightLevel?: number;\n  className?: string;\n}\n\nexport function StereoVUMeter({ leftLevel, rightLevel, className }: StereoVUMeterProps) {\n  const right = rightLevel ?? leftLevel;\n\n  return (\n    <div className={cn(\"flex items-end justify-center gap-4\", className)}>\n      <VUMeterVertical level={leftLevel} label=\"L\" barCount={20} />\n      <VUMeterVertical level={right} label=\"R\" barCount={20} />\n    </div>\n  );\n}\n\ninterface CircularVUMeterProps {\n  level: number;\n  size?: number;\n  strokeWidth?: number;\n  className?: string;\n}\n\nexport function CircularVUMeter({\n  level,\n  size = 120,\n  strokeWidth = 8,\n  className,\n}: CircularVUMeterProps) {\n  // Use sqrt scale for better visibility of low levels\n  const scaledLevel = level > 0 ? Math.sqrt(level / 100) * 100 : 0;\n  const radius = (size - strokeWidth) / 2;\n  const circumference = radius * 2 * Math.PI;\n  const offset = circumference - (scaledLevel / 100) * circumference;\n\n  // Determine color based on level\n  let strokeColor = \"var(--accent-green)\";\n  if (level > 80) {\n    strokeColor = \"var(--accent-red)\";\n  } else if (level > 60) {\n    strokeColor = \"var(--accent-orange)\";\n  }\n\n  return (\n    <div className={cn(\"relative\", className)} style={{ width: size, height: size }}>\n      <svg width={size} height={size} className=\"-rotate-90\">\n        {/* Background circle */}\n        <circle\n          cx={size / 2}\n          cy={size / 2}\n          r={radius}\n          fill=\"none\"\n          stroke=\"var(--bg-tertiary)\"\n          strokeWidth={strokeWidth}\n        />\n        {/* Progress circle */}\n        <circle\n          cx={size / 2}\n          cy={size / 2}\n          r={radius}\n          fill=\"none\"\n          stroke={strokeColor}\n          strokeWidth={strokeWidth}\n          strokeLinecap=\"round\"\n          strokeDasharray={circumference}\n          strokeDashoffset={offset}\n          className=\"transition-all duration-100\"\n        />\n      </svg>\n      {/* Center text */}\n      <div className=\"absolute inset-0 flex flex-col items-center justify-center\">\n        <span className=\"text-2xl font-bold font-mono text-[var(--text-primary)]\">\n          {level.toFixed(0)}\n        </span>\n        <span className=\"text-xs text-[var(--text-muted)]\">%</span>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2899, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/hooks/useSessionSync.ts"],"sourcesContent":["import { useEffect, useRef, useCallback } from \"react\";\nimport { useRealtimeSync } from \"@/contexts/realtime-sync-context\";\nimport { useAudioMonitoring } from \"@/contexts/audio-monitoring-context\";\n\n/**\n * Hook to sync audio monitoring state with Firebase Realtime Database\n * This enables bidirectional sync between users and admins\n */\nexport function useSessionSync() {\n  const {\n    syncSessionState,\n    sessionState,\n    viewingAsUserId,\n    isBeingControlled,\n  } = useRealtimeSync();\n\n  const {\n    isCapturing,\n    selectedDevices,\n    volume,\n    targetVolume,\n    audioThreshold,\n    rampEnabled,\n    rampDuration,\n    sustainDuration,\n    disableDelay,\n    selectedInputDevice,\n    useGlobalVolume,\n    dayNightMode,\n    dayStartHour,\n    dayEndHour,\n    nightRampDuration,\n    loggingEnabled,\n    recordingEnabled,\n    audioLevel,\n    audioDetected,\n    speakersEnabled,\n    startMonitoring,\n    stopMonitoring,\n    setSelectedDevices,\n    setVolume,\n    setTargetVolume,\n    setAudioThreshold,\n    setRampEnabled,\n    setRampDuration,\n    setSustainDuration,\n    setDisableDelay,\n    setInputDevice,\n    setUseGlobalVolume,\n    setDayNightMode,\n    setDayStartHour,\n    setDayEndHour,\n    setNightRampDuration,\n    setLoggingEnabled,\n    setRecordingEnabled,\n  } = useAudioMonitoring();\n\n  const isApplyingRemoteUpdate = useRef(false);\n\n  // Sync local state to Firebase when it changes\n  useEffect(() => {\n    if (isApplyingRemoteUpdate.current) return;\n\n    // CRITICAL: Always sync, even when admin is viewing or user is being controlled!\n    // syncSessionState handles routing to the correct session\n    console.log('[SessionSync] Syncing state to Firebase', { viewingAsUserId, isBeingControlled });\n\n    // Filter out undefined values to prevent Firebase errors\n    const stateToSync: any = {\n      audioInputMonitoring: isCapturing, // Updated field name\n    };\n\n    if (selectedDevices !== undefined) stateToSync.selectedDevices = selectedDevices;\n    if (volume !== undefined) stateToSync.volume = volume;\n    if (targetVolume !== undefined) stateToSync.targetVolume = targetVolume;\n    if (audioThreshold !== undefined) stateToSync.audioThreshold = audioThreshold;\n    if (rampEnabled !== undefined) stateToSync.rampEnabled = rampEnabled;\n    if (rampDuration !== undefined) stateToSync.rampDuration = rampDuration;\n    if (sustainDuration !== undefined) stateToSync.sustainDuration = sustainDuration;\n    if (disableDelay !== undefined) stateToSync.disableDelay = disableDelay;\n    if (selectedInputDevice !== undefined) stateToSync.selectedInputDevice = selectedInputDevice;\n    if (useGlobalVolume !== undefined) stateToSync.useGlobalVolume = useGlobalVolume;\n    if (dayNightMode !== undefined) stateToSync.dayNightMode = dayNightMode;\n    if (dayStartHour !== undefined) stateToSync.dayStartHour = dayStartHour;\n    if (dayEndHour !== undefined) stateToSync.dayEndHour = dayEndHour;\n    if (nightRampDuration !== undefined) stateToSync.nightRampDuration = nightRampDuration;\n    if (loggingEnabled !== undefined) stateToSync.loggingEnabled = loggingEnabled;\n    if (recordingEnabled !== undefined) stateToSync.recordingEnabled = recordingEnabled;\n    if (audioLevel !== undefined) stateToSync.audioLevel = audioLevel;\n    if (audioDetected !== undefined) stateToSync.audioDetected = audioDetected;\n    if (speakersEnabled !== undefined) stateToSync.speakersEnabled = speakersEnabled;\n\n    syncSessionState(stateToSync);\n  }, [\n    isCapturing,\n    selectedDevices,\n    volume,\n    targetVolume,\n    audioThreshold,\n    rampEnabled,\n    rampDuration,\n    sustainDuration,\n    disableDelay,\n    selectedInputDevice,\n    useGlobalVolume,\n    dayNightMode,\n    dayStartHour,\n    dayEndHour,\n    nightRampDuration,\n    loggingEnabled,\n    recordingEnabled,\n    audioLevel,\n    audioDetected,\n    speakersEnabled,\n    syncSessionState,\n    viewingAsUserId,\n    isBeingControlled,\n  ]);\n\n  // Apply remote updates from Firebase (when being controlled by admin OR when admin viewing user)\n  useEffect(() => {\n    if (!sessionState) return;\n\n    // CRITICAL: Admin MUST apply user's state to local context to control it!\n    // This way admin's sliders/buttons show user's actual values\n    if (viewingAsUserId) {\n      console.log('[SessionSync] Admin viewing user - applying user state to admin local context for control');\n    } else {\n      console.log('[SessionSync] User being controlled - applying admin state');\n    }\n\n    isApplyingRemoteUpdate.current = true;\n\n    // Apply monitoring state\n    if (sessionState.audioInputMonitoring !== isCapturing) {\n      if (sessionState.audioInputMonitoring) {\n        startMonitoring();\n      } else {\n        stopMonitoring();\n      }\n    }\n\n    // Apply device selection\n    if (sessionState.selectedDevices && JSON.stringify(sessionState.selectedDevices) !== JSON.stringify(selectedDevices)) {\n      setSelectedDevices(sessionState.selectedDevices);\n    }\n\n    // Apply volume settings\n    if (sessionState.volume !== undefined && sessionState.volume !== volume) {\n      setVolume(sessionState.volume);\n    }\n\n    if (sessionState.targetVolume !== undefined && sessionState.targetVolume !== targetVolume) {\n      setTargetVolume(sessionState.targetVolume);\n    }\n\n    if (sessionState.audioThreshold !== undefined && sessionState.audioThreshold !== audioThreshold) {\n      setAudioThreshold(sessionState.audioThreshold);\n    }\n\n    // Apply ramp settings\n    if (sessionState.rampEnabled !== undefined && sessionState.rampEnabled !== rampEnabled) {\n      setRampEnabled(sessionState.rampEnabled);\n    }\n\n    if (sessionState.rampDuration !== undefined && sessionState.rampDuration !== rampDuration) {\n      setRampDuration(sessionState.rampDuration);\n    }\n\n    if (sessionState.sustainDuration !== undefined && sessionState.sustainDuration !== sustainDuration) {\n      setSustainDuration(sessionState.sustainDuration);\n    }\n\n    if (sessionState.disableDelay !== undefined && sessionState.disableDelay !== disableDelay) {\n      setDisableDelay(sessionState.disableDelay);\n    }\n\n    // Apply input device\n    if (sessionState.selectedInputDevice !== undefined && sessionState.selectedInputDevice !== selectedInputDevice) {\n      setInputDevice(sessionState.selectedInputDevice);\n    }\n\n    // Apply volume mode\n    if (sessionState.useGlobalVolume !== undefined && sessionState.useGlobalVolume !== useGlobalVolume) {\n      setUseGlobalVolume(sessionState.useGlobalVolume);\n    }\n\n    // Apply day/night mode settings\n    if (sessionState.dayNightMode !== undefined && sessionState.dayNightMode !== dayNightMode) {\n      setDayNightMode(sessionState.dayNightMode);\n    }\n\n    if (sessionState.dayStartHour !== undefined && sessionState.dayStartHour !== dayStartHour) {\n      setDayStartHour(sessionState.dayStartHour);\n    }\n\n    if (sessionState.dayEndHour !== undefined && sessionState.dayEndHour !== dayEndHour) {\n      setDayEndHour(sessionState.dayEndHour);\n    }\n\n    if (sessionState.nightRampDuration !== undefined && sessionState.nightRampDuration !== nightRampDuration) {\n      setNightRampDuration(sessionState.nightRampDuration);\n    }\n\n    // Apply logging & recording settings\n    if (sessionState.loggingEnabled !== undefined && sessionState.loggingEnabled !== loggingEnabled) {\n      setLoggingEnabled(sessionState.loggingEnabled);\n    }\n\n    if (sessionState.recordingEnabled !== undefined && sessionState.recordingEnabled !== recordingEnabled) {\n      setRecordingEnabled(sessionState.recordingEnabled);\n    }\n\n    // Reset flag after applying updates\n    setTimeout(() => {\n      isApplyingRemoteUpdate.current = false;\n    }, 100);\n  }, [sessionState, viewingAsUserId]);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3075, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/lib/firebase/firestore.ts"],"sourcesContent":["import {\n  collection,\n  doc,\n  getDocs,\n  getDoc,\n  addDoc,\n  setDoc,\n  updateDoc,\n  deleteDoc,\n  query,\n  where,\n  orderBy,\n  Timestamp,\n  type DocumentData,\n} from \"firebase/firestore\";\nimport { db } from \"./config\";\nimport type { AlgoDevice, Zone, AudioFile, DistributionLog, ZoneRouting, PoESwitch, PoEDevice } from \"@/lib/algo/types\";\n\n// ============ Devices ============\n\nconst devicesCollection = collection(db, \"devices\");\n\nexport async function getDevices(ownerEmail?: string): Promise<AlgoDevice[]> {\n  let q = query(devicesCollection, orderBy(\"createdAt\", \"desc\"));\n\n  // Filter by owner if provided\n  if (ownerEmail) {\n    q = query(devicesCollection, where(\"ownerEmail\", \"==\", ownerEmail), orderBy(\"createdAt\", \"desc\"));\n  }\n\n  const snapshot = await getDocs(q);\n  return snapshot.docs.map((doc) => ({\n    id: doc.id,\n    ...convertTimestamps(doc.data()),\n  })) as AlgoDevice[];\n}\n\nexport async function getDevice(id: string): Promise<AlgoDevice | null> {\n  const docRef = doc(db, \"devices\", id);\n  const snapshot = await getDoc(docRef);\n  if (!snapshot.exists()) return null;\n  return { id: snapshot.id, ...convertTimestamps(snapshot.data()) } as AlgoDevice;\n}\n\nexport async function addDevice(device: Omit<AlgoDevice, \"id\" | \"createdAt\" | \"updatedAt\">): Promise<string> {\n  const now = Timestamp.now();\n  const docRef = await addDoc(devicesCollection, {\n    ...device,\n    createdAt: now,\n    updatedAt: now,\n  });\n  return docRef.id;\n}\n\nexport async function updateDevice(id: string, data: Partial<AlgoDevice>): Promise<void> {\n  const docRef = doc(db, \"devices\", id);\n  // Firebase doesn't allow undefined values - filter them out\n  const cleanData: Record<string, unknown> = { updatedAt: Timestamp.now() };\n  for (const [key, value] of Object.entries(data)) {\n    if (value !== undefined) {\n      cleanData[key] = value;\n    }\n  }\n  await updateDoc(docRef, cleanData);\n}\n\nexport async function deleteDevice(id: string): Promise<void> {\n  const docRef = doc(db, \"devices\", id);\n  await deleteDoc(docRef);\n}\n\n// ============ Zones ============\n\nconst zonesCollection = collection(db, \"zones\");\n\nexport async function getZones(ownerEmail?: string): Promise<Zone[]> {\n  let q = query(zonesCollection, orderBy(\"createdAt\", \"desc\"));\n\n  // Filter by owner if provided\n  if (ownerEmail) {\n    q = query(zonesCollection, where(\"ownerEmail\", \"==\", ownerEmail), orderBy(\"createdAt\", \"desc\"));\n  }\n\n  const snapshot = await getDocs(q);\n  return snapshot.docs.map((doc) => ({\n    id: doc.id,\n    ...convertTimestamps(doc.data()),\n  })) as Zone[];\n}\n\nexport async function getZone(id: string): Promise<Zone | null> {\n  const docRef = doc(db, \"zones\", id);\n  const snapshot = await getDoc(docRef);\n  if (!snapshot.exists()) return null;\n  return { id: snapshot.id, ...convertTimestamps(snapshot.data()) } as Zone;\n}\n\nexport async function addZone(zone: Omit<Zone, \"id\" | \"createdAt\" | \"updatedAt\">): Promise<string> {\n  const now = Timestamp.now();\n  const docRef = await addDoc(zonesCollection, {\n    ...zone,\n    createdAt: now,\n    updatedAt: now,\n  });\n  return docRef.id;\n}\n\nexport async function updateZone(id: string, data: Partial<Zone>): Promise<void> {\n  const docRef = doc(db, \"zones\", id);\n  await updateDoc(docRef, {\n    ...data,\n    updatedAt: Timestamp.now(),\n  });\n}\n\nexport async function deleteZone(id: string): Promise<void> {\n  const docRef = doc(db, \"zones\", id);\n  await deleteDoc(docRef);\n\n  // Also delete the routing configuration\n  const routingRef = doc(db, \"zoneRouting\", id);\n  try {\n    await deleteDoc(routingRef);\n  } catch (error) {\n    // Routing doc might not exist, that's okay\n    console.log(\"No routing config to delete for zone:\", id);\n  }\n}\n\n// ============ Zone Routing ============\n\nconst zoneRoutingCollection = collection(db, \"zoneRouting\");\n\nexport async function getZoneRouting(zoneId: string): Promise<ZoneRouting | null> {\n  const docRef = doc(db, \"zoneRouting\", zoneId);\n  const snapshot = await getDoc(docRef);\n  if (!snapshot.exists()) return null;\n  return { id: snapshot.id, ...convertTimestamps(snapshot.data()) } as ZoneRouting;\n}\n\nexport async function getAllZoneRouting(): Promise<Record<string, ZoneRouting>> {\n  const snapshot = await getDocs(zoneRoutingCollection);\n  const routing: Record<string, ZoneRouting> = {};\n  snapshot.docs.forEach((doc) => {\n    routing[doc.id] = { id: doc.id, ...convertTimestamps(doc.data()) } as ZoneRouting;\n  });\n  return routing;\n}\n\nexport async function setZoneRouting(zoneId: string, routing: Omit<ZoneRouting, \"id\" | \"updatedAt\">): Promise<void> {\n  const docRef = doc(db, \"zoneRouting\", zoneId);\n  await setDoc(docRef, {\n    ...routing,\n    zoneId,\n    updatedAt: Timestamp.now(),\n  }, { merge: true });\n}\n\n// ============ Audio Files ============\n\nconst audioFilesCollection = collection(db, \"audioFiles\");\n\nexport async function getAudioFiles(ownerEmail?: string): Promise<AudioFile[]> {\n  let q = query(audioFilesCollection, orderBy(\"createdAt\", \"desc\"));\n\n  // Filter by owner if provided\n  if (ownerEmail) {\n    q = query(audioFilesCollection, where(\"ownerEmail\", \"==\", ownerEmail), orderBy(\"createdAt\", \"desc\"));\n  }\n\n  const snapshot = await getDocs(q);\n  return snapshot.docs.map((doc) => ({\n    id: doc.id,\n    ...convertTimestamps(doc.data()),\n  })) as AudioFile[];\n}\n\nexport async function getAudioFile(id: string): Promise<AudioFile | null> {\n  const docRef = doc(db, \"audioFiles\", id);\n  const snapshot = await getDoc(docRef);\n  if (!snapshot.exists()) return null;\n  return { id: snapshot.id, ...convertTimestamps(snapshot.data()) } as AudioFile;\n}\n\nexport async function addAudioFile(audioFile: Omit<AudioFile, \"id\" | \"createdAt\">): Promise<string> {\n  const docRef = await addDoc(audioFilesCollection, {\n    ...audioFile,\n    createdAt: Timestamp.now(),\n  });\n  return docRef.id;\n}\n\nexport async function deleteAudioFile(id: string): Promise<void> {\n  const docRef = doc(db, \"audioFiles\", id);\n  await deleteDoc(docRef);\n}\n\n// ============ Distribution Logs ============\n\nconst distributionLogsCollection = collection(db, \"distributionLogs\");\n\nexport async function getDistributionLogs(limit = 50): Promise<DistributionLog[]> {\n  const q = query(distributionLogsCollection, orderBy(\"createdAt\", \"desc\"));\n  const snapshot = await getDocs(q);\n  return snapshot.docs.slice(0, limit).map((doc) => ({\n    id: doc.id,\n    ...convertTimestamps(doc.data()),\n  })) as DistributionLog[];\n}\n\nexport async function addDistributionLog(log: Omit<DistributionLog, \"id\" | \"createdAt\">): Promise<string> {\n  const docRef = await addDoc(distributionLogsCollection, {\n    ...log,\n    createdAt: Timestamp.now(),\n  });\n  return docRef.id;\n}\n\n// ============ PoE Switches ============\n\nconst poeSwitchesCollection = collection(db, \"poeSwitches\");\n\nexport async function getPoESwitches(ownerEmail?: string): Promise<PoESwitch[]> {\n  let q = query(poeSwitchesCollection, orderBy(\"createdAt\", \"desc\"));\n\n  // Filter by owner if provided\n  if (ownerEmail) {\n    q = query(poeSwitchesCollection, where(\"ownerEmail\", \"==\", ownerEmail), orderBy(\"createdAt\", \"desc\"));\n  }\n\n  const snapshot = await getDocs(q);\n  return snapshot.docs.map((doc) => ({\n    id: doc.id,\n    ...convertTimestamps(doc.data()),\n  })) as PoESwitch[];\n}\n\nexport async function getPoESwitch(id: string): Promise<PoESwitch | null> {\n  const docRef = doc(db, \"poeSwitches\", id);\n  const snapshot = await getDoc(docRef);\n  if (!snapshot.exists()) return null;\n  return { id: snapshot.id, ...convertTimestamps(snapshot.data()) } as PoESwitch;\n}\n\nexport async function addPoESwitch(poeSwitch: Omit<PoESwitch, \"id\" | \"createdAt\" | \"updatedAt\">): Promise<string> {\n  const now = Timestamp.now();\n  const docRef = await addDoc(poeSwitchesCollection, {\n    ...poeSwitch,\n    createdAt: now,\n    updatedAt: now,\n  });\n  return docRef.id;\n}\n\nexport async function updatePoESwitch(id: string, data: Partial<PoESwitch>): Promise<void> {\n  const docRef = doc(db, \"poeSwitches\", id);\n  const cleanData: Record<string, unknown> = { updatedAt: Timestamp.now() };\n  for (const [key, value] of Object.entries(data)) {\n    if (value !== undefined) {\n      cleanData[key] = value;\n    }\n  }\n  await updateDoc(docRef, cleanData);\n}\n\nexport async function deletePoESwitch(id: string): Promise<void> {\n  const docRef = doc(db, \"poeSwitches\", id);\n  await deleteDoc(docRef);\n}\n\n// ============ PoE Devices ============\n\nconst poeDevicesCollection = collection(db, \"poeDevices\");\n\nexport async function getPoEDevices(ownerEmail?: string): Promise<PoEDevice[]> {\n  let q = query(poeDevicesCollection, orderBy(\"createdAt\", \"desc\"));\n\n  // Filter by owner if provided\n  if (ownerEmail) {\n    q = query(poeDevicesCollection, where(\"ownerEmail\", \"==\", ownerEmail), orderBy(\"createdAt\", \"desc\"));\n  }\n\n  const snapshot = await getDocs(q);\n  return snapshot.docs.map((doc) => ({\n    id: doc.id,\n    ...convertTimestamps(doc.data()),\n  })) as PoEDevice[];\n}\n\nexport async function getPoEDevice(id: string): Promise<PoEDevice | null> {\n  const docRef = doc(db, \"poeDevices\", id);\n  const snapshot = await getDoc(docRef);\n  if (!snapshot.exists()) return null;\n  return { id: snapshot.id, ...convertTimestamps(snapshot.data()) } as PoEDevice;\n}\n\nexport async function addPoEDevice(poeDevice: Omit<PoEDevice, \"id\" | \"createdAt\" | \"updatedAt\">): Promise<string> {\n  const now = Timestamp.now();\n  const docRef = await addDoc(poeDevicesCollection, {\n    ...poeDevice,\n    createdAt: now,\n    updatedAt: now,\n  });\n  return docRef.id;\n}\n\nexport async function updatePoEDevice(id: string, data: Partial<PoEDevice>): Promise<void> {\n  const docRef = doc(db, \"poeDevices\", id);\n  const cleanData: Record<string, unknown> = { updatedAt: Timestamp.now() };\n  for (const [key, value] of Object.entries(data)) {\n    if (value !== undefined) {\n      cleanData[key] = value;\n    }\n  }\n  await updateDoc(docRef, cleanData);\n}\n\nexport async function deletePoEDevice(id: string): Promise<void> {\n  const docRef = doc(db, \"poeDevices\", id);\n  await deleteDoc(docRef);\n}\n\n// ============ Helpers ============\n\nfunction convertTimestamps(data: DocumentData): DocumentData {\n  const result = { ...data };\n  for (const key in result) {\n    if (result[key] instanceof Timestamp) {\n      result[key] = result[key].toDate();\n    }\n  }\n  return result;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3438, "column": 0}, "map": {"version":3,"sources":["file:///mnt/g/files/documents/webdev/algo-app/src/app/live/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState, useRef } from \"react\";\nimport Link from \"next/link\";\nimport { AppLayout } from \"@/components/layout/app-layout\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Label } from \"@/components/ui/label\";\nimport { Select } from \"@/components/ui/select\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { AudioLogViewer } from \"@/components/audio-log-viewer\";\nimport { VUMeter, CircularVUMeter } from \"@/components/vu-meter\";\nimport {\n  Mic,\n  MicOff,\n  Radio,\n  Square,\n  Circle,\n  Download,\n  Upload,\n  AlertCircle,\n  Volume2,\n  Settings2,\n  Speaker,\n  Clock,\n  Sun,\n  Moon,\n  Power,\n  PowerOff,\n  AlertTriangle,\n  Wifi,\n  WifiOff,\n  RefreshCw,\n  Map as MapIcon,\n} from \"lucide-react\";\nimport { ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\nimport { storage } from \"@/lib/firebase/config\";\nimport { useAudioCapture } from \"@/hooks/useAudioCapture\";\nimport { useAudioMonitoring } from \"@/contexts/audio-monitoring-context\";\nimport { useSessionSync } from \"@/hooks/useSessionSync\";\nimport { useRealtimeSync } from \"@/contexts/realtime-sync-context\";\nimport { getDevices, getAudioFiles, addAudioFile, getZones, getPoEDevices } from \"@/lib/firebase/firestore\";\nimport { useAuth } from \"@/contexts/auth-context\";\nimport type { AudioFile, Zone } from \"@/lib/algo/types\";\nimport { formatDuration } from \"@/lib/utils\";\n\nexport default function LiveBroadcastPage() {\n  const { user } = useAuth();\n  const isDev = process.env.NODE_ENV === 'development';\n\n  // Enable real-time session sync\n  useSessionSync();\n\n  // Get session state to check for multi-input monitoring conflicts\n  const { sessionState, viewingAsUserEmail, viewingAsUserId, syncSessionState } = useRealtimeSync();\n\n  // Get monitoring state from global context\n  const {\n    isCapturing,\n    audioLevel,\n    selectedInputDevice,\n    volume,\n    targetVolume,\n    audioThreshold,\n    audioDetected,\n    speakersEnabled,\n    useGlobalVolume,\n    setUseGlobalVolume,\n    rampEnabled,\n    rampDuration,\n    dayNightMode,\n    dayStartHour,\n    dayEndHour,\n    nightRampDuration,\n    sustainDuration,\n    disableDelay,\n    selectedDevices,\n    setSelectedDevices,\n    startMonitoring,\n    stopMonitoring,\n    setInputDevice,\n    setVolume,\n    setTargetVolume,\n    setAudioThreshold,\n    setRampEnabled,\n    setRampDuration,\n    setDayNightMode,\n    setDayStartHour,\n    setDayEndHour,\n    setNightRampDuration,\n    setSustainDuration,\n    setDisableDelay,\n    loggingEnabled,\n    setLoggingEnabled,\n    recordingEnabled,\n    setRecordingEnabled,\n    devices: contextDevices,\n    setDevices: setContextDevices,\n    setPoeDevices,\n    emergencyKillAll,\n    emergencyEnableAll,\n    controlSingleSpeaker,\n    speakerStatuses,\n    checkSpeakerConnectivity,\n  } = useAudioMonitoring();\n\n  // When admin is viewing a user, use sessionState for display\n  // Otherwise use local context values\n  const displayState = viewingAsUserId && sessionState ? sessionState : null;\n\n  // Displayed values (what the UI shows)\n  const displayedIsCapturing = displayState?.audioInputMonitoring ?? isCapturing;\n  const displayedAudioLevel = displayState?.audioLevel ?? audioLevel;\n  const displayedSelectedInputDevice = displayState?.selectedInputDevice ?? selectedInputDevice;\n  const displayedVolume = displayState?.volume ?? volume;\n  const displayedTargetVolume = displayState?.targetVolume ?? targetVolume;\n  const displayedAudioThreshold = displayState?.audioThreshold ?? audioThreshold;\n  const displayedAudioDetected = displayState?.audioDetected ?? audioDetected;\n  const displayedSpeakersEnabled = displayState?.speakersEnabled ?? speakersEnabled;\n  const displayedUseGlobalVolume = displayState?.useGlobalVolume ?? useGlobalVolume;\n  const displayedRampEnabled = displayState?.rampEnabled ?? rampEnabled;\n  const displayedRampDuration = displayState?.rampDuration ?? rampDuration;\n  const displayedDayNightMode = displayState?.dayNightMode ?? dayNightMode;\n  const displayedDayStartHour = displayState?.dayStartHour ?? dayStartHour;\n  const displayedDayEndHour = displayState?.dayEndHour ?? dayEndHour;\n  const displayedNightRampDuration = displayState?.nightRampDuration ?? nightRampDuration;\n  const displayedSustainDuration = displayState?.sustainDuration ?? sustainDuration;\n  const displayedDisableDelay = displayState?.disableDelay ?? disableDelay;\n  const displayedSelectedDevices = displayState?.selectedDevices ?? (selectedDevices || []);\n  const displayedLoggingEnabled = displayState?.loggingEnabled ?? loggingEnabled;\n  const displayedRecordingEnabled = displayState?.recordingEnabled ?? recordingEnabled;\n\n  // Safety check: ensure selectedDevices is always an array\n  const safeSelectedDevices = displayedSelectedDevices || [];\n\n  const [audioFiles, setAudioFiles] = useState<AudioFile[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [broadcasting, setBroadcasting] = useState(false);\n  const [preTone, setPreTone] = useState(\"\");\n  const [inputDevices, setInputDevices] = useState<MediaDeviceInfo[]>([]);\n\n  // When admin is viewing, use user's available input devices from sessionState\n  const displayedInputDevices = viewingAsUserId && sessionState?.availableInputDevices\n    ? sessionState.availableInputDevices\n    : inputDevices;\n  const [recordedBlob, setRecordedBlob] = useState<Blob | null>(null);\n  const [saving, setSaving] = useState(false);\n  const [editingSpeakerId, setEditingSpeakerId] = useState<string | null>(null);\n  const [localMaxVolumes, setLocalMaxVolumes] = useState<Record<string, number>>({});\n  const [zones, setZones] = useState<Zone[]>([]);\n  const [selectedZones, setSelectedZones] = useState<string[]>([]);\n  const [useZoneMode, setUseZoneMode] = useState(false);\n\n  const preToneAudioRef = useRef<HTMLAudioElement | null>(null);\n\n  const {\n    isRecording,\n    duration,\n    error,\n    startRecording,\n    stopRecording,\n    getInputDevices,\n  } = useAudioCapture();\n\n  useEffect(() => {\n    if (user?.email) {\n      loadData();\n      loadInputDevices();\n    }\n  }, [user?.email, viewingAsUserEmail]); // Reload when user changes or admin switches viewing target\n\n  // Close any open volume editor when global mode is enabled\n  useEffect(() => {\n    if (useGlobalVolume && editingSpeakerId) {\n      setEditingSpeakerId(null);\n    }\n  }, [useGlobalVolume, editingSpeakerId]);\n\n  const loadData = async () => {\n    if (!user) return;\n\n    try {\n      // Filter devices/zones/audio by current user\n      // If admin is viewing as another user, use their email instead\n      const userEmail = viewingAsUserEmail || user.email || \"\";\n\n      const [devicesData, audioData, zonesData, poeDevicesData] = await Promise.all([\n        getDevices(userEmail),\n        getAudioFiles(userEmail),\n        getZones(userEmail),\n        getPoEDevices(userEmail),\n      ]);\n      setContextDevices(devicesData);\n      setAudioFiles(audioData);\n      setZones(zonesData);\n      setPoeDevices(poeDevicesData);\n    } catch (error) {\n      console.error(\"Failed to load data:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadInputDevices = async () => {\n    const devices = await getInputDevices();\n    setInputDevices(devices);\n  };\n\n  // Sync input devices to session when they change (so admin can see user's available inputs)\n  useEffect(() => {\n    if (inputDevices.length > 0 && !viewingAsUserId) {\n      // Only sync if we're the user (not admin viewing)\n      syncSessionState({\n        availableInputDevices: inputDevices.map(d => ({\n          deviceId: d.deviceId,\n          label: d.label || `Input ${d.deviceId.slice(0, 8)}`,\n        })),\n      });\n    }\n  }, [inputDevices, viewingAsUserId, syncSessionState]);\n\n  const toggleDevice = (deviceId: string) => {\n    const newDevices = safeSelectedDevices.includes(deviceId)\n      ? safeSelectedDevices.filter((id) => id !== deviceId)\n      : [...selectedDevices, deviceId];\n    console.log('[Live] Device selection changed:', newDevices);\n    setSelectedDevices(newDevices);\n  };\n\n  const selectAllDevices = () => {\n    if (safeSelectedDevices.length === contextDevices.length) {\n      setSelectedDevices([]);\n    } else {\n      setSelectedDevices(contextDevices.map((d) => d.id));\n    }\n  };\n\n  // Zone-based selection\n  const toggleZone = async (zoneId: string) => {\n    const newZones = selectedZones.includes(zoneId)\n      ? selectedZones.filter((id) => id !== zoneId)\n      : [...selectedZones, zoneId];\n\n    setSelectedZones(newZones);\n    await updateDevicesForZones(newZones);\n  };\n\n  const selectAllZones = async () => {\n    const newZones = selectedZones.length === zones.length ? [] : zones.map(z => z.id);\n    setSelectedZones(newZones);\n    await updateDevicesForZones(newZones);\n  };\n\n  const updateDevicesForZones = async (zoneIds: string[]) => {\n    // Get all devices assigned to selected zones (speakers only, not paging devices)\n    const devicesInZones = contextDevices.filter(device =>\n      device.zone && zoneIds.includes(device.zone) && device.type !== \"8301\"\n    );\n    const deviceIds = devicesInZones.map(d => d.id);\n\n    console.log('[Live] Zone selection changed:', zoneIds);\n    console.log('[Live] Speakers in selected zones:', deviceIds);\n\n    // Update selected devices\n    setSelectedDevices(deviceIds);\n\n    // If monitoring is active, dynamically update speaker states\n    // IMPORTANT: We NEVER touch the paging device (8301) - it stays in sending mode\n    // We ONLY enable/disable individual speakers based on zone selection\n    if (displayedIsCapturing) {\n      console.log('[Live] Monitoring is active - dynamically updating SPEAKERS ONLY (paging device untouched)');\n\n      // Get all speakers (exclude paging devices - we NEVER control those)\n      const allSpeakers = contextDevices.filter(d => d.type !== \"8301\");\n\n      // Disable speakers NOT in selected zones (volume â†’ 0, multicast â†’ none)\n      const speakersToDisable = allSpeakers.filter(s => !deviceIds.includes(s.id));\n      for (const speaker of speakersToDisable) {\n        console.log(`[Live] Disabling speaker ${speaker.name} (not in selected zones)`);\n        await controlSingleSpeaker(speaker.id, false);\n      }\n\n      // Enable speakers in selected zones (multicast â†’ enabled, volume applied)\n      const speakersToEnable = allSpeakers.filter(s => deviceIds.includes(s.id));\n      for (const speaker of speakersToEnable) {\n        console.log(`[Live] Enabling speaker ${speaker.name} (in selected zones)`);\n        await controlSingleSpeaker(speaker.id, true);\n      }\n\n      console.log(`[Live] Zone switch complete - ${speakersToEnable.length} speakers ON, ${speakersToDisable.length} speakers OFF`);\n    }\n  };\n\n  const handleStartBroadcast = async () => {\n    if (safeSelectedDevices.length === 0) {\n      alert(\"Please select at least one device\");\n      return;\n    }\n\n    setBroadcasting(true);\n\n    if (preTone) {\n      const audioFile = audioFiles.find((a) => a.id === preTone);\n      if (audioFile) {\n        for (const deviceId of safeSelectedDevices) {\n          const device = contextDevices.find((d) => d.id === deviceId);\n          if (!device) continue;\n\n          const linkedSpeakers = device.type === \"8301\" && device.linkedSpeakerIds\n            ? contextDevices.filter(d => device.linkedSpeakerIds?.includes(d.id))\n            : [];\n\n          try {\n            await fetch(\"/api/algo/distribute\", {\n              method: \"POST\",\n              headers: { \"Content-Type\": \"application/json\" },\n              body: JSON.stringify({\n                device: {\n                  ipAddress: device.ipAddress,\n                  password: device.apiPassword,\n                  authMethod: device.authMethod,\n                  type: device.type,\n                },\n                speakers: linkedSpeakers.map(s => ({\n                  ipAddress: s.ipAddress,\n                  password: s.apiPassword,\n                  authMethod: s.authMethod,\n                })),\n                filename: \"chime.wav\",\n                loop: false,\n                volume,\n              }),\n            });\n          } catch (error) {\n            console.error(\"Pre-tone error:\", error);\n          }\n        }\n        await new Promise((resolve) => setTimeout(resolve, 2000));\n      }\n    }\n\n    startRecording();\n  };\n\n  const handleStopBroadcast = async () => {\n    const blob = await stopRecording();\n    setRecordedBlob(blob);\n    setBroadcasting(false);\n\n    for (const deviceId of safeSelectedDevices) {\n      const device = contextDevices.find((d) => d.id === deviceId);\n      if (!device) continue;\n\n      const linkedSpeakers = device.type === \"8301\" && device.linkedSpeakerIds\n        ? contextDevices.filter(d => device.linkedSpeakerIds?.includes(d.id))\n        : [];\n\n      try {\n        await fetch(\"/api/algo/distribute/stop\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            device: {\n              ipAddress: device.ipAddress,\n              password: device.apiPassword,\n              authMethod: device.authMethod,\n              type: device.type,\n            },\n            speakers: linkedSpeakers.map(s => ({\n              ipAddress: s.ipAddress,\n              password: s.apiPassword,\n              authMethod: s.authMethod,\n            })),\n          }),\n        });\n      } catch (error) {\n        console.error(\"Stop error:\", error);\n      }\n    }\n  };\n\n  const handleSaveRecording = async () => {\n    if (!recordedBlob) return;\n\n    const name = prompt(\"Enter a name for this recording:\");\n    if (!name) return;\n\n    setSaving(true);\n    try {\n      const filename = `recording-${Date.now()}.webm`;\n      const storageRef = ref(storage, `audio/${filename}`);\n      await uploadBytes(storageRef, recordedBlob);\n      const downloadUrl = await getDownloadURL(storageRef);\n\n      await addAudioFile({\n        name,\n        filename,\n        storageUrl: downloadUrl,\n        duration,\n        fileSize: recordedBlob.size,\n        uploadedBy: user?.uid || \"unknown\",\n        ownerEmail: user?.email || \"unknown\",\n      });\n\n      setRecordedBlob(null);\n      await loadData();\n      alert(\"Recording saved!\");\n    } catch (error) {\n      console.error(\"Save error:\", error);\n      alert(\"Failed to save recording\");\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDownloadRecording = () => {\n    if (!recordedBlob) return;\n\n    const url = URL.createObjectURL(recordedBlob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = `recording-${Date.now()}.webm`;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  // Determine if currently in day or night mode\n  const currentHour = new Date().getHours();\n  const isDaytime = currentHour >= dayStartHour && currentHour < dayEndHour;\n\n  if (loading) {\n    return (\n      <AppLayout>\n        <div className=\"flex justify-center py-12\">\n          <div className=\"h-10 w-10 animate-spin rounded-full border-4 border-[var(--accent-blue)] border-t-transparent\" />\n        </div>\n      </AppLayout>\n    );\n  }\n\n  return (\n    <AppLayout>\n      <div className=\"space-y-6\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-[var(--text-primary)]\">Audio Input</h1>\n            <p className=\"text-[var(--text-secondary)] text-sm\">\n              Monitor audio and automatically control speaker activation\n            </p>\n          </div>\n          {displayedIsCapturing && (\n            <div className=\"flex items-center gap-3\">\n              <Badge variant={displayedSpeakersEnabled ? \"destructive\" : \"success\"} className=\"px-3 py-1\">\n                <div className={`w-2 h-2 rounded-full mr-2 ${displayedSpeakersEnabled ? \"bg-white animate-blink\" : \"bg-white\"}`} />\n                {displayedSpeakersEnabled ? \"Broadcasting\" : \"Standby\"}\n              </Badge>\n            </div>\n          )}\n        </div>\n\n        {error && (\n          <div className=\"flex items-center gap-2 rounded-lg bg-[var(--accent-red)]/15 border border-[var(--accent-red)]/30 p-4 text-[var(--accent-red)]\">\n            <AlertCircle className=\"h-5 w-5\" />\n            <span>{error}</span>\n          </div>\n        )}\n\n        <div className=\"grid gap-6 lg:grid-cols-3\">\n          {/* Left Column - Audio Input & VU Meter */}\n          <div className=\"space-y-6 lg:col-span-2\">\n            {/* Warning if multi-input is active */}\n            {sessionState?.multiInputMonitoring && (\n              <Card className=\"border-orange-500 bg-orange-50 dark:bg-orange-950\">\n                <CardContent className=\"pt-6\">\n                  <div className=\"flex items-center gap-2\">\n                    <AlertTriangle className=\"h-5 w-5 text-orange-600\" />\n                    <span className=\"text-orange-700 dark:text-orange-300 font-semibold\">\n                      Multi-Input Routing is currently active. Audio Input monitoring is disabled.\n                    </span>\n                  </div>\n                </CardContent>\n              </Card>\n            )}\n\n            {/* Audio Level Display */}\n            <Card>\n              <CardHeader className=\"pb-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"p-2 rounded-lg bg-[var(--accent-blue)]/15\">\n                      <Mic className=\"h-5 w-5 text-[var(--accent-blue)]\" />\n                    </div>\n                    <CardTitle>Audio Monitor</CardTitle>\n                  </div>\n                  {!displayedIsCapturing ? (\n                    <Button\n                      onClick={() => {\n                        // Check if multi-input monitoring is active\n                        if (sessionState?.multiInputMonitoring) {\n                          alert('Cannot start audio input monitoring: Multi-Input Routing is currently active. Please stop multi-input monitoring first.');\n                          return;\n                        }\n                        console.log('[Live] User clicked Start Monitoring');\n                        startMonitoring(displayedSelectedInputDevice || undefined);\n                      }}\n                      disabled={sessionState?.multiInputMonitoring}\n                      title={sessionState?.multiInputMonitoring ? 'Multi-Input Routing is active' : ''}\n                    >\n                      <Mic className=\"mr-2 h-4 w-4\" />\n                      Start Monitoring\n                    </Button>\n                  ) : (\n                    <Button\n                      variant=\"destructive\"\n                      onClick={() => {\n                        console.log('[Live] User clicked Stop Monitoring');\n                        stopMonitoring();\n                      }}\n                    >\n                      <MicOff className=\"mr-2 h-4 w-4\" />\n                      Stop\n                    </Button>\n                  )}\n                </div>\n              </CardHeader>\n              <CardContent className=\"space-y-6\">\n                {/* VU Meter */}\n                <div className=\"p-6 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-color)]\">\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <span className=\"text-sm font-semibold text-[var(--text-secondary)]\">Audio Level</span>\n                    <span className=\"text-sm font-mono text-[var(--accent-blue)]\">\n                      {displayedIsCapturing ? `${displayedAudioLevel.toFixed(1)}%` : \"-- %\"}\n                    </span>\n                  </div>\n                  <VUMeter level={displayedIsCapturing ? displayedAudioLevel : 0} barCount={24} showPeakHold={false} />\n\n                  {/* Threshold indicator */}\n                  <div className=\"mt-4 flex items-center gap-2\">\n                    <div className=\"flex-1 h-1 bg-[var(--bg-tertiary)] rounded relative\">\n                      <div\n                        className=\"absolute top-0 bottom-0 w-0.5 bg-[var(--accent-orange)]\"\n                        style={{ left: `${displayedAudioThreshold * 2}%` }}\n                      />\n                    </div>\n                    <span className=\"text-xs text-[var(--text-muted)]\">\n                      Threshold: {displayedAudioThreshold}%\n                    </span>\n                  </div>\n                </div>\n\n                {/* Status Grid */}\n                <div className=\"grid grid-cols-3 gap-4\">\n                  <div className=\"p-4 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-color)] text-center\">\n                    <div className={`w-3 h-3 rounded-full mx-auto mb-2 ${displayedIsCapturing ? \"bg-[var(--accent-green)]\" : \"bg-[var(--text-muted)]\"}`} />\n                    <div className=\"text-xs text-[var(--text-muted)]\">Monitoring</div>\n                    <div className=\"text-sm font-semibold text-[var(--text-primary)]\">{displayedIsCapturing ? \"Active\" : \"Off\"}</div>\n                  </div>\n                  <div className=\"p-4 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-color)] text-center\">\n                    <div className={`w-3 h-3 rounded-full mx-auto mb-2 ${displayedAudioDetected ? \"bg-[var(--accent-orange)]\" : \"bg-[var(--text-muted)]\"}`} />\n                    <div className=\"text-xs text-[var(--text-muted)]\">Audio</div>\n                    <div className=\"text-sm font-semibold text-[var(--text-primary)]\">{displayedAudioDetected ? \"Detected\" : \"Silent\"}</div>\n                  </div>\n                  <div className=\"p-4 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-color)] text-center\">\n                    <div className={`w-3 h-3 rounded-full mx-auto mb-2 ${displayedSpeakersEnabled ? \"bg-[var(--accent-red)] animate-blink\" : \"bg-[var(--text-muted)]\"}`} />\n                    <div className=\"text-xs text-[var(--text-muted)]\">Speakers</div>\n                    <div className=\"text-sm font-semibold text-[var(--text-primary)]\">{displayedSpeakersEnabled ? \"On\" : \"Off\"}</div>\n                  </div>\n                </div>\n\n                {/* Input Device Selection */}\n                <div className=\"space-y-2\">\n                  <Label>Input Device</Label>\n                  <Select\n                    value={displayedSelectedInputDevice}\n                    onChange={(e) => setInputDevice(e.target.value)}\n                    disabled={displayedIsCapturing}\n                  >\n                    <option value=\"\">Default Input</option>\n                    {displayedInputDevices.map((device) => (\n                      <option key={device.deviceId} value={device.deviceId}>\n                        {device.label || `Input ${device.deviceId.slice(0, 8)}`}\n                      </option>\n                    ))}\n                  </Select>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Emergency Controls */}\n            <Card className=\"border-[var(--accent-red)]/30\">\n              <CardHeader>\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"p-2 rounded-lg bg-[var(--accent-red)]/15\">\n                    <AlertTriangle className=\"h-5 w-5 text-[var(--accent-red)]\" />\n                  </div>\n                  <div>\n                    <CardTitle>Emergency Controls</CardTitle>\n                    <span className=\"text-xs text-[var(--text-muted)]\">Manual speaker control</span>\n                  </div>\n                </div>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                {/* Quick Actions */}\n                <div className=\"grid grid-cols-2 gap-3\">\n                  <Button\n                    variant=\"destructive\"\n                    className=\"h-14\"\n                    onClick={emergencyKillAll}\n                  >\n                    <PowerOff className=\"mr-2 h-5 w-5\" />\n                    KILL ALL\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    className=\"h-14 border-[var(--accent-green)] text-[var(--accent-green)] hover:bg-[var(--accent-green)]/10\"\n                    onClick={emergencyEnableAll}\n                  >\n                    <Power className=\"mr-2 h-5 w-5\" />\n                    ENABLE ALL\n                  </Button>\n                </div>\n\n                {/* Individual Speaker Controls */}\n                {contextDevices.filter(d => d.type !== \"8301\").length > 0 && (\n                  <div className=\"space-y-2\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center gap-2\">\n                        <Label className=\"text-[var(--text-muted)] text-xs uppercase tracking-wider\">\n                          Individual Speakers\n                        </Label>\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          className=\"h-6 px-2 text-xs\"\n                          onClick={() => checkSpeakerConnectivity()}\n                        >\n                          <RefreshCw className=\"h-3 w-3 mr-1\" />\n                          Check\n                        </Button>\n                        {speakerStatuses.length > 0 && (\n                          <span className=\"text-xs text-[var(--text-muted)]\">\n                            ({speakerStatuses.filter(s => s.isOnline).length}/{speakerStatuses.length} online)\n                          </span>\n                        )}\n                      </div>\n                      {displayedUseGlobalVolume && (\n                        <span className=\"text-xs text-[var(--accent-orange)] bg-[var(--accent-orange)]/10 px-2 py-1 rounded\">\n                          Overridden by Global Mode\n                        </span>\n                      )}\n                    </div>\n                    <div className={`grid gap-3 max-h-[400px] overflow-y-auto transition-opacity ${displayedUseGlobalVolume ? 'opacity-50 pointer-events-none' : 'opacity-100'}`}>\n                      {contextDevices\n                        .filter(d => d.type !== \"8301\")\n                        .map((speaker) => {\n                          const isEditing = editingSpeakerId === speaker.id && !displayedUseGlobalVolume;\n                          // Display as 0-10 level, store as 0-100%\n                          const storedMaxVolume = speaker.maxVolume ?? 100;\n                          const displayLevel = Math.round(storedMaxVolume / 10);\n                          const localLevel = localMaxVolumes[speaker.id] !== undefined\n                            ? Math.round(localMaxVolumes[speaker.id] / 10)\n                            : displayLevel;\n                          // Get speaker status\n                          const speakerStatus = speakerStatuses.find(s => s.speakerId === speaker.id);\n\n                          return (\n                            <div\n                              key={speaker.id}\n                              className={`p-3 rounded-xl bg-[var(--bg-secondary)] border space-y-3 transition-all ${\n                                displayedUseGlobalVolume\n                                  ? 'border-[var(--border-color)]/50 cursor-not-allowed'\n                                  : 'border-[var(--border-color)]'\n                              }`}\n                            >\n                              <div className=\"flex items-center justify-between\">\n                                <div className=\"flex items-center gap-3\">\n                                  <Speaker className={`h-4 w-4 ${displayedUseGlobalVolume ? 'text-[var(--text-muted)]/50' : 'text-[var(--text-muted)]'}`} />\n                                  <div>\n                                    <p className={`text-sm font-medium flex items-center gap-2 ${displayedUseGlobalVolume ? 'text-[var(--text-primary)]/60' : 'text-[var(--text-primary)]'}`}>\n                                      {speaker.name}\n                                      {speakerStatus && (\n                                        speakerStatus.isOnline\n                                          ? <Wifi className=\"h-3 w-3 text-[var(--accent-green)]\" />\n                                          : <WifiOff className=\"h-3 w-3 text-[var(--accent-red)]\" />\n                                      )}\n                                    </p>\n                                    <button\n                                      onClick={() => {\n                                        if (!isEditing && !displayedUseGlobalVolume) {\n                                          setLocalMaxVolumes(prev => ({\n                                            ...prev,\n                                            [speaker.id]: storedMaxVolume\n                                          }));\n                                          setEditingSpeakerId(speaker.id);\n                                        }\n                                      }}\n                                      disabled={displayedUseGlobalVolume}\n                                      className={`text-xs ${\n                                        displayedUseGlobalVolume\n                                          ? 'text-[var(--text-muted)]/50 cursor-not-allowed line-through'\n                                          : 'text-[var(--accent-blue)] hover:underline cursor-pointer'\n                                      }`}\n                                      title={displayedUseGlobalVolume ? \"Disabled - Global volume mode is active\" : \"Click to edit\"}\n                                    >\n                                      Max: Level {displayLevel}/10 {!displayedUseGlobalVolume && '(click to edit)'}\n                                    </button>\n                                  </div>\n                                </div>\n                                <div className=\"flex gap-2\">\n                                  <Button\n                                    size=\"sm\"\n                                    variant=\"outline\"\n                                    className=\"text-[var(--accent-green)] border-[var(--accent-green)]/50 hover:bg-[var(--accent-green)]/10\"\n                                    onClick={() => controlSingleSpeaker(speaker.id, true)}\n                                    disabled={displayedUseGlobalVolume}\n                                  >\n                                    <Power className=\"h-3 w-3\" />\n                                  </Button>\n                                  <Button\n                                    size=\"sm\"\n                                    variant=\"outline\"\n                                    className=\"text-[var(--accent-red)] border-[var(--accent-red)]/50 hover:bg-[var(--accent-red)]/10\"\n                                    onClick={() => controlSingleSpeaker(speaker.id, false)}\n                                    disabled={displayedUseGlobalVolume}\n                                  >\n                                    <PowerOff className=\"h-3 w-3\" />\n                                  </Button>\n                                </div>\n                              </div>\n\n                              {isEditing && !displayedUseGlobalVolume && (\n                                <div className=\"space-y-2 pt-2 border-t border-[var(--border-color)]\">\n                                  <div className=\"flex items-center justify-between\">\n                                    <Label className=\"text-xs\">Max Volume Level</Label>\n                                    <span className=\"text-xs font-mono text-[var(--accent-blue)]\">Level {localLevel}/10</span>\n                                  </div>\n                                  <Slider\n                                    min={0}\n                                    max={10}\n                                    value={localLevel}\n                                    onChange={(e) => {\n                                      const level = parseInt(e.target.value);\n                                      // Convert 0-10 to 0-100% for storage\n                                      setLocalMaxVolumes(prev => ({\n                                        ...prev,\n                                        [speaker.id]: level * 10\n                                      }));\n                                    }}\n                                  />\n                                  <p className=\"text-xs text-[var(--text-muted)]\">\n                                    Algo speakers use 0-10 scale (0=mute, 10=max)\n                                  </p>\n                                  <div className=\"flex gap-2 pt-1\">\n                                    <Button\n                                      size=\"sm\"\n                                      variant=\"outline\"\n                                      className=\"flex-1 text-xs\"\n                                      onClick={async () => {\n                                        try {\n                                          const { updateDevice } = await import(\"@/lib/firebase/firestore\");\n                                          const volumeToSave = localMaxVolumes[speaker.id];\n                                          await updateDevice(speaker.id, { maxVolume: volumeToSave });\n                                          speaker.maxVolume = volumeToSave;\n                                          setEditingSpeakerId(null);\n                                          await loadData(); // Refresh devices\n                                        } catch (error) {\n                                          console.error(\"Failed to update max volume:\", error);\n                                          alert(\"Failed to save max volume\");\n                                        }\n                                      }}\n                                    >\n                                      Save\n                                    </Button>\n                                    <Button\n                                      size=\"sm\"\n                                      variant=\"ghost\"\n                                      className=\"flex-1 text-xs\"\n                                      onClick={() => {\n                                        setEditingSpeakerId(null);\n                                      }}\n                                    >\n                                      Cancel\n                                    </Button>\n                                  </div>\n                                </div>\n                              )}\n                            </div>\n                          );\n                        })}\n                    </div>\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n\n            {/* Detection Settings */}\n            <Card>\n              <CardHeader>\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"p-2 rounded-lg bg-[var(--accent-orange)]/15\">\n                    <Settings2 className=\"h-5 w-5 text-[var(--accent-orange)]\" />\n                  </div>\n                  <div>\n                    <CardTitle>Detection Settings</CardTitle>\n                    {displayedIsCapturing && (\n                      <span className=\"text-xs text-[var(--accent-green)]\">Live adjustable</span>\n                    )}\n                  </div>\n                </div>\n              </CardHeader>\n              <CardContent className=\"space-y-6\">\n                {/* Audio Threshold */}\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label>Audio Threshold</Label>\n                    <span className=\"text-sm font-mono text-[var(--accent-blue)]\">{displayedAudioThreshold}%</span>\n                  </div>\n                  <Slider\n                    min={0}\n                    max={50}\n                    value={displayedAudioThreshold}\n                    onChange={(e) => setAudioThreshold(parseInt(e.target.value))}\n                  />\n                  <p className=\"text-xs text-[var(--text-muted)]\">\n                    Minimum audio level to trigger speaker activation\n                  </p>\n                </div>\n\n                {/* Sustain Duration */}\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label>Sustain Duration</Label>\n                    <span className=\"text-sm font-mono text-[var(--accent-blue)]\">{(displayedSustainDuration / 1000).toFixed(1)}s</span>\n                  </div>\n                  <Slider\n                    min={0}\n                    max={3000}\n                    step={100}\n                    value={displayedSustainDuration}\n                    onChange={(e) => setSustainDuration(parseInt(e.target.value))}\n                  />\n                  <p className=\"text-xs text-[var(--text-muted)]\">\n                    Audio must stay above threshold for this duration to trigger\n                  </p>\n                </div>\n\n                {/* Disable Delay */}\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label>Disable Delay</Label>\n                    <span className=\"text-sm font-mono text-[var(--accent-blue)]\">{(displayedDisableDelay / 1000).toFixed(0)}s</span>\n                  </div>\n                  <Slider\n                    min={1000}\n                    max={30000}\n                    step={1000}\n                    value={displayedDisableDelay}\n                    onChange={(e) => setDisableDelay(parseInt(e.target.value))}\n                  />\n                  <p className=\"text-xs text-[var(--text-muted)]\">\n                    Wait before disabling speakers after silence\n                  </p>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Volume Settings */}\n            <Card>\n              <CardHeader>\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"p-2 rounded-lg bg-[var(--accent-green)]/15\">\n                    <Volume2 className=\"h-5 w-5 text-[var(--accent-green)]\" />\n                  </div>\n                  <div>\n                    <CardTitle>Volume Settings</CardTitle>\n                    {displayedIsCapturing && (\n                      <span className=\"text-xs text-[var(--accent-green)]\">Live adjustable</span>\n                    )}\n                  </div>\n                </div>\n              </CardHeader>\n              <CardContent className=\"space-y-6\">\n                {/* Input Gain */}\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label>Input Gain</Label>\n                    <span className=\"text-sm font-mono text-[var(--accent-blue)]\">{displayedVolume}%</span>\n                  </div>\n                  <Slider\n                    min={0}\n                    max={200}\n                    value={displayedVolume}\n                    onChange={(e) => setVolume(parseInt(e.target.value))}\n                  />\n                </div>\n\n                {/* Volume Mode Selection */}\n                <div className=\"p-4 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-color)] space-y-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <Label className=\"!text-[var(--text-primary)]\">Use Global Volume</Label>\n                      <p className=\"text-xs text-[var(--text-muted)] mt-1\">\n                        {displayedUseGlobalVolume\n                          ? \"All speakers use same volume (individual settings ignored)\"\n                          : \"Each speaker uses its own max volume setting\"}\n                      </p>\n                    </div>\n                    <Switch\n                      checked={displayedUseGlobalVolume}\n                      onCheckedChange={setUseGlobalVolume}\n                    />\n                  </div>\n\n                  {displayedUseGlobalVolume ? (\n                    <div className=\"space-y-2 pt-2 border-t border-[var(--border-color)]\">\n                      <div className=\"flex items-center justify-between\">\n                        <Label className=\"text-xs\">Global Volume Level</Label>\n                        <span className=\"text-xs font-mono text-[var(--accent-blue)]\">{displayedTargetVolume}% (Lv. {Math.round(displayedTargetVolume / 10)}/10)</span>\n                      </div>\n                      <Slider\n                        min={0}\n                        max={100}\n                        value={displayedTargetVolume}\n                        onChange={(e) => setTargetVolume(parseInt(e.target.value))}\n                      />\n                      <p className=\"text-xs text-[var(--text-muted)]\">\n                        All speakers will play at this volume level\n                      </p>\n                    </div>\n                  ) : (\n                    <div className=\"pt-2 border-t border-[var(--border-color)]\">\n                      <p className=\"text-xs text-[var(--accent-blue)]\">\n                        âœ“ Using individual speaker max volumes (editable in Emergency Controls below)\n                      </p>\n                    </div>\n                  )}\n                </div>\n\n                {/* Volume Ramp */}\n                <div className=\"p-4 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-color)] space-y-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                      <Clock className=\"h-4 w-4 text-[var(--text-muted)]\" />\n                      <Label className=\"!text-[var(--text-primary)]\">Volume Ramp</Label>\n                    </div>\n                    <Switch checked={displayedRampEnabled} onCheckedChange={setRampEnabled} />\n                  </div>\n\n                  {displayedRampEnabled && (\n                    <>\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center gap-2\">\n                          {isDaytime ? <Sun className=\"h-4 w-4 text-[var(--accent-orange)]\" /> : <Moon className=\"h-4 w-4 text-[var(--accent-purple)]\" />}\n                          <Label className=\"!text-[var(--text-primary)]\">Day/Night Mode</Label>\n                        </div>\n                        <Switch checked={displayedDayNightMode} onCheckedChange={setDayNightMode} />\n                      </div>\n\n                      {displayedDayNightMode ? (\n                        <div className=\"space-y-4\">\n                          <div className=\"flex items-center gap-2 text-sm\">\n                            <span className=\"text-[var(--text-muted)]\">Day:</span>\n                            <Select\n                              value={displayedDayStartHour.toString()}\n                              onChange={(e) => setDayStartHour(parseInt(e.target.value))}\n                              className=\"w-20\"\n                            >\n                              {Array.from({ length: 24 }, (_, i) => (\n                                <option key={i} value={i}>{i.toString().padStart(2, '0')}:00</option>\n                              ))}\n                            </Select>\n                            <span className=\"text-[var(--text-muted)]\">to</span>\n                            <Select\n                              value={displayedDayEndHour.toString()}\n                              onChange={(e) => setDayEndHour(parseInt(e.target.value))}\n                              className=\"w-20\"\n                            >\n                              {Array.from({ length: 24 }, (_, i) => (\n                                <option key={i} value={i}>{i.toString().padStart(2, '0')}:00</option>\n                              ))}\n                            </Select>\n                          </div>\n                          <div className=\"space-y-2\">\n                            <div className=\"flex items-center justify-between\">\n                              <Label className=\"text-xs\">Night Ramp: {displayedNightRampDuration}s</Label>\n                              <Badge variant={isDaytime ? \"secondary\" : \"default\"} className=\"text-xs\">\n                                {isDaytime ? \"Day (Instant)\" : \"Night (Ramp)\"}\n                              </Badge>\n                            </div>\n                            <Slider\n                              min={0}\n                              max={30}\n                              value={displayedNightRampDuration}\n                              onChange={(e) => setNightRampDuration(parseInt(e.target.value))}\n                            />\n                          </div>\n                        </div>\n                      ) : (\n                        <div className=\"space-y-2\">\n                          <Label className=\"text-xs\">Ramp Duration: {displayedRampDuration}s</Label>\n                          <Slider\n                            min={0}\n                            max={30}\n                            value={displayedRampDuration}\n                            onChange={(e) => setRampDuration(parseInt(e.target.value))}\n                          />\n                        </div>\n                      )}\n                    </>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Logging & Recording */}\n            <Card>\n              <CardHeader>\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"p-2 rounded-lg bg-[var(--accent-purple)]/15\">\n                    <Radio className=\"h-5 w-5 text-[var(--accent-purple)]\" />\n                  </div>\n                  <CardTitle>Logging & Recording</CardTitle>\n                </div>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"flex items-center justify-between p-4 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-color)]\">\n                  <div>\n                    <Label className=\"!text-[var(--text-primary)]\">Activity Logging</Label>\n                    <p className=\"text-xs text-[var(--text-muted)]\">\n                      Log audio events to the activity viewer\n                    </p>\n                  </div>\n                  <Switch checked={displayedLoggingEnabled} onCheckedChange={setLoggingEnabled} />\n                </div>\n\n                <div className=\"flex items-center justify-between p-4 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-color)]\">\n                  <div>\n                    <Label className=\"!text-[var(--text-primary)]\">Audio Recording</Label>\n                    <p className=\"text-xs text-[var(--text-muted)]\">\n                      {displayedRecordingEnabled ? \"Record and upload audio clips (MP3)\" : \"Disabled to save storage\"}\n                    </p>\n                  </div>\n                  <Switch checked={displayedRecordingEnabled} onCheckedChange={setRecordingEnabled} />\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Right Column - Devices & Broadcast */}\n          <div className=\"space-y-6\">\n            {/* Zone Selection */}\n            {zones.length > 0 && (\n              <Card>\n                <CardHeader>\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"p-2 rounded-lg bg-[var(--accent-purple)]/15\">\n                        <MapIcon className=\"h-5 w-5 text-[var(--accent-purple)]\" />\n                      </div>\n                      <div>\n                        <CardTitle>Zone Selection</CardTitle>\n                        <p className=\"text-xs text-[var(--text-muted)] mt-0.5\">\n                          Select zones to broadcast to\n                        </p>\n                      </div>\n                    </div>\n                    <Switch\n                      checked={useZoneMode}\n                      onCheckedChange={setUseZoneMode}\n                    />\n                  </div>\n                </CardHeader>\n                {useZoneMode && (\n                  <CardContent>\n                    <div className=\"space-y-3\">\n                      {/* Select All Zones Button */}\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        className=\"w-full\"\n                        onClick={selectAllZones}\n                      >\n                        {selectedZones.length === zones.length ? \"Deselect All Zones\" : \"Select All Zones\"}\n                      </Button>\n\n                      {/* Zone List */}\n                      <div className=\"space-y-2 max-h-[250px] overflow-y-auto\">\n                        {zones.map((zone) => {\n                          const devicesInZone = contextDevices.filter(d => d.zone === zone.id);\n                          const isSelected = selectedZones.includes(zone.id);\n\n                          return (\n                            <button\n                              key={zone.id}\n                              onClick={() => toggleZone(zone.id)}\n                              className={`flex items-center gap-3 w-full rounded-xl border p-3 text-left transition-all ${\n                                isSelected\n                                  ? \"border-[var(--accent-purple)]/50 bg-[var(--accent-purple)]/10\"\n                                  : \"border-[var(--border-color)] hover:border-[var(--border-active)] hover:bg-[var(--bg-tertiary)]\"\n                              }`}\n                              style={{\n                                borderLeft: isSelected ? `4px solid ${zone.color}` : undefined,\n                              }}\n                            >\n                              <div\n                                className={`flex h-5 w-5 items-center justify-center rounded-full border-2 ${\n                                  isSelected\n                                    ? \"border-[var(--accent-purple)] bg-[var(--accent-purple)]\"\n                                    : \"border-[var(--border-color)]\"\n                                }`}\n                              >\n                                {isSelected && (\n                                  <div className=\"h-2 w-2 rounded-full bg-white\" />\n                                )}\n                              </div>\n                              <div className=\"min-w-0 flex-1\">\n                                <p className=\"truncate font-medium text-[var(--text-primary)]\">\n                                  {zone.name}\n                                </p>\n                                <p className=\"truncate text-xs text-[var(--text-muted)]\">\n                                  {devicesInZone.length} speaker{devicesInZone.length !== 1 ? 's' : ''}\n                                </p>\n                              </div>\n                            </button>\n                          );\n                        })}\n                      </div>\n\n                      {/* Active Zones Summary */}\n                      {selectedZones.length > 0 && (\n                        <div className=\"p-3 rounded-xl bg-[var(--accent-purple)]/10 border border-[var(--accent-purple)]/30\">\n                          <p className=\"text-xs text-[var(--accent-purple)] font-medium\">\n                            Broadcasting to {selectedZones.length} zone{selectedZones.length !== 1 ? 's' : ''}\n                            {' '}({safeSelectedDevices.length} speaker{safeSelectedDevices.length !== 1 ? 's' : ''})\n                          </p>\n                        </div>\n                      )}\n                    </div>\n                  </CardContent>\n                )}\n              </Card>\n            )}\n\n            {/* Device Selection */}\n            <Card>\n              <CardHeader>\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"p-2 rounded-lg bg-[var(--accent-green)]/15\">\n                      <Speaker className=\"h-5 w-5 text-[var(--accent-green)]\" />\n                    </div>\n                    <div>\n                      <CardTitle>Target Devices</CardTitle>\n                      {useZoneMode && (\n                        <p className=\"text-xs text-[var(--accent-purple)] mt-0.5\">\n                          Controlled by zone selection\n                        </p>\n                      )}\n                    </div>\n                  </div>\n                  {!useZoneMode && (\n                    <Button variant=\"outline\" size=\"sm\" onClick={selectAllDevices}>\n                      {safeSelectedDevices.length === contextDevices.length ? \"Deselect\" : \"Select All\"}\n                    </Button>\n                  )}\n                </div>\n              </CardHeader>\n              <CardContent>\n                {contextDevices.length === 0 ? (\n                  <div className=\"text-center py-6\">\n                    <Speaker className=\"mx-auto h-8 w-8 text-[var(--text-muted)] mb-2\" />\n                    <p className=\"text-sm text-[var(--text-muted)]\">\n                      No devices available.{\" \"}\n                      <Link href=\"/devices\" className=\"text-[var(--accent-blue)] hover:underline\">\n                        Add some first\n                      </Link>\n                      .\n                    </p>\n                  </div>\n                ) : (\n                  <div className={`space-y-2 max-h-[300px] overflow-y-auto ${useZoneMode ? 'opacity-60 pointer-events-none' : ''}`}>\n                    {contextDevices.map((device) => {\n                      const deviceZone = zones.find(z => z.id === device.zone);\n                      return (\n                        <button\n                          key={device.id}\n                          onClick={() => !useZoneMode && toggleDevice(device.id)}\n                          disabled={useZoneMode}\n                          className={`flex items-center gap-3 w-full rounded-xl border p-3 text-left transition-all ${\n                            safeSelectedDevices.includes(device.id)\n                              ? \"border-[var(--accent-blue)]/50 bg-[var(--accent-blue)]/10\"\n                              : \"border-[var(--border-color)] hover:border-[var(--border-active)] hover:bg-[var(--bg-tertiary)]\"\n                          }`}\n                        >\n                          <div\n                            className={`flex h-5 w-5 items-center justify-center rounded-full border-2 ${\n                              safeSelectedDevices.includes(device.id)\n                                ? \"border-[var(--accent-blue)] bg-[var(--accent-blue)]\"\n                                : \"border-[var(--border-color)]\"\n                            }`}\n                          >\n                            {safeSelectedDevices.includes(device.id) && (\n                              <div className=\"h-2 w-2 rounded-full bg-white\" />\n                            )}\n                          </div>\n                          <div className=\"min-w-0 flex-1\">\n                            <p className=\"truncate font-medium text-[var(--text-primary)]\">\n                              {device.name}\n                            </p>\n                            <p className=\"truncate text-xs text-[var(--text-muted)]\">\n                              {deviceZone ? (\n                                <span style={{ color: deviceZone.color }}>\n                                  {deviceZone.name}\n                                </span>\n                              ) : (\n                                device.ipAddress\n                              )}\n                            </p>\n                          </div>\n                        </button>\n                      );\n                    })}\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n\n            {/* Broadcast Controls */}\n            <Card>\n              <CardHeader>\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"p-2 rounded-lg gradient-fire\">\n                    <Radio className=\"h-5 w-5 text-white\" />\n                  </div>\n                  <CardTitle>Manual Broadcast</CardTitle>\n                </div>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <Select value={preTone} onChange={(e) => setPreTone(e.target.value)}>\n                  <option value=\"\">No pre-tone</option>\n                  <option value=\"__builtin_chime\">Built-in Chime</option>\n                  <option value=\"__builtin_alert\">Built-in Alert</option>\n                  {audioFiles.map((audio) => (\n                    <option key={audio.id} value={audio.id}>{audio.name}</option>\n                  ))}\n                </Select>\n\n                {!displayedIsCapturing ? (\n                  <div className=\"rounded-xl bg-[var(--accent-orange)]/15 border border-[var(--accent-orange)]/30 p-3 text-sm text-[var(--accent-orange)]\">\n                    Start monitoring to enable broadcasting\n                  </div>\n                ) : !broadcasting ? (\n                  <Button\n                    className=\"w-full\"\n                    size=\"lg\"\n                    onClick={handleStartBroadcast}\n                    disabled={safeSelectedDevices.length === 0}\n                  >\n                    <Radio className=\"mr-2 h-5 w-5\" />\n                    Start Broadcast\n                  </Button>\n                ) : (\n                  <div className=\"space-y-3\">\n                    <div className=\"flex items-center justify-center gap-2 rounded-xl gradient-fire p-4\">\n                      <Circle className=\"h-3 w-3 animate-pulse fill-white text-white\" />\n                      <span className=\"font-bold text-white\">\n                        LIVE - {formatDuration(duration)}\n                      </span>\n                    </div>\n                    <Button\n                      variant=\"outline\"\n                      className=\"w-full border-[var(--accent-red)] text-[var(--accent-red)] hover:bg-[var(--accent-red)]/10\"\n                      size=\"lg\"\n                      onClick={handleStopBroadcast}\n                    >\n                      <Square className=\"mr-2 h-5 w-5\" />\n                      Stop Broadcast\n                    </Button>\n                  </div>\n                )}\n\n                {isRecording && (\n                  <div className=\"flex items-center justify-between rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-color)] p-3\">\n                    <div className=\"flex items-center gap-2\">\n                      <Circle className=\"h-3 w-3 fill-[var(--accent-red)] text-[var(--accent-red)]\" />\n                      <span className=\"text-sm font-medium\">Recording</span>\n                    </div>\n                    <span className=\"text-sm text-[var(--text-muted)] font-mono\">\n                      {formatDuration(duration)}\n                    </span>\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n\n            {/* Recorded Audio */}\n            {recordedBlob && (\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"text-base\">Recording</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-3\">\n                  <audio\n                    controls\n                    className=\"w-full\"\n                    src={URL.createObjectURL(recordedBlob)}\n                  />\n                  <div className=\"flex gap-2\">\n                    <Button variant=\"outline\" size=\"sm\" onClick={handleDownloadRecording}>\n                      <Download className=\"mr-1 h-4 w-4\" />\n                      Download\n                    </Button>\n                    <Button size=\"sm\" onClick={handleSaveRecording} isLoading={saving}>\n                      <Upload className=\"mr-1 h-4 w-4\" />\n                      Save\n                    </Button>\n                  </div>\n                </CardContent>\n              </Card>\n            )}\n\n            {/* Quick Stats */}\n            <Card>\n              <CardContent className=\"p-4\">\n                <div className=\"space-y-3 text-sm\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-[var(--text-muted)]\">Status</span>\n                    <Badge variant={displayedIsCapturing ? \"success\" : \"secondary\"}>\n                      {displayedIsCapturing ? \"Active\" : \"Inactive\"}\n                    </Badge>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-[var(--text-muted)]\">Broadcast</span>\n                    <Badge variant={broadcasting ? \"destructive\" : \"secondary\"}>\n                      {broadcasting ? \"Live\" : \"Off\"}\n                    </Badge>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-[var(--text-muted)]\">Devices</span>\n                    <span className=\"font-semibold text-[var(--text-primary)]\">{safeSelectedDevices.length} selected</span>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Debug Info (Dev only) */}\n            {isDev && (\n              <Card>\n                <CardHeader className=\"py-3\">\n                  <CardTitle className=\"text-xs text-[var(--text-muted)]\">Debug</CardTitle>\n                </CardHeader>\n                <CardContent className=\"py-0 pb-3 overflow-x-auto\">\n                  <div className=\"space-y-1 text-xs font-mono text-[var(--text-muted)] min-w-0\">\n                    <div className=\"truncate\" title={safeSelectedDevices.join(', ')}>\n                      Devices: {safeSelectedDevices.length > 0 ? safeSelectedDevices.join(', ') : 'None'}\n                    </div>\n                    <div className=\"truncate\" title={selectedInputDevice || 'Default'}>\n                      Input: {selectedInputDevice || 'Default'}\n                    </div>\n                    <div>Monitoring: {displayedIsCapturing ? 'Active' : 'Stopped'}</div>\n                  </div>\n                </CardContent>\n              </Card>\n            )}\n          </div>\n        </div>\n\n        {/* Activity Log - Full Width */}\n        <AudioLogViewer />\n      </div>\n    </AppLayout>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}